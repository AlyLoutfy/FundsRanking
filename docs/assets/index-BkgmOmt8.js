function Iv(i,a){for(var r=0;r<a.length;r++){const l=a[r];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in i)){const d=Object.getOwnPropertyDescriptor(l,u);d&&Object.defineProperty(i,u,d.get?d:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=r(u);fetch(u.href,d)}})();function ug(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Pv(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var a=i.default;if(typeof a=="function"){var r=function l(){var u=!1;try{u=this instanceof l}catch{}return u?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};r.prototype=a.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(i).forEach(function(l){var u=Object.getOwnPropertyDescriptor(i,l);Object.defineProperty(r,l,u.get?u:{enumerable:!0,get:function(){return i[l]}})}),r}var jc={exports:{}},ti={};var mp;function Fv(){if(mp)return ti;mp=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(l,u,d){var f=null;if(d!==void 0&&(f=""+d),u.key!==void 0&&(f=""+u.key),"key"in u){d={};for(var p in u)p!=="key"&&(d[p]=u[p])}else d=u;return u=d.ref,{$$typeof:i,type:l,key:f,ref:u!==void 0?u:null,props:d}}return ti.Fragment=a,ti.jsx=r,ti.jsxs=r,ti}var pp;function Qv(){return pp||(pp=1,jc.exports=Fv()),jc.exports}var o=Qv(),Sc={exports:{}},ge={};var gp;function Xv(){if(gp)return ge;gp=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function N(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function M(E,V,P){this.props=E,this.context=V,this.refs=R,this.updater=P||S}M.prototype.isReactComponent={},M.prototype.setState=function(E,V){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,V,"setState")},M.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function O(){}O.prototype=M.prototype;function k(E,V,P){this.props=E,this.context=V,this.refs=R,this.updater=P||S}var X=k.prototype=new O;X.constructor=k,C(X,M.prototype),X.isPureReactComponent=!0;var ie=Array.isArray;function le(){}var Q={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function re(E,V,P){var J=P.ref;return{$$typeof:i,type:E,key:V,ref:J!==void 0?J:null,props:P}}function Ne(E,V){return re(E.type,V,E.props)}function we(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function pe(E){var V={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(P){return V[P]})}var _e=/\/+/g;function ee(E,V){return typeof E=="object"&&E!==null&&E.key!=null?pe(""+E.key):V.toString(36)}function Re(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(le,le):(E.status="pending",E.then(function(V){E.status==="pending"&&(E.status="fulfilled",E.value=V)},function(V){E.status==="pending"&&(E.status="rejected",E.reason=V)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function q(E,V,P,J,oe){var xe=typeof E;(xe==="undefined"||xe==="boolean")&&(E=null);var Ee=!1;if(E===null)Ee=!0;else switch(xe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(E.$$typeof){case i:case a:Ee=!0;break;case x:return Ee=E._init,q(Ee(E._payload),V,P,J,oe)}}if(Ee)return oe=oe(E),Ee=J===""?"."+ee(E,0):J,ie(oe)?(P="",Ee!=null&&(P=Ee.replace(_e,"$&/")+"/"),q(oe,V,P,"",function(_a){return _a})):oe!=null&&(we(oe)&&(oe=Ne(oe,P+(oe.key==null||E&&E.key===oe.key?"":(""+oe.key).replace(_e,"$&/")+"/")+Ee)),V.push(oe)),1;Ee=0;var ht=J===""?".":J+":";if(ie(E))for(var He=0;He<E.length;He++)J=E[He],xe=ht+ee(J,He),Ee+=q(J,V,P,xe,oe);else if(He=N(E),typeof He=="function")for(E=He.call(E),He=0;!(J=E.next()).done;)J=J.value,xe=ht+ee(J,He++),Ee+=q(J,V,P,xe,oe);else if(xe==="object"){if(typeof E.then=="function")return q(Re(E),V,P,J,oe);throw V=String(E),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function Y(E,V,P){if(E==null)return E;var J=[],oe=0;return q(E,J,"","",function(xe){return V.call(P,xe,oe++)}),J}function te(E){if(E._status===-1){var V=E._result;V=V(),V.then(function(P){(E._status===0||E._status===-1)&&(E._status=1,E._result=P)},function(P){(E._status===0||E._status===-1)&&(E._status=2,E._result=P)}),E._status===-1&&(E._status=0,E._result=V)}if(E._status===1)return E._result.default;throw E._result}var ye=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},Z={map:Y,forEach:function(E,V,P){Y(E,function(){V.apply(this,arguments)},P)},count:function(E){var V=0;return Y(E,function(){V++}),V},toArray:function(E){return Y(E,function(V){return V})||[]},only:function(E){if(!we(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return ge.Activity=b,ge.Children=Z,ge.Component=M,ge.Fragment=r,ge.Profiler=u,ge.PureComponent=k,ge.StrictMode=l,ge.Suspense=m,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ge.__COMPILER_RUNTIME={__proto__:null,c:function(E){return Q.H.useMemoCache(E)}},ge.cache=function(E){return function(){return E.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(E,V,P){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var J=C({},E.props),oe=E.key;if(V!=null)for(xe in V.key!==void 0&&(oe=""+V.key),V)!I.call(V,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&V.ref===void 0||(J[xe]=V[xe]);var xe=arguments.length-2;if(xe===1)J.children=P;else if(1<xe){for(var Ee=Array(xe),ht=0;ht<xe;ht++)Ee[ht]=arguments[ht+2];J.children=Ee}return re(E.type,oe,J)},ge.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:d,_context:E},E},ge.createElement=function(E,V,P){var J,oe={},xe=null;if(V!=null)for(J in V.key!==void 0&&(xe=""+V.key),V)I.call(V,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(oe[J]=V[J]);var Ee=arguments.length-2;if(Ee===1)oe.children=P;else if(1<Ee){for(var ht=Array(Ee),He=0;He<Ee;He++)ht[He]=arguments[He+2];oe.children=ht}if(E&&E.defaultProps)for(J in Ee=E.defaultProps,Ee)oe[J]===void 0&&(oe[J]=Ee[J]);return re(E,xe,oe)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(E){return{$$typeof:p,render:E}},ge.isValidElement=we,ge.lazy=function(E){return{$$typeof:x,_payload:{_status:-1,_result:E},_init:te}},ge.memo=function(E,V){return{$$typeof:g,type:E,compare:V===void 0?null:V}},ge.startTransition=function(E){var V=Q.T,P={};Q.T=P;try{var J=E(),oe=Q.S;oe!==null&&oe(P,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(le,ye)}catch(xe){ye(xe)}finally{V!==null&&P.types!==null&&(V.types=P.types),Q.T=V}},ge.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ge.use=function(E){return Q.H.use(E)},ge.useActionState=function(E,V,P){return Q.H.useActionState(E,V,P)},ge.useCallback=function(E,V){return Q.H.useCallback(E,V)},ge.useContext=function(E){return Q.H.useContext(E)},ge.useDebugValue=function(){},ge.useDeferredValue=function(E,V){return Q.H.useDeferredValue(E,V)},ge.useEffect=function(E,V){return Q.H.useEffect(E,V)},ge.useEffectEvent=function(E){return Q.H.useEffectEvent(E)},ge.useId=function(){return Q.H.useId()},ge.useImperativeHandle=function(E,V,P){return Q.H.useImperativeHandle(E,V,P)},ge.useInsertionEffect=function(E,V){return Q.H.useInsertionEffect(E,V)},ge.useLayoutEffect=function(E,V){return Q.H.useLayoutEffect(E,V)},ge.useMemo=function(E,V){return Q.H.useMemo(E,V)},ge.useOptimistic=function(E,V){return Q.H.useOptimistic(E,V)},ge.useReducer=function(E,V,P){return Q.H.useReducer(E,V,P)},ge.useRef=function(E){return Q.H.useRef(E)},ge.useState=function(E){return Q.H.useState(E)},ge.useSyncExternalStore=function(E,V,P){return Q.H.useSyncExternalStore(E,V,P)},ge.useTransition=function(){return Q.H.useTransition()},ge.version="19.2.0",ge}var yp;function ad(){return yp||(yp=1,Sc.exports=Xv()),Sc.exports}var j=ad();const Xa=ug(j);var Nc={exports:{}},ni={},Ec={exports:{}},Tc={};var vp;function Jv(){return vp||(vp=1,(function(i){function a(q,Y){var te=q.length;q.push(Y);e:for(;0<te;){var ye=te-1>>>1,Z=q[ye];if(0<u(Z,Y))q[ye]=Y,q[te]=Z,te=ye;else break e}}function r(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var Y=q[0],te=q.pop();if(te!==Y){q[0]=te;e:for(var ye=0,Z=q.length,E=Z>>>1;ye<E;){var V=2*(ye+1)-1,P=q[V],J=V+1,oe=q[J];if(0>u(P,te))J<Z&&0>u(oe,P)?(q[ye]=oe,q[J]=te,ye=J):(q[ye]=P,q[V]=te,ye=V);else if(J<Z&&0>u(oe,te))q[ye]=oe,q[J]=te,ye=J;else break e}}return Y}function u(q,Y){var te=q.sortIndex-Y.sortIndex;return te!==0?te:q.id-Y.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var m=[],g=[],x=1,b=null,_=3,N=!1,S=!1,C=!1,R=!1,M=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function X(q){for(var Y=r(g);Y!==null;){if(Y.callback===null)l(g);else if(Y.startTime<=q)l(g),Y.sortIndex=Y.expirationTime,a(m,Y);else break;Y=r(g)}}function ie(q){if(C=!1,X(q),!S)if(r(m)!==null)S=!0,le||(le=!0,pe());else{var Y=r(g);Y!==null&&Re(ie,Y.startTime-q)}}var le=!1,Q=-1,I=5,re=-1;function Ne(){return R?!0:!(i.unstable_now()-re<I)}function we(){if(R=!1,le){var q=i.unstable_now();re=q;var Y=!0;try{e:{S=!1,C&&(C=!1,O(Q),Q=-1),N=!0;var te=_;try{t:{for(X(q),b=r(m);b!==null&&!(b.expirationTime>q&&Ne());){var ye=b.callback;if(typeof ye=="function"){b.callback=null,_=b.priorityLevel;var Z=ye(b.expirationTime<=q);if(q=i.unstable_now(),typeof Z=="function"){b.callback=Z,X(q),Y=!0;break t}b===r(m)&&l(m),X(q)}else l(m);b=r(m)}if(b!==null)Y=!0;else{var E=r(g);E!==null&&Re(ie,E.startTime-q),Y=!1}}break e}finally{b=null,_=te,N=!1}Y=void 0}}finally{Y?pe():le=!1}}}var pe;if(typeof k=="function")pe=function(){k(we)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,ee=_e.port2;_e.port1.onmessage=we,pe=function(){ee.postMessage(null)}}else pe=function(){M(we,0)};function Re(q,Y){Q=M(function(){q(i.unstable_now())},Y)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(q){switch(_){case 1:case 2:case 3:var Y=3;break;default:Y=_}var te=_;_=Y;try{return q()}finally{_=te}},i.unstable_requestPaint=function(){R=!0},i.unstable_runWithPriority=function(q,Y){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var te=_;_=q;try{return Y()}finally{_=te}},i.unstable_scheduleCallback=function(q,Y,te){var ye=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ye+te:ye):te=ye,q){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=te+Z,q={id:x++,callback:Y,priorityLevel:q,startTime:te,expirationTime:Z,sortIndex:-1},te>ye?(q.sortIndex=te,a(g,q),r(m)===null&&q===r(g)&&(C?(O(Q),Q=-1):C=!0,Re(ie,te-ye))):(q.sortIndex=Z,a(m,q),S||N||(S=!0,le||(le=!0,pe()))),q},i.unstable_shouldYield=Ne,i.unstable_wrapCallback=function(q){var Y=_;return function(){var te=_;_=Y;try{return q.apply(this,arguments)}finally{_=te}}}})(Tc)),Tc}var xp;function Zv(){return xp||(xp=1,Ec.exports=Jv()),Ec.exports}var Ac={exports:{}},xt={};var bp;function Wv(){if(bp)return xt;bp=1;var i=ad();function a(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(m,g,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:m,containerInfo:g,implementation:x}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,xt.createPortal=function(m,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return d(m,g,null,x)},xt.flushSync=function(m){var g=f.T,x=l.p;try{if(f.T=null,l.p=2,m)return m()}finally{f.T=g,l.p=x,l.d.f()}},xt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(m,g))},xt.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},xt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var x=g.as,b=p(x,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?l.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:N}):x==="script"&&l.d.X(m,{crossOrigin:b,integrity:_,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},xt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=p(g.as,g.crossOrigin);l.d.M(m,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(m)},xt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,b=p(x,g.crossOrigin);l.d.L(m,x,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},xt.preloadModule=function(m,g){if(typeof m=="string")if(g){var x=p(g.as,g.crossOrigin);l.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(m)},xt.requestFormReset=function(m){l.d.r(m)},xt.unstable_batchedUpdates=function(m,g){return m(g)},xt.useFormState=function(m,g,x){return f.H.useFormState(m,g,x)},xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},xt.version="19.2.0",xt}var wp;function ex(){if(wp)return Ac.exports;wp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),Ac.exports=Wv(),Ac.exports}var _p;function tx(){if(_p)return ni;_p=1;var i=Zv(),a=ad(),r=ex();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(l(188))}function g(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,s=t;;){var c=n.return;if(c===null)break;var h=c.alternate;if(h===null){if(s=c.return,s!==null){n=s;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===n)return m(c),e;if(h===s)return m(c),t;h=h.sibling}throw Error(l(188))}if(n.return!==s.return)n=c,s=h;else{for(var y=!1,w=c.child;w;){if(w===n){y=!0,n=c,s=h;break}if(w===s){y=!0,s=c,n=h;break}w=w.sibling}if(!y){for(w=h.child;w;){if(w===n){y=!0,n=h,s=c;break}if(w===s){y=!0,s=h,n=c;break}w=w.sibling}if(!y)throw Error(l(189))}}if(n.alternate!==s)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),k=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function pe(e){return e===null||typeof e!="object"?null:(e=we&&e[we]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_e?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case M:return"Profiler";case R:return"StrictMode";case ie:return"Suspense";case le:return"SuspenseList";case re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case k:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:ee(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return ee(e(t))}catch{}}return null}var Re=Array.isArray,q=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ye=[],Z=-1;function E(e){return{current:e}}function V(e){0>Z||(e.current=ye[Z],ye[Z]=null,Z--)}function P(e,t){Z++,ye[Z]=e.current,e.current=t}var J=E(null),oe=E(null),xe=E(null),Ee=E(null);function ht(e,t){switch(P(xe,t),P(oe,e),P(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Lm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Lm(t),e=Bm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(J),P(J,e)}function He(){V(J),V(oe),V(xe)}function _a(e){e.memoizedState!==null&&P(Ee,e);var t=J.current,n=Bm(t,e.type);t!==n&&(P(oe,e),P(J,n))}function ja(e){oe.current===e&&(V(J),V(oe)),Ee.current===e&&(V(Ee),Js._currentValue=te)}var Pn,Sa;function vt(e){if(Pn===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Pn=t&&t[1]||"",Sa=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pn+e+Sa}var is=!1;function ls(e,t){if(!e||is)return"";is=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var L=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){L=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){L=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&L&&typeof B.stack=="string")return[B.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),y=h[0],w=h[1];if(y&&w){var T=y.split(`
`),z=w.split(`
`);for(c=s=0;s<T.length&&!T[s].includes("DetermineComponentFrameRoot");)s++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(s===T.length||c===z.length)for(s=T.length-1,c=z.length-1;1<=s&&0<=c&&T[s]!==z[c];)c--;for(;1<=s&&0<=c;s--,c--)if(T[s]!==z[c]){if(s!==1||c!==1)do if(s--,c--,0>c||T[s]!==z[c]){var $=`
`+T[s].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=s&&0<=c);break}}}finally{is=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?vt(n):""}function Wa(e,t){switch(e.tag){case 26:case 27:case 5:return vt(e.type);case 16:return vt("Lazy");case 13:return e.child!==t&&t!==null?vt("Suspense Fallback"):vt("Suspense");case 19:return vt("SuspenseList");case 0:case 15:return ls(e.type,!1);case 11:return ls(e.type.render,!1);case 1:return ls(e.type,!0);case 31:return vt("Activity");default:return""}}function sn(e){try{var t="",n=null;do t+=Wa(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var os=Object.prototype.hasOwnProperty,us=i.unstable_scheduleCallback,er=i.unstable_cancelCallback,io=i.unstable_shouldYield,lo=i.unstable_requestPaint,wt=i.unstable_now,oo=i.unstable_getCurrentPriorityLevel,cs=i.unstable_ImmediatePriority,xi=i.unstable_UserBlockingPriority,Na=i.unstable_NormalPriority,uo=i.unstable_LowPriority,bi=i.unstable_IdlePriority,co=i.log,ho=i.unstable_setDisableYieldValue,Fn=null,_t=null;function yn(e){if(typeof co=="function"&&ho(e),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(Fn,e)}catch{}}var jt=Math.clz32?Math.clz32:_d,fo=Math.log,wi=Math.LN2;function _d(e){return e>>>=0,e===0?32:31-(fo(e)/wi|0)|0}var tr=256,nr=262144,Ct=4194304;function jn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function v(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var c=0,h=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var w=s&134217727;return w!==0?(s=w&~h,s!==0?c=jn(s):(y&=w,y!==0?c=jn(y):n||(n=w&~e,n!==0&&(c=jn(n))))):(w=s&~h,w!==0?c=jn(w):y!==0?c=jn(y):n||(n=s&~e,n!==0&&(c=jn(n)))),c===0?0:t!==0&&t!==c&&(t&h)===0&&(h=c&-c,n=t&-t,h>=n||h===32&&(n&4194048)!==0)?t:c}function H(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function W(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function me(){var e=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),e}function F(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function De(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Kt(e,t,n,s,c,h){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var w=e.entanglements,T=e.expirationTimes,z=e.hiddenUpdates;for(n=y&~n;0<n;){var $=31-jt(n),K=1<<$;w[$]=0,T[$]=-1;var L=z[$];if(L!==null)for(z[$]=null,$=0;$<L.length;$++){var B=L[$];B!==null&&(B.lane&=-536870913)}n&=~K}s!==0&&Ke(e,s,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(y&~t))}function Ke(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-jt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function lt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-jt(n),c=1<<s;c&t|e[s]&t&&(e[s]|=t),n&=~c}}function ln(e,t){var n=t&-t;return n=(n&42)!==0?1:Sn(n),(n&(e.suspendedLanes|t))!==0?0:n}function Sn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ar(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Dt(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:lp(e.type))}function ds(e,t){var n=Y.p;try{return Y.p=e,t()}finally{Y.p=n}}var on=Math.random().toString(36).slice(2),Le="__reactFiber$"+on,Nt="__reactProps$"+on,rr="__reactContainer$"+on,mo="__reactEvents$"+on,Uy="__reactListeners$"+on,zy="__reactHandles$"+on,jd="__reactResources$"+on,hs="__reactMarker$"+on;function po(e){delete e[Le],delete e[Nt],delete e[mo],delete e[Uy],delete e[zy]}function sr(e){var t=e[Le];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rr]||n[Le]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Km(e);e!==null;){if(n=e[Le])return n;e=Km(e)}return t}e=n,n=e.parentNode}return null}function ir(e){if(e=e[Le]||e[rr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function fs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function lr(e){var t=e[jd];return t||(t=e[jd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ct(e){e[hs]=!0}var Sd=new Set,Nd={};function Ea(e,t){or(e,t),or(e+"Capture",t)}function or(e,t){for(Nd[e]=t,e=0;e<t.length;e++)Sd.add(t[e])}var Ly=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ed={},Td={};function By(e){return os.call(Td,e)?!0:os.call(Ed,e)?!1:Ly.test(e)?Td[e]=!0:(Ed[e]=!0,!1)}function _i(e,t,n){if(By(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ji(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Nn(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ad(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qy(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,h=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(y){n=""+y,h.call(this,y)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function go(e){if(!e._valueTracker){var t=Ad(e)?"checked":"value";e._valueTracker=qy(e,t,""+e[t])}}function Od(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Ad(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hy=/[\n"\\]/g;function Pt(e){return e.replace(Hy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function yo(e,t,n,s,c,h,y,w){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+It(t)):e.value!==""+It(t)&&(e.value=""+It(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?vo(e,y,It(t)):n!=null?vo(e,y,It(n)):s!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+It(w):e.removeAttribute("name")}function Rd(e,t,n,s,c,h,y,w){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||n!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){go(e);return}n=n!=null?""+It(n):"",t=t!=null?""+It(t):n,w||t===e.value||(e.value=t),e.defaultValue=t}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=w?e.checked:!!s,e.defaultChecked=!!s,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),go(e)}function vo(e,t,n){t==="number"&&Si(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ur(e,t,n,s){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&s&&(e[n].defaultSelected=!0)}else{for(n=""+It(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function kd(e,t,n){if(t!=null&&(t=""+It(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+It(n):""}function Cd(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(l(92));if(Re(s)){if(1<s.length)throw Error(l(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=It(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),go(e)}function cr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $y=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dd(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||$y.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Md(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var c in t)s=t[c],t.hasOwnProperty(c)&&n[c]!==s&&Dd(e,c,s)}else for(var h in t)t.hasOwnProperty(h)&&Dd(e,h,t[h])}function xo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ni(e){return Yy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function En(){}var bo=null;function wo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dr=null,hr=null;function Ud(e){var t=ir(e);if(t&&(e=t.stateNode)){var n=e[Nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(yo(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var c=s[Nt]||null;if(!c)throw Error(l(90));yo(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&Od(s)}break e;case"textarea":kd(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ur(e,!!n.multiple,t,!1)}}}var _o=!1;function zd(e,t,n){if(_o)return e(t,n);_o=!0;try{var s=e(t);return s}finally{if(_o=!1,(dr!==null||hr!==null)&&(hl(),dr&&(t=dr,e=hr,hr=dr=null,Ud(t),e)))for(t=0;t<e.length;t++)Ud(e[t])}}function ms(e,t){var n=e.stateNode;if(n===null)return null;var s=n[Nt]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jo=!1;if(Tn)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){jo=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{jo=!1}var Qn=null,So=null,Ei=null;function Ld(){if(Ei)return Ei;var e,t=So,n=t.length,s,c="value"in Qn?Qn.value:Qn.textContent,h=c.length;for(e=0;e<n&&t[e]===c[e];e++);var y=n-e;for(s=1;s<=y&&t[n-s]===c[h-s];s++);return Ei=c.slice(e,1<s?1-s:void 0)}function Ti(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function Bd(){return!1}function Et(e){function t(n,s,c,h,y){this._reactName=n,this._targetInst=c,this.type=s,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(n=e[w],this[w]=n?n(h):h[w]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ai:Bd,this.isPropagationStopped=Bd,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),t}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=Et(Ta),gs=b({},Ta,{view:0,detail:0}),Gy=Et(gs),No,Eo,ys,Ri=b({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ao,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ys&&(ys&&e.type==="mousemove"?(No=e.screenX-ys.screenX,Eo=e.screenY-ys.screenY):Eo=No=0,ys=e),No)},movementY:function(e){return"movementY"in e?e.movementY:Eo}}),qd=Et(Ri),Ky=b({},Ri,{dataTransfer:0}),Iy=Et(Ky),Py=b({},gs,{relatedTarget:0}),To=Et(Py),Fy=b({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),Qy=Et(Fy),Xy=b({},Ta,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jy=Et(Xy),Zy=b({},Ta,{data:0}),Hd=Et(Zy),Wy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=t0[e])?!!t[e]:!1}function Ao(){return n0}var a0=b({},gs,{key:function(e){if(e.key){var t=Wy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?e0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ao,charCode:function(e){return e.type==="keypress"?Ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),r0=Et(a0),s0=b({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=Et(s0),i0=b({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ao}),l0=Et(i0),o0=b({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),u0=Et(o0),c0=b({},Ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),d0=Et(c0),h0=b({},Ta,{newState:0,oldState:0}),f0=Et(h0),m0=[9,13,27,32],Oo=Tn&&"CompositionEvent"in window,vs=null;Tn&&"documentMode"in document&&(vs=document.documentMode);var p0=Tn&&"TextEvent"in window&&!vs,Vd=Tn&&(!Oo||vs&&8<vs&&11>=vs),Yd=" ",Gd=!1;function Kd(e,t){switch(e){case"keyup":return m0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function g0(e,t){switch(e){case"compositionend":return Id(t);case"keypress":return t.which!==32?null:(Gd=!0,Yd);case"textInput":return e=t.data,e===Yd&&Gd?null:e;default:return null}}function y0(e,t){if(fr)return e==="compositionend"||!Oo&&Kd(e,t)?(e=Ld(),Ei=So=Qn=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vd&&t.locale!=="ko"?null:t.data;default:return null}}var v0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!v0[e.type]:t==="textarea"}function Fd(e,t,n,s){dr?hr?hr.push(s):hr=[s]:dr=s,t=xl(t,"onChange"),0<t.length&&(n=new Oi("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var xs=null,bs=null;function x0(e){km(e,0)}function ki(e){var t=fs(e);if(Od(t))return e}function Qd(e,t){if(e==="change")return t}var Xd=!1;if(Tn){var Ro;if(Tn){var ko="oninput"in document;if(!ko){var Jd=document.createElement("div");Jd.setAttribute("oninput","return;"),ko=typeof Jd.oninput=="function"}Ro=ko}else Ro=!1;Xd=Ro&&(!document.documentMode||9<document.documentMode)}function Zd(){xs&&(xs.detachEvent("onpropertychange",Wd),bs=xs=null)}function Wd(e){if(e.propertyName==="value"&&ki(bs)){var t=[];Fd(t,bs,e,wo(e)),zd(x0,t)}}function b0(e,t,n){e==="focusin"?(Zd(),xs=t,bs=n,xs.attachEvent("onpropertychange",Wd)):e==="focusout"&&Zd()}function w0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ki(bs)}function _0(e,t){if(e==="click")return ki(t)}function j0(e,t){if(e==="input"||e==="change")return ki(t)}function S0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:S0;function ws(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var c=n[s];if(!os.call(t,c)||!Mt(e[c],t[c]))return!1}return!0}function eh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function th(e,t){var n=eh(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eh(n)}}function nh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ah(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Si(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Si(e.document)}return t}function Co(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var N0=Tn&&"documentMode"in document&&11>=document.documentMode,mr=null,Do=null,_s=null,Mo=!1;function rh(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mo||mr==null||mr!==Si(s)||(s=mr,"selectionStart"in s&&Co(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),_s&&ws(_s,s)||(_s=s,s=xl(Do,"onSelect"),0<s.length&&(t=new Oi("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=mr)))}function Aa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},Uo={},sh={};Tn&&(sh=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function Oa(e){if(Uo[e])return Uo[e];if(!pr[e])return e;var t=pr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sh)return Uo[e]=t[n];return e}var ih=Oa("animationend"),lh=Oa("animationiteration"),oh=Oa("animationstart"),E0=Oa("transitionrun"),T0=Oa("transitionstart"),A0=Oa("transitioncancel"),uh=Oa("transitionend"),ch=new Map,zo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zo.push("scrollEnd");function un(e,t){ch.set(e,t),Ea(t,[e])}var Ci=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ft=[],gr=0,Lo=0;function Di(){for(var e=gr,t=Lo=gr=0;t<e;){var n=Ft[t];Ft[t++]=null;var s=Ft[t];Ft[t++]=null;var c=Ft[t];Ft[t++]=null;var h=Ft[t];if(Ft[t++]=null,s!==null&&c!==null){var y=s.pending;y===null?c.next=c:(c.next=y.next,y.next=c),s.pending=c}h!==0&&dh(n,c,h)}}function Mi(e,t,n,s){Ft[gr++]=e,Ft[gr++]=t,Ft[gr++]=n,Ft[gr++]=s,Lo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Bo(e,t,n,s){return Mi(e,t,n,s),Ui(e)}function Ra(e,t){return Mi(e,null,null,t),Ui(e)}function dh(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var c=!1,h=e.return;h!==null;)h.childLanes|=n,s=h.alternate,s!==null&&(s.childLanes|=n),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&t!==null&&(c=31-jt(n),e=h.hiddenUpdates,s=e[c],s===null?e[c]=[t]:s.push(t),t.lane=n|536870912),h):null}function Ui(e){if(50<Gs)throw Gs=0,Pu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var yr={};function O0(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,n,s){return new O0(e,t,n,s)}function qo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function An(e,t){var n=e.alternate;return n===null?(n=Ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function hh(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zi(e,t,n,s,c,h){var y=0;if(s=e,typeof e=="function")qo(e)&&(y=1);else if(typeof e=="string")y=Mv(e,n,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case re:return e=Ut(31,n,t,c),e.elementType=re,e.lanes=h,e;case C:return ka(n.children,c,h,t);case R:y=8,c|=24;break;case M:return e=Ut(12,n,t,c|2),e.elementType=M,e.lanes=h,e;case ie:return e=Ut(13,n,t,c),e.elementType=ie,e.lanes=h,e;case le:return e=Ut(19,n,t,c),e.elementType=le,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:y=10;break e;case O:y=9;break e;case X:y=11;break e;case Q:y=14;break e;case I:y=16,s=null;break e}y=29,n=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=Ut(y,n,t,c),t.elementType=e,t.type=s,t.lanes=h,t}function ka(e,t,n,s){return e=Ut(7,e,s,t),e.lanes=n,e}function Ho(e,t,n){return e=Ut(6,e,null,t),e.lanes=n,e}function fh(e){var t=Ut(18,null,null,0);return t.stateNode=e,t}function $o(e,t,n){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var mh=new WeakMap;function Qt(e,t){if(typeof e=="object"&&e!==null){var n=mh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:sn(t)},mh.set(e,t),t)}return{value:e,source:t,stack:sn(t)}}var vr=[],xr=0,Li=null,js=0,Xt=[],Jt=0,Xn=null,vn=1,xn="";function On(e,t){vr[xr++]=js,vr[xr++]=Li,Li=e,js=t}function ph(e,t,n){Xt[Jt++]=vn,Xt[Jt++]=xn,Xt[Jt++]=Xn,Xn=e;var s=vn;e=xn;var c=32-jt(s)-1;s&=~(1<<c),n+=1;var h=32-jt(t)+c;if(30<h){var y=c-c%5;h=(s&(1<<y)-1).toString(32),s>>=y,c-=y,vn=1<<32-jt(t)+c|n<<c|s,xn=h+e}else vn=1<<h|n<<c|s,xn=e}function Vo(e){e.return!==null&&(On(e,1),ph(e,1,0))}function Yo(e){for(;e===Li;)Li=vr[--xr],vr[xr]=null,js=vr[--xr],vr[xr]=null;for(;e===Xn;)Xn=Xt[--Jt],Xt[Jt]=null,xn=Xt[--Jt],Xt[Jt]=null,vn=Xt[--Jt],Xt[Jt]=null}function gh(e,t){Xt[Jt++]=vn,Xt[Jt++]=xn,Xt[Jt++]=Xn,vn=t.id,xn=t.overflow,Xn=e}var ft=null,Pe=null,ke=!1,Jn=null,Zt=!1,Go=Error(l(519));function Zn(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ss(Qt(t,e)),Go}function yh(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[Le]=e,t[Nt]=s,n){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(n=0;n<Is.length;n++)Se(Is[n],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),Rd(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),Cd(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||Um(t.textContent,n)?(s.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),s.onScroll!=null&&Se("scroll",t),s.onScrollEnd!=null&&Se("scrollend",t),s.onClick!=null&&(t.onclick=En),t=!0):t=!1,t||Zn(e,!0)}function vh(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:ft=ft.return}}function br(e){if(e!==ft)return!1;if(!ke)return vh(e),ke=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||oc(e.type,e.memoizedProps)),n=!n),n&&Pe&&Zn(e),vh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Pe=Gm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Pe=Gm(e)}else t===27?(t=Pe,ha(e.type)?(e=fc,fc=null,Pe=e):Pe=t):Pe=ft?en(e.stateNode.nextSibling):null;return!0}function Ca(){Pe=ft=null,ke=!1}function Ko(){var e=Jn;return e!==null&&(Rt===null?Rt=e:Rt.push.apply(Rt,e),Jn=null),e}function Ss(e){Jn===null?Jn=[e]:Jn.push(e)}var Io=E(null),Da=null,Rn=null;function Wn(e,t,n){P(Io,t._currentValue),t._currentValue=n}function kn(e){e._currentValue=Io.current,V(Io)}function Po(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Fo(e,t,n,s){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var y=c.child;h=h.firstContext;e:for(;h!==null;){var w=h;h=c;for(var T=0;T<t.length;T++)if(w.context===t[T]){h.lanes|=n,w=h.alternate,w!==null&&(w.lanes|=n),Po(h.return,n,e),s||(y=null);break e}h=w.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(l(341));y.lanes|=n,h=y.alternate,h!==null&&(h.lanes|=n),Po(y,n,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function wr(e,t,n,s){e=null;for(var c=t,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var w=c.type;Mt(c.pendingProps.value,y.value)||(e!==null?e.push(w):e=[w])}}else if(c===Ee.current){if(y=c.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Js):e=[Js])}c=c.return}e!==null&&Fo(t,e,n,s),t.flags|=262144}function Bi(e){for(e=e.firstContext;e!==null;){if(!Mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ma(e){Da=e,Rn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mt(e){return xh(Da,e)}function qi(e,t){return Da===null&&Ma(e),xh(e,t)}function xh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Rn===null){if(e===null)throw Error(l(308));Rn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Rn=Rn.next=t;return n}var R0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},k0=i.unstable_scheduleCallback,C0=i.unstable_NormalPriority,nt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qo(){return{controller:new R0,data:new Map,refCount:0}}function Ns(e){e.refCount--,e.refCount===0&&k0(C0,function(){e.controller.abort()})}var Es=null,Xo=0,_r=0,jr=null;function D0(e,t){if(Es===null){var n=Es=[];Xo=0,_r=Wu(),jr={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Xo++,t.then(bh,bh),t}function bh(){if(--Xo===0&&Es!==null){jr!==null&&(jr.status="fulfilled");var e=Es;Es=null,_r=0,jr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function M0(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(s.status="rejected",s.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),s}var wh=q.S;q.S=function(e,t){sm=wt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&D0(e,t),wh!==null&&wh(e,t)};var Ua=E(null);function Jo(){var e=Ua.current;return e!==null?e:Ge.pooledCache}function Hi(e,t){t===null?P(Ua,Ua.current):P(Ua,t.pool)}function _h(){var e=Jo();return e===null?null:{parent:nt._currentValue,pool:e}}var Sr=Error(l(460)),Zo=Error(l(474)),$i=Error(l(542)),Vi={then:function(){}};function jh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(En,En),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Eh(e),e;default:if(typeof t.status=="string")t.then(En,En);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=s}},function(s){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Eh(e),e}throw La=t,Sr}}function za(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(La=n,Sr):n}}var La=null;function Nh(){if(La===null)throw Error(l(459));var e=La;return La=null,e}function Eh(e){if(e===Sr||e===$i)throw Error(l(483))}var Nr=null,Ts=0;function Yi(e){var t=Ts;return Ts+=1,Nr===null&&(Nr=[]),Sh(Nr,e,t)}function As(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Gi(e,t){throw t.$$typeof===_?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Th(e){function t(D,A){if(e){var U=D.deletions;U===null?(D.deletions=[A],D.flags|=16):U.push(A)}}function n(D,A){if(!e)return null;for(;A!==null;)t(D,A),A=A.sibling;return null}function s(D){for(var A=new Map;D!==null;)D.key!==null?A.set(D.key,D):A.set(D.index,D),D=D.sibling;return A}function c(D,A){return D=An(D,A),D.index=0,D.sibling=null,D}function h(D,A,U){return D.index=U,e?(U=D.alternate,U!==null?(U=U.index,U<A?(D.flags|=67108866,A):U):(D.flags|=67108866,A)):(D.flags|=1048576,A)}function y(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function w(D,A,U,G){return A===null||A.tag!==6?(A=Ho(U,D.mode,G),A.return=D,A):(A=c(A,U),A.return=D,A)}function T(D,A,U,G){var de=U.type;return de===C?$(D,A,U.props.children,G,U.key):A!==null&&(A.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===I&&za(de)===A.type)?(A=c(A,U.props),As(A,U),A.return=D,A):(A=zi(U.type,U.key,U.props,null,D.mode,G),As(A,U),A.return=D,A)}function z(D,A,U,G){return A===null||A.tag!==4||A.stateNode.containerInfo!==U.containerInfo||A.stateNode.implementation!==U.implementation?(A=$o(U,D.mode,G),A.return=D,A):(A=c(A,U.children||[]),A.return=D,A)}function $(D,A,U,G,de){return A===null||A.tag!==7?(A=ka(U,D.mode,G,de),A.return=D,A):(A=c(A,U),A.return=D,A)}function K(D,A,U){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Ho(""+A,D.mode,U),A.return=D,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case N:return U=zi(A.type,A.key,A.props,null,D.mode,U),As(U,A),U.return=D,U;case S:return A=$o(A,D.mode,U),A.return=D,A;case I:return A=za(A),K(D,A,U)}if(Re(A)||pe(A))return A=ka(A,D.mode,U,null),A.return=D,A;if(typeof A.then=="function")return K(D,Yi(A),U);if(A.$$typeof===k)return K(D,qi(D,A),U);Gi(D,A)}return null}function L(D,A,U,G){var de=A!==null?A.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return de!==null?null:w(D,A,""+U,G);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case N:return U.key===de?T(D,A,U,G):null;case S:return U.key===de?z(D,A,U,G):null;case I:return U=za(U),L(D,A,U,G)}if(Re(U)||pe(U))return de!==null?null:$(D,A,U,G,null);if(typeof U.then=="function")return L(D,A,Yi(U),G);if(U.$$typeof===k)return L(D,A,qi(D,U),G);Gi(D,U)}return null}function B(D,A,U,G,de){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return D=D.get(U)||null,w(A,D,""+G,de);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case N:return D=D.get(G.key===null?U:G.key)||null,T(A,D,G,de);case S:return D=D.get(G.key===null?U:G.key)||null,z(A,D,G,de);case I:return G=za(G),B(D,A,U,G,de)}if(Re(G)||pe(G))return D=D.get(U)||null,$(A,D,G,de,null);if(typeof G.then=="function")return B(D,A,U,Yi(G),de);if(G.$$typeof===k)return B(D,A,U,qi(A,G),de);Gi(A,G)}return null}function ne(D,A,U,G){for(var de=null,Me=null,se=A,be=A=0,Ae=null;se!==null&&be<U.length;be++){se.index>be?(Ae=se,se=null):Ae=se.sibling;var Ue=L(D,se,U[be],G);if(Ue===null){se===null&&(se=Ae);break}e&&se&&Ue.alternate===null&&t(D,se),A=h(Ue,A,be),Me===null?de=Ue:Me.sibling=Ue,Me=Ue,se=Ae}if(be===U.length)return n(D,se),ke&&On(D,be),de;if(se===null){for(;be<U.length;be++)se=K(D,U[be],G),se!==null&&(A=h(se,A,be),Me===null?de=se:Me.sibling=se,Me=se);return ke&&On(D,be),de}for(se=s(se);be<U.length;be++)Ae=B(se,D,be,U[be],G),Ae!==null&&(e&&Ae.alternate!==null&&se.delete(Ae.key===null?be:Ae.key),A=h(Ae,A,be),Me===null?de=Ae:Me.sibling=Ae,Me=Ae);return e&&se.forEach(function(ya){return t(D,ya)}),ke&&On(D,be),de}function he(D,A,U,G){if(U==null)throw Error(l(151));for(var de=null,Me=null,se=A,be=A=0,Ae=null,Ue=U.next();se!==null&&!Ue.done;be++,Ue=U.next()){se.index>be?(Ae=se,se=null):Ae=se.sibling;var ya=L(D,se,Ue.value,G);if(ya===null){se===null&&(se=Ae);break}e&&se&&ya.alternate===null&&t(D,se),A=h(ya,A,be),Me===null?de=ya:Me.sibling=ya,Me=ya,se=Ae}if(Ue.done)return n(D,se),ke&&On(D,be),de;if(se===null){for(;!Ue.done;be++,Ue=U.next())Ue=K(D,Ue.value,G),Ue!==null&&(A=h(Ue,A,be),Me===null?de=Ue:Me.sibling=Ue,Me=Ue);return ke&&On(D,be),de}for(se=s(se);!Ue.done;be++,Ue=U.next())Ue=B(se,D,be,Ue.value,G),Ue!==null&&(e&&Ue.alternate!==null&&se.delete(Ue.key===null?be:Ue.key),A=h(Ue,A,be),Me===null?de=Ue:Me.sibling=Ue,Me=Ue);return e&&se.forEach(function(Kv){return t(D,Kv)}),ke&&On(D,be),de}function Ye(D,A,U,G){if(typeof U=="object"&&U!==null&&U.type===C&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case N:e:{for(var de=U.key;A!==null;){if(A.key===de){if(de=U.type,de===C){if(A.tag===7){n(D,A.sibling),G=c(A,U.props.children),G.return=D,D=G;break e}}else if(A.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===I&&za(de)===A.type){n(D,A.sibling),G=c(A,U.props),As(G,U),G.return=D,D=G;break e}n(D,A);break}else t(D,A);A=A.sibling}U.type===C?(G=ka(U.props.children,D.mode,G,U.key),G.return=D,D=G):(G=zi(U.type,U.key,U.props,null,D.mode,G),As(G,U),G.return=D,D=G)}return y(D);case S:e:{for(de=U.key;A!==null;){if(A.key===de)if(A.tag===4&&A.stateNode.containerInfo===U.containerInfo&&A.stateNode.implementation===U.implementation){n(D,A.sibling),G=c(A,U.children||[]),G.return=D,D=G;break e}else{n(D,A);break}else t(D,A);A=A.sibling}G=$o(U,D.mode,G),G.return=D,D=G}return y(D);case I:return U=za(U),Ye(D,A,U,G)}if(Re(U))return ne(D,A,U,G);if(pe(U)){if(de=pe(U),typeof de!="function")throw Error(l(150));return U=de.call(U),he(D,A,U,G)}if(typeof U.then=="function")return Ye(D,A,Yi(U),G);if(U.$$typeof===k)return Ye(D,A,qi(D,U),G);Gi(D,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,A!==null&&A.tag===6?(n(D,A.sibling),G=c(A,U),G.return=D,D=G):(n(D,A),G=Ho(U,D.mode,G),G.return=D,D=G),y(D)):n(D,A)}return function(D,A,U,G){try{Ts=0;var de=Ye(D,A,U,G);return Nr=null,de}catch(se){if(se===Sr||se===$i)throw se;var Me=Ut(29,se,null,D.mode);return Me.lanes=G,Me.return=D,Me}finally{}}}var Ba=Th(!0),Ah=Th(!1),ea=!1;function Wo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ta(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function na(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ze&2)!==0){var c=s.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),s.pending=t,t=Ui(e),dh(e,null,n),t}return Mi(e,s,t,n),Ui(e)}function Os(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,lt(e,n)}}function tu(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var c=null,h=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};h===null?c=h=y:h=h.next=y,n=n.next}while(n!==null);h===null?c=h=t:h=h.next=t}else c=h=t;n={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var nu=!1;function Rs(){if(nu){var e=jr;if(e!==null)throw e}}function ks(e,t,n,s){nu=!1;var c=e.updateQueue;ea=!1;var h=c.firstBaseUpdate,y=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var T=w,z=T.next;T.next=null,y===null?h=z:y.next=z,y=T;var $=e.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==y&&(w===null?$.firstBaseUpdate=z:w.next=z,$.lastBaseUpdate=T))}if(h!==null){var K=c.baseState;y=0,$=z=T=null,w=h;do{var L=w.lane&-536870913,B=L!==w.lane;if(B?(Te&L)===L:(s&L)===L){L!==0&&L===_r&&(nu=!0),$!==null&&($=$.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ne=e,he=w;L=t;var Ye=n;switch(he.tag){case 1:if(ne=he.payload,typeof ne=="function"){K=ne.call(Ye,K,L);break e}K=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=he.payload,L=typeof ne=="function"?ne.call(Ye,K,L):ne,L==null)break e;K=b({},K,L);break e;case 2:ea=!0}}L=w.callback,L!==null&&(e.flags|=64,B&&(e.flags|=8192),B=c.callbacks,B===null?c.callbacks=[L]:B.push(L))}else B={lane:L,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(z=$=B,T=K):$=$.next=B,y|=L;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;B=w,w=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);$===null&&(T=K),c.baseState=T,c.firstBaseUpdate=z,c.lastBaseUpdate=$,h===null&&(c.shared.lanes=0),la|=y,e.lanes=y,e.memoizedState=K}}function Oh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Rh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Oh(n[e],t)}var Er=E(null),Ki=E(0);function kh(e,t){e=Hn,P(Ki,e),P(Er,t),Hn=e|t.baseLanes}function au(){P(Ki,Hn),P(Er,Er.current)}function ru(){Hn=Ki.current,V(Er),V(Ki)}var zt=E(null),Wt=null;function aa(e){var t=e.alternate;P(et,et.current&1),P(zt,e),Wt===null&&(t===null||Er.current!==null||t.memoizedState!==null)&&(Wt=e)}function su(e){P(et,et.current),P(zt,e),Wt===null&&(Wt=e)}function Ch(e){e.tag===22?(P(et,et.current),P(zt,e),Wt===null&&(Wt=e)):ra()}function ra(){P(et,et.current),P(zt,zt.current)}function Lt(e){V(zt),Wt===e&&(Wt=null),V(et)}var et=E(0);function Ii(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||dc(n)||hc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cn=0,ve=null,$e=null,at=null,Pi=!1,Tr=!1,qa=!1,Fi=0,Cs=0,Ar=null,U0=0;function Ze(){throw Error(l(321))}function iu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mt(e[n],t[n]))return!1;return!0}function lu(e,t,n,s,c,h){return Cn=h,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?gf:_u,qa=!1,h=n(s,c),qa=!1,Tr&&(h=Mh(t,n,s,c)),Dh(e),h}function Dh(e){q.H=Us;var t=$e!==null&&$e.next!==null;if(Cn=0,at=$e=ve=null,Pi=!1,Cs=0,Ar=null,t)throw Error(l(300));e===null||rt||(e=e.dependencies,e!==null&&Bi(e)&&(rt=!0))}function Mh(e,t,n,s){ve=e;var c=0;do{if(Tr&&(Ar=null),Cs=0,Tr=!1,25<=c)throw Error(l(301));if(c+=1,at=$e=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}q.H=yf,h=t(n,s)}while(Tr);return h}function z0(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?Ds(t):t,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(ve.flags|=1024),t}function ou(){var e=Fi!==0;return Fi=0,e}function uu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function cu(e){if(Pi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Pi=!1}Cn=0,at=$e=ve=null,Tr=!1,Cs=Fi=0,Ar=null}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?ve.memoizedState=at=e:at=at.next=e,at}function tt(){if($e===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=at===null?ve.memoizedState:at.next;if(t!==null)at=t,$e=e;else{if(e===null)throw ve.alternate===null?Error(l(467)):Error(l(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},at===null?ve.memoizedState=at=e:at=at.next=e}return at}function Qi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ds(e){var t=Cs;return Cs+=1,Ar===null&&(Ar=[]),e=Sh(Ar,e,t),t=ve,(at===null?t.memoizedState:at.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?gf:_u),e}function Xi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ds(e);if(e.$$typeof===k)return mt(e)}throw Error(l(438,String(e)))}function du(e){var t=null,n=ve.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=ve.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Qi(),ve.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=Ne;return t.index++,n}function Dn(e,t){return typeof t=="function"?t(e):t}function Ji(e){var t=tt();return hu(t,$e,e)}function hu(e,t,n){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=n;var c=e.baseQueue,h=s.pending;if(h!==null){if(c!==null){var y=c.next;c.next=h.next,h.next=y}t.baseQueue=c=h,s.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{t=c.next;var w=y=null,T=null,z=t,$=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Te&K)===K:(Cn&K)===K){var L=z.revertLane;if(L===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===_r&&($=!0);else if((Cn&L)===L){z=z.next,L===_r&&($=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},T===null?(w=T=K,y=h):T=T.next=K,ve.lanes|=L,la|=L;K=z.action,qa&&n(h,K),h=z.hasEagerState?z.eagerState:n(h,K)}else L={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},T===null?(w=T=L,y=h):T=T.next=L,ve.lanes|=K,la|=K;z=z.next}while(z!==null&&z!==t);if(T===null?y=h:T.next=w,!Mt(h,e.memoizedState)&&(rt=!0,$&&(n=jr,n!==null)))throw n;e.memoizedState=h,e.baseState=y,e.baseQueue=T,s.lastRenderedState=h}return c===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function fu(e){var t=tt(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var s=n.dispatch,c=n.pending,h=t.memoizedState;if(c!==null){n.pending=null;var y=c=c.next;do h=e(h,y.action),y=y.next;while(y!==c);Mt(h,t.memoizedState)||(rt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),n.lastRenderedState=h}return[h,s]}function Uh(e,t,n){var s=ve,c=tt(),h=ke;if(h){if(n===void 0)throw Error(l(407));n=n()}else n=t();var y=!Mt(($e||c).memoizedState,n);if(y&&(c.memoizedState=n,rt=!0),c=c.queue,gu(Bh.bind(null,s,c,e),[e]),c.getSnapshot!==t||y||at!==null&&at.memoizedState.tag&1){if(s.flags|=2048,Or(9,{destroy:void 0},Lh.bind(null,s,c,n,t),null),Ge===null)throw Error(l(349));h||(Cn&127)!==0||zh(s,t,n)}return n}function zh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t=Qi(),ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lh(e,t,n,s){t.value=n,t.getSnapshot=s,qh(t)&&Hh(e)}function Bh(e,t,n){return n(function(){qh(t)&&Hh(e)})}function qh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mt(e,n)}catch{return!0}}function Hh(e){var t=Ra(e,2);t!==null&&kt(t,e,2)}function mu(e){var t=St();if(typeof e=="function"){var n=e;if(e=n(),qa){yn(!0);try{n()}finally{yn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:e},t}function $h(e,t,n,s){return e.baseState=n,hu(e,$e,typeof s=="function"?s:Dn)}function L0(e,t,n,s,c){if(el(e))throw Error(l(485));if(e=t.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};q.T!==null?n(!0):h.isTransition=!1,s(h),n=t.pending,n===null?(h.next=t.pending=h,Vh(t,h)):(h.next=n.next,t.pending=n.next=h)}}function Vh(e,t){var n=t.action,s=t.payload,c=e.state;if(t.isTransition){var h=q.T,y={};q.T=y;try{var w=n(c,s),T=q.S;T!==null&&T(y,w),Yh(e,t,w)}catch(z){pu(e,t,z)}finally{h!==null&&y.types!==null&&(h.types=y.types),q.T=h}}else try{h=n(c,s),Yh(e,t,h)}catch(z){pu(e,t,z)}}function Yh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Gh(e,t,s)},function(s){return pu(e,t,s)}):Gh(e,t,n)}function Gh(e,t,n){t.status="fulfilled",t.value=n,Kh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Vh(e,n)))}function pu(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,Kh(t),t=t.next;while(t!==s)}e.action=null}function Kh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ih(e,t){return t}function Ph(e,t){if(ke){var n=Ge.formState;if(n!==null){e:{var s=ve;if(ke){if(Pe){t:{for(var c=Pe,h=Zt;c.nodeType!==8;){if(!h){c=null;break t}if(c=en(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Pe=en(c.nextSibling),s=c.data==="F!";break e}}Zn(s)}s=!1}s&&(t=n[0])}}return n=St(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ih,lastRenderedState:t},n.queue=s,n=ff.bind(null,ve,s),s.dispatch=n,s=mu(!1),h=wu.bind(null,ve,!1,s.queue),s=St(),c={state:t,dispatch:null,action:e,pending:null},s.queue=c,n=L0.bind(null,ve,c,h,n),c.dispatch=n,s.memoizedState=e,[t,n,!1]}function Fh(e){var t=tt();return Qh(t,$e,e)}function Qh(e,t,n){if(t=hu(e,t,Ih)[0],e=Ji(Dn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ds(t)}catch(y){throw y===Sr?$i:y}else s=t;t=tt();var c=t.queue,h=c.dispatch;return n!==t.memoizedState&&(ve.flags|=2048,Or(9,{destroy:void 0},B0.bind(null,c,n),null)),[s,h,e]}function B0(e,t){e.action=t}function Xh(e){var t=tt(),n=$e;if(n!==null)return Qh(t,n,e);tt(),t=t.memoizedState,n=tt();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function Or(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=ve.updateQueue,t===null&&(t=Qi(),ve.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Jh(){return tt().memoizedState}function Zi(e,t,n,s){var c=St();ve.flags|=e,c.memoizedState=Or(1|t,{destroy:void 0},n,s===void 0?null:s)}function Wi(e,t,n,s){var c=tt();s=s===void 0?null:s;var h=c.memoizedState.inst;$e!==null&&s!==null&&iu(s,$e.memoizedState.deps)?c.memoizedState=Or(t,h,n,s):(ve.flags|=e,c.memoizedState=Or(1|t,h,n,s))}function Zh(e,t){Zi(8390656,8,e,t)}function gu(e,t){Wi(2048,8,e,t)}function q0(e){ve.flags|=4;var t=ve.updateQueue;if(t===null)t=Qi(),ve.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Wh(e){var t=tt().memoizedState;return q0({ref:t,nextImpl:e}),function(){if((ze&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function ef(e,t){return Wi(4,2,e,t)}function tf(e,t){return Wi(4,4,e,t)}function nf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function af(e,t,n){n=n!=null?n.concat([e]):null,Wi(4,4,nf.bind(null,t,e),n)}function yu(){}function rf(e,t){var n=tt();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&iu(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function sf(e,t){var n=tt();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&iu(t,s[1]))return s[0];if(s=e(),qa){yn(!0);try{e()}finally{yn(!1)}}return n.memoizedState=[s,t],s}function vu(e,t,n){return n===void 0||(Cn&1073741824)!==0&&(Te&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=lm(),ve.lanes|=e,la|=e,n)}function lf(e,t,n,s){return Mt(n,t)?n:Er.current!==null?(e=vu(e,n,s),Mt(e,t)||(rt=!0),e):(Cn&42)===0||(Cn&1073741824)!==0&&(Te&261930)===0?(rt=!0,e.memoizedState=n):(e=lm(),ve.lanes|=e,la|=e,t)}function of(e,t,n,s,c){var h=Y.p;Y.p=h!==0&&8>h?h:8;var y=q.T,w={};q.T=w,wu(e,!1,t,n);try{var T=c(),z=q.S;if(z!==null&&z(w,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var $=M0(T,s);Ms(e,t,$,Ht(e))}else Ms(e,t,s,Ht(e))}catch(K){Ms(e,t,{then:function(){},status:"rejected",reason:K},Ht())}finally{Y.p=h,y!==null&&w.types!==null&&(y.types=w.types),q.T=y}}function H0(){}function xu(e,t,n,s){if(e.tag!==5)throw Error(l(476));var c=uf(e).queue;of(e,c,t,te,n===null?H0:function(){return cf(e),n(s)})}function uf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:te},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function cf(e){var t=uf(e);t.next===null&&(t=e.alternate.memoizedState),Ms(e,t.next.queue,{},Ht())}function bu(){return mt(Js)}function df(){return tt().memoizedState}function hf(){return tt().memoizedState}function $0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ht();e=ta(n);var s=na(t,e,n);s!==null&&(kt(s,t,n),Os(s,t,n)),t={cache:Qo()},e.payload=t;return}t=t.return}}function V0(e,t,n){var s=Ht();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},el(e)?mf(t,n):(n=Bo(e,t,n,s),n!==null&&(kt(n,e,s),pf(n,t,s)))}function ff(e,t,n){var s=Ht();Ms(e,t,n,s)}function Ms(e,t,n,s){var c={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(el(e))mf(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var y=t.lastRenderedState,w=h(y,n);if(c.hasEagerState=!0,c.eagerState=w,Mt(w,y))return Mi(e,t,c,0),Ge===null&&Di(),!1}catch{}finally{}if(n=Bo(e,t,c,s),n!==null)return kt(n,e,s),pf(n,t,s),!0}return!1}function wu(e,t,n,s){if(s={lane:2,revertLane:Wu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},el(e)){if(t)throw Error(l(479))}else t=Bo(e,n,s,2),t!==null&&kt(t,e,2)}function el(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function mf(e,t){Tr=Pi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pf(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,lt(e,n)}}var Us={readContext:mt,use:Xi,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};Us.useEffectEvent=Ze;var gf={readContext:mt,use:Xi,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:Zh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Zi(4194308,4,nf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zi(4194308,4,e,t)},useInsertionEffect:function(e,t){Zi(4,2,e,t)},useMemo:function(e,t){var n=St();t=t===void 0?null:t;var s=e();if(qa){yn(!0);try{e()}finally{yn(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=St();if(n!==void 0){var c=n(t);if(qa){yn(!0);try{n(t)}finally{yn(!1)}}}else c=t;return s.memoizedState=s.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},s.queue=e,e=e.dispatch=V0.bind(null,ve,e),[s.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:function(e){e=mu(e);var t=e.queue,n=ff.bind(null,ve,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:yu,useDeferredValue:function(e,t){var n=St();return vu(n,e,t)},useTransition:function(){var e=mu(!1);return e=of.bind(null,ve,e.queue,!0,!1),St().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=ve,c=St();if(ke){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),Ge===null)throw Error(l(349));(Te&127)!==0||zh(s,t,n)}c.memoizedState=n;var h={value:n,getSnapshot:t};return c.queue=h,Zh(Bh.bind(null,s,h,e),[e]),s.flags|=2048,Or(9,{destroy:void 0},Lh.bind(null,s,h,n,t),null),n},useId:function(){var e=St(),t=Ge.identifierPrefix;if(ke){var n=xn,s=vn;n=(s&~(1<<32-jt(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Fi++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=U0++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:bu,useFormState:Ph,useActionState:Ph,useOptimistic:function(e){var t=St();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=wu.bind(null,ve,!0,n),n.dispatch=t,[e,t]},useMemoCache:du,useCacheRefresh:function(){return St().memoizedState=$0.bind(null,ve)},useEffectEvent:function(e){var t=St(),n={impl:e};return t.memoizedState=n,function(){if((ze&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},_u={readContext:mt,use:Xi,useCallback:rf,useContext:mt,useEffect:gu,useImperativeHandle:af,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:sf,useReducer:Ji,useRef:Jh,useState:function(){return Ji(Dn)},useDebugValue:yu,useDeferredValue:function(e,t){var n=tt();return lf(n,$e.memoizedState,e,t)},useTransition:function(){var e=Ji(Dn)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Ds(e),t]},useSyncExternalStore:Uh,useId:df,useHostTransitionStatus:bu,useFormState:Fh,useActionState:Fh,useOptimistic:function(e,t){var n=tt();return $h(n,$e,e,t)},useMemoCache:du,useCacheRefresh:hf};_u.useEffectEvent=Wh;var yf={readContext:mt,use:Xi,useCallback:rf,useContext:mt,useEffect:gu,useImperativeHandle:af,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:sf,useReducer:fu,useRef:Jh,useState:function(){return fu(Dn)},useDebugValue:yu,useDeferredValue:function(e,t){var n=tt();return $e===null?vu(n,e,t):lf(n,$e.memoizedState,e,t)},useTransition:function(){var e=fu(Dn)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Ds(e),t]},useSyncExternalStore:Uh,useId:df,useHostTransitionStatus:bu,useFormState:Xh,useActionState:Xh,useOptimistic:function(e,t){var n=tt();return $e!==null?$h(n,$e,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:du,useCacheRefresh:hf};yf.useEffectEvent=Wh;function ju(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:b({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Su={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ht(),c=ta(s);c.payload=t,n!=null&&(c.callback=n),t=na(e,c,s),t!==null&&(kt(t,e,s),Os(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ht(),c=ta(s);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=na(e,c,s),t!==null&&(kt(t,e,s),Os(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ht(),s=ta(n);s.tag=2,t!=null&&(s.callback=t),t=na(e,s,n),t!==null&&(kt(t,e,n),Os(t,e,n))}};function vf(e,t,n,s,c,h,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,y):t.prototype&&t.prototype.isPureReactComponent?!ws(n,s)||!ws(c,h):!0}function xf(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Su.enqueueReplaceState(t,t.state,null)}function Ha(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=b({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function bf(e){Ci(e)}function wf(e){console.error(e)}function _f(e){Ci(e)}function tl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function jf(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Nu(e,t,n){return n=ta(n),n.tag=3,n.payload={element:null},n.callback=function(){tl(e,t)},n}function Sf(e){return e=ta(e),e.tag=3,e}function Nf(e,t,n,s){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;e.payload=function(){return c(h)},e.callback=function(){jf(t,n,s)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){jf(t,n,s),typeof c!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})})}function Y0(e,t,n,s,c){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&wr(t,n,c,!0),n=zt.current,n!==null){switch(n.tag){case 31:case 13:return Wt===null?fl():n.alternate===null&&We===0&&(We=3),n.flags&=-257,n.flags|=65536,n.lanes=c,s===Vi?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Xu(e,s,c)),!1;case 22:return n.flags|=65536,s===Vi?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Xu(e,s,c)),!1}throw Error(l(435,n.tag))}return Xu(e,s,c),fl(),!1}if(ke)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,s!==Go&&(e=Error(l(422),{cause:s}),Ss(Qt(e,n)))):(s!==Go&&(t=Error(l(423),{cause:s}),Ss(Qt(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,s=Qt(s,n),c=Nu(e.stateNode,s,c),tu(e,c),We!==4&&(We=2)),!1;var h=Error(l(520),{cause:s});if(h=Qt(h,n),Ys===null?Ys=[h]:Ys.push(h),We!==4&&(We=2),t===null)return!0;s=Qt(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=Nu(n.stateNode,s,e),tu(n,e),!1;case 1:if(t=n.type,h=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(oa===null||!oa.has(h))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Sf(c),Nf(c,e,n,s),tu(n,c),!1}n=n.return}while(n!==null);return!1}var Eu=Error(l(461)),rt=!1;function pt(e,t,n,s){t.child=e===null?Ah(t,null,n,s):Ba(t,e.child,n,s)}function Ef(e,t,n,s,c){n=n.render;var h=t.ref;if("ref"in s){var y={};for(var w in s)w!=="ref"&&(y[w]=s[w])}else y=s;return Ma(t),s=lu(e,t,n,y,h,c),w=ou(),e!==null&&!rt?(uu(e,t,c),Mn(e,t,c)):(ke&&w&&Vo(t),t.flags|=1,pt(e,t,s,c),t.child)}function Tf(e,t,n,s,c){if(e===null){var h=n.type;return typeof h=="function"&&!qo(h)&&h.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=h,Af(e,t,h,s,c)):(e=zi(n.type,null,s,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!Mu(e,c)){var y=h.memoizedProps;if(n=n.compare,n=n!==null?n:ws,n(y,s)&&e.ref===t.ref)return Mn(e,t,c)}return t.flags|=1,e=An(h,s),e.ref=t.ref,e.return=t,t.child=e}function Af(e,t,n,s,c){if(e!==null){var h=e.memoizedProps;if(ws(h,s)&&e.ref===t.ref)if(rt=!1,t.pendingProps=s=h,Mu(e,c))(e.flags&131072)!==0&&(rt=!0);else return t.lanes=e.lanes,Mn(e,t,c)}return Tu(e,t,n,s,c)}function Of(e,t,n,s){var c=s.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|n:n,e!==null){for(s=t.child=e.child,c=0;s!==null;)c=c|s.lanes|s.childLanes,s=s.sibling;s=c&~h}else s=0,t.child=null;return Rf(e,t,h,n,s)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hi(t,h!==null?h.cachePool:null),h!==null?kh(t,h):au(),Ch(t);else return s=t.lanes=536870912,Rf(e,t,h!==null?h.baseLanes|n:n,n,s)}else h!==null?(Hi(t,h.cachePool),kh(t,h),ra(),t.memoizedState=null):(e!==null&&Hi(t,null),au(),ra());return pt(e,t,c,n),t.child}function zs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Rf(e,t,n,s,c){var h=Jo();return h=h===null?null:{parent:nt._currentValue,pool:h},t.memoizedState={baseLanes:n,cachePool:h},e!==null&&Hi(t,null),au(),Ch(t),e!==null&&wr(e,t,s,!0),t.childLanes=c,null}function nl(e,t){return t=rl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function kf(e,t,n){return Ba(t,e.child,null,n),e=nl(t,t.pendingProps),e.flags|=2,Lt(t),t.memoizedState=null,e}function G0(e,t,n){var s=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ke){if(s.mode==="hidden")return e=nl(t,s),t.lanes=536870912,zs(null,e);if(su(t),(e=Pe)?(e=Ym(e,Zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xn!==null?{id:vn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},n=fh(e),n.return=t,t.child=n,ft=t,Pe=null)):e=null,e===null)throw Zn(t);return t.lanes=536870912,null}return nl(t,s)}var h=e.memoizedState;if(h!==null){var y=h.dehydrated;if(su(t),c)if(t.flags&256)t.flags&=-257,t=kf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(rt||wr(e,t,n,!1),c=(n&e.childLanes)!==0,rt||c){if(s=Ge,s!==null&&(y=ln(s,n),y!==0&&y!==h.retryLane))throw h.retryLane=y,Ra(e,y),kt(s,e,y),Eu;fl(),t=kf(e,t,n)}else e=h.treeContext,Pe=en(y.nextSibling),ft=t,ke=!0,Jn=null,Zt=!1,e!==null&&gh(t,e),t=nl(t,s),t.flags|=4096;return t}return e=An(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function al(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Tu(e,t,n,s,c){return Ma(t),n=lu(e,t,n,s,void 0,c),s=ou(),e!==null&&!rt?(uu(e,t,c),Mn(e,t,c)):(ke&&s&&Vo(t),t.flags|=1,pt(e,t,n,c),t.child)}function Cf(e,t,n,s,c,h){return Ma(t),t.updateQueue=null,n=Mh(t,s,n,c),Dh(e),s=ou(),e!==null&&!rt?(uu(e,t,h),Mn(e,t,h)):(ke&&s&&Vo(t),t.flags|=1,pt(e,t,n,h),t.child)}function Df(e,t,n,s,c){if(Ma(t),t.stateNode===null){var h=yr,y=n.contextType;typeof y=="object"&&y!==null&&(h=mt(y)),h=new n(s,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Su,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=s,h.state=t.memoizedState,h.refs={},Wo(t),y=n.contextType,h.context=typeof y=="object"&&y!==null?mt(y):yr,h.state=t.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(ju(t,n,y,s),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&Su.enqueueReplaceState(h,h.state,null),ks(t,s,h,c),Rs(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){h=t.stateNode;var w=t.memoizedProps,T=Ha(n,w);h.props=T;var z=h.context,$=n.contextType;y=yr,typeof $=="object"&&$!==null&&(y=mt($));var K=n.getDerivedStateFromProps;$=typeof K=="function"||typeof h.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,$||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w||z!==y)&&xf(t,h,s,y),ea=!1;var L=t.memoizedState;h.state=L,ks(t,s,h,c),Rs(),z=t.memoizedState,w||L!==z||ea?(typeof K=="function"&&(ju(t,n,K,s),z=t.memoizedState),(T=ea||vf(t,n,T,s,L,z,y))?($||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=z),h.props=s,h.state=z,h.context=y,s=T):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,eu(e,t),y=t.memoizedProps,$=Ha(n,y),h.props=$,K=t.pendingProps,L=h.context,z=n.contextType,T=yr,typeof z=="object"&&z!==null&&(T=mt(z)),w=n.getDerivedStateFromProps,(z=typeof w=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==K||L!==T)&&xf(t,h,s,T),ea=!1,L=t.memoizedState,h.state=L,ks(t,s,h,c),Rs();var B=t.memoizedState;y!==K||L!==B||ea||e!==null&&e.dependencies!==null&&Bi(e.dependencies)?(typeof w=="function"&&(ju(t,n,w,s),B=t.memoizedState),($=ea||vf(t,n,$,s,L,B,T)||e!==null&&e.dependencies!==null&&Bi(e.dependencies))?(z||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,B,T),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,B,T)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=B),h.props=s,h.state=B,h.context=T,s=$):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),s=!1)}return h=s,al(e,t),s=(t.flags&128)!==0,h||s?(h=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&s?(t.child=Ba(t,e.child,null,c),t.child=Ba(t,null,n,c)):pt(e,t,n,c),t.memoizedState=h.state,e=t.child):e=Mn(e,t,c),e}function Mf(e,t,n,s){return Ca(),t.flags|=256,pt(e,t,n,s),t.child}var Au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ou(e){return{baseLanes:e,cachePool:_h()}}function Ru(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=qt),e}function Uf(e,t,n){var s=t.pendingProps,c=!1,h=(t.flags&128)!==0,y;if((y=h)||(y=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),y&&(c=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(ke){if(c?aa(t):ra(),(e=Pe)?(e=Ym(e,Zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xn!==null?{id:vn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},n=fh(e),n.return=t,t.child=n,ft=t,Pe=null)):e=null,e===null)throw Zn(t);return hc(e)?t.lanes=32:t.lanes=536870912,null}var w=s.children;return s=s.fallback,c?(ra(),c=t.mode,w=rl({mode:"hidden",children:w},c),s=ka(s,c,n,null),w.return=t,s.return=t,w.sibling=s,t.child=w,s=t.child,s.memoizedState=Ou(n),s.childLanes=Ru(e,y,n),t.memoizedState=Au,zs(null,s)):(aa(t),ku(t,w))}var T=e.memoizedState;if(T!==null&&(w=T.dehydrated,w!==null)){if(h)t.flags&256?(aa(t),t.flags&=-257,t=Cu(e,t,n)):t.memoizedState!==null?(ra(),t.child=e.child,t.flags|=128,t=null):(ra(),w=s.fallback,c=t.mode,s=rl({mode:"visible",children:s.children},c),w=ka(w,c,n,null),w.flags|=2,s.return=t,w.return=t,s.sibling=w,t.child=s,Ba(t,e.child,null,n),s=t.child,s.memoizedState=Ou(n),s.childLanes=Ru(e,y,n),t.memoizedState=Au,t=zs(null,s));else if(aa(t),hc(w)){if(y=w.nextSibling&&w.nextSibling.dataset,y)var z=y.dgst;y=z,s=Error(l(419)),s.stack="",s.digest=y,Ss({value:s,source:null,stack:null}),t=Cu(e,t,n)}else if(rt||wr(e,t,n,!1),y=(n&e.childLanes)!==0,rt||y){if(y=Ge,y!==null&&(s=ln(y,n),s!==0&&s!==T.retryLane))throw T.retryLane=s,Ra(e,s),kt(y,e,s),Eu;dc(w)||fl(),t=Cu(e,t,n)}else dc(w)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Pe=en(w.nextSibling),ft=t,ke=!0,Jn=null,Zt=!1,e!==null&&gh(t,e),t=ku(t,s.children),t.flags|=4096);return t}return c?(ra(),w=s.fallback,c=t.mode,T=e.child,z=T.sibling,s=An(T,{mode:"hidden",children:s.children}),s.subtreeFlags=T.subtreeFlags&65011712,z!==null?w=An(z,w):(w=ka(w,c,n,null),w.flags|=2),w.return=t,s.return=t,s.sibling=w,t.child=s,zs(null,s),s=t.child,w=e.child.memoizedState,w===null?w=Ou(n):(c=w.cachePool,c!==null?(T=nt._currentValue,c=c.parent!==T?{parent:T,pool:T}:c):c=_h(),w={baseLanes:w.baseLanes|n,cachePool:c}),s.memoizedState=w,s.childLanes=Ru(e,y,n),t.memoizedState=Au,zs(e.child,s)):(aa(t),n=e.child,e=n.sibling,n=An(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=n,t.memoizedState=null,n)}function ku(e,t){return t=rl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function rl(e,t){return e=Ut(22,e,null,t),e.lanes=0,e}function Cu(e,t,n){return Ba(t,e.child,null,n),e=ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zf(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Po(e.return,t,n)}function Du(e,t,n,s,c,h){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:c,treeForkCount:h}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=s,y.tail=n,y.tailMode=c,y.treeForkCount=h)}function Lf(e,t,n){var s=t.pendingProps,c=s.revealOrder,h=s.tail;s=s.children;var y=et.current,w=(y&2)!==0;if(w?(y=y&1|2,t.flags|=128):y&=1,P(et,y),pt(e,t,s,n),s=ke?js:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zf(e,n,t);else if(e.tag===19)zf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Ii(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),Du(t,!1,c,n,h,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ii(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}Du(t,!0,n,null,h,s);break;case"together":Du(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),la|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(wr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=An(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=An(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Bi(e)))}function K0(e,t,n){switch(t.tag){case 3:ht(t,t.stateNode.containerInfo),Wn(t,nt,e.memoizedState.cache),Ca();break;case 27:case 5:_a(t);break;case 4:ht(t,t.stateNode.containerInfo);break;case 10:Wn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,su(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(aa(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Uf(e,t,n):(aa(t),e=Mn(e,t,n),e!==null?e.sibling:null);aa(t);break;case 19:var c=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(wr(e,t,n,!1),s=(n&t.childLanes)!==0),c){if(s)return Lf(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),P(et,et.current),s)break;return null;case 22:return t.lanes=0,Of(e,t,n,t.pendingProps);case 24:Wn(t,nt,e.memoizedState.cache)}return Mn(e,t,n)}function Bf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)rt=!0;else{if(!Mu(e,n)&&(t.flags&128)===0)return rt=!1,K0(e,t,n);rt=(e.flags&131072)!==0}else rt=!1,ke&&(t.flags&1048576)!==0&&ph(t,js,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=za(t.elementType),t.type=e,typeof e=="function")qo(e)?(s=Ha(e,s),t.tag=1,t=Df(null,t,e,s,n)):(t.tag=0,t=Tu(null,t,e,s,n));else{if(e!=null){var c=e.$$typeof;if(c===X){t.tag=11,t=Ef(null,t,e,s,n);break e}else if(c===Q){t.tag=14,t=Tf(null,t,e,s,n);break e}}throw t=ee(e)||e,Error(l(306,t,""))}}return t;case 0:return Tu(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,c=Ha(s,t.pendingProps),Df(e,t,s,c,n);case 3:e:{if(ht(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var h=t.memoizedState;c=h.element,eu(e,t),ks(t,s,null,n);var y=t.memoizedState;if(s=y.cache,Wn(t,nt,s),s!==h.cache&&Fo(t,[nt],n,!0),Rs(),s=y.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Mf(e,t,s,n);break e}else if(s!==c){c=Qt(Error(l(424)),t),Ss(c),t=Mf(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pe=en(e.firstChild),ft=t,ke=!0,Jn=null,Zt=!0,n=Ah(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ca(),s===c){t=Mn(e,t,n);break e}pt(e,t,s,n)}t=t.child}return t;case 26:return al(e,t),e===null?(n=Qm(t.type,null,t.pendingProps,null))?t.memoizedState=n:ke||(n=t.type,e=t.pendingProps,s=bl(xe.current).createElement(n),s[Le]=t,s[Nt]=e,gt(s,n,e),ct(s),t.stateNode=s):t.memoizedState=Qm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return _a(t),e===null&&ke&&(s=t.stateNode=Im(t.type,t.pendingProps,xe.current),ft=t,Zt=!0,c=Pe,ha(t.type)?(fc=c,Pe=en(s.firstChild)):Pe=c),pt(e,t,t.pendingProps.children,n),al(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ke&&((c=s=Pe)&&(s=wv(s,t.type,t.pendingProps,Zt),s!==null?(t.stateNode=s,ft=t,Pe=en(s.firstChild),Zt=!1,c=!0):c=!1),c||Zn(t)),_a(t),c=t.type,h=t.pendingProps,y=e!==null?e.memoizedProps:null,s=h.children,oc(c,h)?s=null:y!==null&&oc(c,y)&&(t.flags|=32),t.memoizedState!==null&&(c=lu(e,t,z0,null,null,n),Js._currentValue=c),al(e,t),pt(e,t,s,n),t.child;case 6:return e===null&&ke&&((e=n=Pe)&&(n=_v(n,t.pendingProps,Zt),n!==null?(t.stateNode=n,ft=t,Pe=null,e=!0):e=!1),e||Zn(t)),null;case 13:return Uf(e,t,n);case 4:return ht(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ba(t,null,s,n):pt(e,t,s,n),t.child;case 11:return Ef(e,t,t.type,t.pendingProps,n);case 7:return pt(e,t,t.pendingProps,n),t.child;case 8:return pt(e,t,t.pendingProps.children,n),t.child;case 12:return pt(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,Wn(t,t.type,s.value),pt(e,t,s.children,n),t.child;case 9:return c=t.type._context,s=t.pendingProps.children,Ma(t),c=mt(c),s=s(c),t.flags|=1,pt(e,t,s,n),t.child;case 14:return Tf(e,t,t.type,t.pendingProps,n);case 15:return Af(e,t,t.type,t.pendingProps,n);case 19:return Lf(e,t,n);case 31:return G0(e,t,n);case 22:return Of(e,t,n,t.pendingProps);case 24:return Ma(t),s=mt(nt),e===null?(c=Jo(),c===null&&(c=Ge,h=Qo(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=n),c=h),t.memoizedState={parent:s,cache:c},Wo(t),Wn(t,nt,c)):((e.lanes&n)!==0&&(eu(e,t),ks(t,null,null,n),Rs()),c=e.memoizedState,h=t.memoizedState,c.parent!==s?(c={parent:s,cache:s},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Wn(t,nt,s)):(s=h.cache,Wn(t,nt,s),s!==c.cache&&Fo(t,[nt],n,!0))),pt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Un(e){e.flags|=4}function Uu(e,t,n,s,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(dm())e.flags|=8192;else throw La=Vi,Zo}else e.flags&=-16777217}function qf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ep(t))if(dm())e.flags|=8192;else throw La=Vi,Zo}function sl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?me():536870912,e.lanes|=t,Dr|=t)}function Ls(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function I0(e,t,n){var s=t.pendingProps;switch(Yo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return Fe(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),kn(nt),He(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(br(t)?Un(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ko())),Fe(t),null;case 26:var c=t.type,h=t.memoizedState;return e===null?(Un(t),h!==null?(Fe(t),qf(t,h)):(Fe(t),Uu(t,c,null,s,n))):h?h!==e.memoizedState?(Un(t),Fe(t),qf(t,h)):(Fe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Un(t),Fe(t),Uu(t,c,e,s,n)),null;case 27:if(ja(t),n=xe.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Un(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Fe(t),null}e=J.current,br(t)?yh(t):(e=Im(c,s,n),t.stateNode=e,Un(t))}return Fe(t),null;case 5:if(ja(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Un(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Fe(t),null}if(h=J.current,br(t))yh(t);else{var y=bl(xe.current);switch(h){case 1:h=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=y.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?y.createElement("select",{is:s.is}):y.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?y.createElement(c,{is:s.is}):y.createElement(c)}}h[Le]=t,h[Nt]=s;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)h.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=h;e:switch(gt(h,c,s),c){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Un(t)}}return Fe(t),Uu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Un(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=xe.current,br(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,c=ft,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}e[Le]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||Um(e.nodeValue,n)),e||Zn(t,!0)}else e=bl(e).createTextNode(s),e[Le]=t,t.stateNode=e}return Fe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=br(t),n!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[Le]=t}else Ca(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),e=!1}else n=Ko(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Lt(t),t):(Lt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Fe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=br(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[Le]=t}else Ca(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),c=!1}else c=Ko(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Lt(t),t):(Lt(t),null)}return Lt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==c&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),sl(t,t.updateQueue),Fe(t),null);case 4:return He(),e===null&&ac(t.stateNode.containerInfo),Fe(t),null;case 10:return kn(t.type),Fe(t),null;case 19:if(V(et),s=t.memoizedState,s===null)return Fe(t),null;if(c=(t.flags&128)!==0,h=s.rendering,h===null)if(c)Ls(s,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Ii(e),h!==null){for(t.flags|=128,Ls(s,!1),e=h.updateQueue,t.updateQueue=e,sl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)hh(n,e),n=n.sibling;return P(et,et.current&1|2),ke&&On(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&wt()>cl&&(t.flags|=128,c=!0,Ls(s,!1),t.lanes=4194304)}else{if(!c)if(e=Ii(h),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,sl(t,e),Ls(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!ke)return Fe(t),null}else 2*wt()-s.renderingStartTime>cl&&n!==536870912&&(t.flags|=128,c=!0,Ls(s,!1),t.lanes=4194304);s.isBackwards?(h.sibling=t.child,t.child=h):(e=s.last,e!==null?e.sibling=h:t.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=wt(),e.sibling=null,n=et.current,P(et,c?n&1|2:n&1),ke&&On(t,s.treeForkCount),e):(Fe(t),null);case 22:case 23:return Lt(t),ru(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),n=t.updateQueue,n!==null&&sl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&V(Ua),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),kn(nt),Fe(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function P0(e,t){switch(Yo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kn(nt),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ja(t),null;case 31:if(t.memoizedState!==null){if(Lt(t),t.alternate===null)throw Error(l(340));Ca()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Ca()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(et),null;case 4:return He(),null;case 10:return kn(t.type),null;case 22:case 23:return Lt(t),ru(),e!==null&&V(Ua),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return kn(nt),null;case 25:return null;default:return null}}function Hf(e,t){switch(Yo(t),t.tag){case 3:kn(nt),He();break;case 26:case 27:case 5:ja(t);break;case 4:He();break;case 31:t.memoizedState!==null&&Lt(t);break;case 13:Lt(t);break;case 19:V(et);break;case 10:kn(t.type);break;case 22:case 23:Lt(t),ru(),e!==null&&V(Ua);break;case 24:kn(nt)}}function Bs(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var c=s.next;n=c;do{if((n.tag&e)===e){s=void 0;var h=n.create,y=n.inst;s=h(),y.destroy=s}n=n.next}while(n!==c)}}catch(w){qe(t,t.return,w)}}function sa(e,t,n){try{var s=t.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var h=c.next;s=h;do{if((s.tag&e)===e){var y=s.inst,w=y.destroy;if(w!==void 0){y.destroy=void 0,c=t;var T=n,z=w;try{z()}catch($){qe(c,T,$)}}}s=s.next}while(s!==h)}}catch($){qe(t,t.return,$)}}function $f(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Rh(t,n)}catch(s){qe(e,e.return,s)}}}function Vf(e,t,n){n.props=Ha(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){qe(e,t,s)}}function qs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(c){qe(e,t,c)}}function bn(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(c){qe(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){qe(e,t,c)}else n.current=null}function Yf(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(c){qe(e,e.return,c)}}function zu(e,t,n){try{var s=e.stateNode;pv(s,e.type,n,t),s[Nt]=t}catch(c){qe(e,e.return,c)}}function Gf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ha(e.type)||e.tag===4}function Lu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bu(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=En));else if(s!==4&&(s===27&&ha(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Bu(e,t,n),e=e.sibling;e!==null;)Bu(e,t,n),e=e.sibling}function il(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&ha(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(il(e,t,n),e=e.sibling;e!==null;)il(e,t,n),e=e.sibling}function Kf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);gt(t,s,n),t[Le]=e,t[Nt]=n}catch(h){qe(e,e.return,h)}}var zn=!1,st=!1,qu=!1,If=typeof WeakSet=="function"?WeakSet:Set,dt=null;function F0(e,t){if(e=e.containerInfo,ic=Tl,e=ah(e),Co(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var c=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{n.nodeType,h.nodeType}catch{n=null;break e}var y=0,w=-1,T=-1,z=0,$=0,K=e,L=null;t:for(;;){for(var B;K!==n||c!==0&&K.nodeType!==3||(w=y+c),K!==h||s!==0&&K.nodeType!==3||(T=y+s),K.nodeType===3&&(y+=K.nodeValue.length),(B=K.firstChild)!==null;)L=K,K=B;for(;;){if(K===e)break t;if(L===n&&++z===c&&(w=y),L===h&&++$===s&&(T=y),(B=K.nextSibling)!==null)break;K=L,L=K.parentNode}K=B}n=w===-1||T===-1?null:{start:w,end:T}}else n=null}n=n||{start:0,end:0}}else n=null;for(lc={focusedElem:e,selectionRange:n},Tl=!1,dt=t;dt!==null;)if(t=dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,dt=e;else for(;dt!==null;){switch(t=dt,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,n=t,c=h.memoizedProps,h=h.memoizedState,s=n.stateNode;try{var ne=Ha(n.type,c);e=s.getSnapshotBeforeUpdate(ne,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(he){qe(n,n.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)cc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,dt=e;break}dt=t.return}}function Pf(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Bn(e,n),s&4&&Bs(5,n);break;case 1:if(Bn(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(y){qe(n,n.return,y)}else{var c=Ha(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){qe(n,n.return,y)}}s&64&&$f(n),s&512&&qs(n,n.return);break;case 3:if(Bn(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Rh(e,t)}catch(y){qe(n,n.return,y)}}break;case 27:t===null&&s&4&&Kf(n);case 26:case 5:Bn(e,n),t===null&&s&4&&Yf(n),s&512&&qs(n,n.return);break;case 12:Bn(e,n);break;case 31:Bn(e,n),s&4&&Xf(e,n);break;case 13:Bn(e,n),s&4&&Jf(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=av.bind(null,n),jv(e,n))));break;case 22:if(s=n.memoizedState!==null||zn,!s){t=t!==null&&t.memoizedState!==null||st,c=zn;var h=st;zn=s,(st=t)&&!h?qn(e,n,(n.subtreeFlags&8772)!==0):Bn(e,n),zn=c,st=h}break;case 30:break;default:Bn(e,n)}}function Ff(e){var t=e.alternate;t!==null&&(e.alternate=null,Ff(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&po(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qe=null,Tt=!1;function Ln(e,t,n){for(n=n.child;n!==null;)Qf(e,t,n),n=n.sibling}function Qf(e,t,n){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Fn,n)}catch{}switch(n.tag){case 26:st||bn(n,t),Ln(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:st||bn(n,t);var s=Qe,c=Tt;ha(n.type)&&(Qe=n.stateNode,Tt=!1),Ln(e,t,n),Fs(n.stateNode),Qe=s,Tt=c;break;case 5:st||bn(n,t);case 6:if(s=Qe,c=Tt,Qe=null,Ln(e,t,n),Qe=s,Tt=c,Qe!==null)if(Tt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(n.stateNode)}catch(h){qe(n,t,h)}else try{Qe.removeChild(n.stateNode)}catch(h){qe(n,t,h)}break;case 18:Qe!==null&&(Tt?(e=Qe,$m(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),$r(e)):$m(Qe,n.stateNode));break;case 4:s=Qe,c=Tt,Qe=n.stateNode.containerInfo,Tt=!0,Ln(e,t,n),Qe=s,Tt=c;break;case 0:case 11:case 14:case 15:sa(2,n,t),st||sa(4,n,t),Ln(e,t,n);break;case 1:st||(bn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&Vf(n,t,s)),Ln(e,t,n);break;case 21:Ln(e,t,n);break;case 22:st=(s=st)||n.memoizedState!==null,Ln(e,t,n),st=s;break;default:Ln(e,t,n)}}function Xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$r(e)}catch(n){qe(t,t.return,n)}}}function Jf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$r(e)}catch(n){qe(t,t.return,n)}}function Q0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new If),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new If),t;default:throw Error(l(435,e.tag))}}function ll(e,t){var n=Q0(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var c=rv.bind(null,e,s);s.then(c,c)}})}function At(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var c=n[s],h=e,y=t,w=y;e:for(;w!==null;){switch(w.tag){case 27:if(ha(w.type)){Qe=w.stateNode,Tt=!1;break e}break;case 5:Qe=w.stateNode,Tt=!1;break e;case 3:case 4:Qe=w.stateNode.containerInfo,Tt=!0;break e}w=w.return}if(Qe===null)throw Error(l(160));Qf(h,y,c),Qe=null,Tt=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Zf(t,e),t=t.sibling}var cn=null;function Zf(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(t,e),Ot(e),s&4&&(sa(3,e,e.return),Bs(3,e),sa(5,e,e.return));break;case 1:At(t,e),Ot(e),s&512&&(st||n===null||bn(n,n.return)),s&64&&zn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var c=cn;if(At(t,e),Ot(e),s&512&&(st||n===null||bn(n,n.return)),s&4){var h=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(s){case"title":h=c.getElementsByTagName("title")[0],(!h||h[hs]||h[Le]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(s),c.head.insertBefore(h,c.querySelector("head > title"))),gt(h,s,n),h[Le]=e,ct(h),s=h;break e;case"link":var y=Zm("link","href",c).get(s+(n.href||""));if(y){for(var w=0;w<y.length;w++)if(h=y[w],h.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&h.getAttribute("rel")===(n.rel==null?null:n.rel)&&h.getAttribute("title")===(n.title==null?null:n.title)&&h.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(w,1);break t}}h=c.createElement(s),gt(h,s,n),c.head.appendChild(h);break;case"meta":if(y=Zm("meta","content",c).get(s+(n.content||""))){for(w=0;w<y.length;w++)if(h=y[w],h.getAttribute("content")===(n.content==null?null:""+n.content)&&h.getAttribute("name")===(n.name==null?null:n.name)&&h.getAttribute("property")===(n.property==null?null:n.property)&&h.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&h.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(w,1);break t}}h=c.createElement(s),gt(h,s,n),c.head.appendChild(h);break;default:throw Error(l(468,s))}h[Le]=e,ct(h),s=h}e.stateNode=s}else Wm(c,e.type,e.stateNode);else e.stateNode=Jm(c,s,e.memoizedProps);else h!==s?(h===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):h.count--,s===null?Wm(c,e.type,e.stateNode):Jm(c,s,e.memoizedProps)):s===null&&e.stateNode!==null&&zu(e,e.memoizedProps,n.memoizedProps)}break;case 27:At(t,e),Ot(e),s&512&&(st||n===null||bn(n,n.return)),n!==null&&s&4&&zu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(At(t,e),Ot(e),s&512&&(st||n===null||bn(n,n.return)),e.flags&32){c=e.stateNode;try{cr(c,"")}catch(ne){qe(e,e.return,ne)}}s&4&&e.stateNode!=null&&(c=e.memoizedProps,zu(e,c,n!==null?n.memoizedProps:c)),s&1024&&(qu=!0);break;case 6:if(At(t,e),Ot(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(ne){qe(e,e.return,ne)}}break;case 3:if(jl=null,c=cn,cn=wl(t.containerInfo),At(t,e),cn=c,Ot(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{$r(t.containerInfo)}catch(ne){qe(e,e.return,ne)}qu&&(qu=!1,Wf(e));break;case 4:s=cn,cn=wl(e.stateNode.containerInfo),At(t,e),Ot(e),cn=s;break;case 12:At(t,e),Ot(e);break;case 31:At(t,e),Ot(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ll(e,s)));break;case 13:At(t,e),Ot(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ul=wt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ll(e,s)));break;case 22:c=e.memoizedState!==null;var T=n!==null&&n.memoizedState!==null,z=zn,$=st;if(zn=z||c,st=$||T,At(t,e),st=$,zn=z,Ot(e),s&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||T||zn||st||$a(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){T=n=t;try{if(h=T.stateNode,c)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=T.stateNode;var K=T.memoizedProps.style,L=K!=null&&K.hasOwnProperty("display")?K.display:null;w.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(ne){qe(T,T.return,ne)}}}else if(t.tag===6){if(n===null){T=t;try{T.stateNode.nodeValue=c?"":T.memoizedProps}catch(ne){qe(T,T.return,ne)}}}else if(t.tag===18){if(n===null){T=t;try{var B=T.stateNode;c?Vm(B,!0):Vm(T.stateNode,!1)}catch(ne){qe(T,T.return,ne)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,ll(e,n))));break;case 19:At(t,e),Ot(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ll(e,s)));break;case 30:break;case 21:break;default:At(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(Gf(s)){n=s;break}s=s.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var c=n.stateNode,h=Lu(e);il(e,h,c);break;case 5:var y=n.stateNode;n.flags&32&&(cr(y,""),n.flags&=-33);var w=Lu(e);il(e,w,y);break;case 3:case 4:var T=n.stateNode.containerInfo,z=Lu(e);Bu(e,z,T);break;default:throw Error(l(161))}}catch($){qe(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Wf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Bn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Pf(e,t.alternate,t),t=t.sibling}function $a(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sa(4,t,t.return),$a(t);break;case 1:bn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Vf(t,t.return,n),$a(t);break;case 27:Fs(t.stateNode);case 26:case 5:bn(t,t.return),$a(t);break;case 22:t.memoizedState===null&&$a(t);break;case 30:$a(t);break;default:$a(t)}e=e.sibling}}function qn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,c=e,h=t,y=h.flags;switch(h.tag){case 0:case 11:case 15:qn(c,h,n),Bs(4,h);break;case 1:if(qn(c,h,n),s=h,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){qe(s,s.return,z)}if(s=h,c=s.updateQueue,c!==null){var w=s.stateNode;try{var T=c.shared.hiddenCallbacks;if(T!==null)for(c.shared.hiddenCallbacks=null,c=0;c<T.length;c++)Oh(T[c],w)}catch(z){qe(s,s.return,z)}}n&&y&64&&$f(h),qs(h,h.return);break;case 27:Kf(h);case 26:case 5:qn(c,h,n),n&&s===null&&y&4&&Yf(h),qs(h,h.return);break;case 12:qn(c,h,n);break;case 31:qn(c,h,n),n&&y&4&&Xf(c,h);break;case 13:qn(c,h,n),n&&y&4&&Jf(c,h);break;case 22:h.memoizedState===null&&qn(c,h,n),qs(h,h.return);break;case 30:break;default:qn(c,h,n)}t=t.sibling}}function Hu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ns(n))}function $u(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ns(e))}function dn(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)em(e,t,n,s),t=t.sibling}function em(e,t,n,s){var c=t.flags;switch(t.tag){case 0:case 11:case 15:dn(e,t,n,s),c&2048&&Bs(9,t);break;case 1:dn(e,t,n,s);break;case 3:dn(e,t,n,s),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ns(e)));break;case 12:if(c&2048){dn(e,t,n,s),e=t.stateNode;try{var h=t.memoizedProps,y=h.id,w=h.onPostCommit;typeof w=="function"&&w(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){qe(t,t.return,T)}}else dn(e,t,n,s);break;case 31:dn(e,t,n,s);break;case 13:dn(e,t,n,s);break;case 23:break;case 22:h=t.stateNode,y=t.alternate,t.memoizedState!==null?h._visibility&2?dn(e,t,n,s):Hs(e,t):h._visibility&2?dn(e,t,n,s):(h._visibility|=2,Rr(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Hu(y,t);break;case 24:dn(e,t,n,s),c&2048&&$u(t.alternate,t);break;default:dn(e,t,n,s)}}function Rr(e,t,n,s,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,y=t,w=n,T=s,z=y.flags;switch(y.tag){case 0:case 11:case 15:Rr(h,y,w,T,c),Bs(8,y);break;case 23:break;case 22:var $=y.stateNode;y.memoizedState!==null?$._visibility&2?Rr(h,y,w,T,c):Hs(h,y):($._visibility|=2,Rr(h,y,w,T,c)),c&&z&2048&&Hu(y.alternate,y);break;case 24:Rr(h,y,w,T,c),c&&z&2048&&$u(y.alternate,y);break;default:Rr(h,y,w,T,c)}t=t.sibling}}function Hs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,c=s.flags;switch(s.tag){case 22:Hs(n,s),c&2048&&Hu(s.alternate,s);break;case 24:Hs(n,s),c&2048&&$u(s.alternate,s);break;default:Hs(n,s)}t=t.sibling}}var $s=8192;function kr(e,t,n){if(e.subtreeFlags&$s)for(e=e.child;e!==null;)tm(e,t,n),e=e.sibling}function tm(e,t,n){switch(e.tag){case 26:kr(e,t,n),e.flags&$s&&e.memoizedState!==null&&Uv(n,cn,e.memoizedState,e.memoizedProps);break;case 5:kr(e,t,n);break;case 3:case 4:var s=cn;cn=wl(e.stateNode.containerInfo),kr(e,t,n),cn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=$s,$s=16777216,kr(e,t,n),$s=s):kr(e,t,n));break;default:kr(e,t,n)}}function nm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Vs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];dt=s,rm(s,e)}nm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)am(e),e=e.sibling}function am(e){switch(e.tag){case 0:case 11:case 15:Vs(e),e.flags&2048&&sa(9,e,e.return);break;case 3:Vs(e);break;case 12:Vs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ol(e)):Vs(e);break;default:Vs(e)}}function ol(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];dt=s,rm(s,e)}nm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:sa(8,t,t.return),ol(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ol(t));break;default:ol(t)}e=e.sibling}}function rm(e,t){for(;dt!==null;){var n=dt;switch(n.tag){case 0:case 11:case 15:sa(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ns(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,dt=s;else e:for(n=e;dt!==null;){s=dt;var c=s.sibling,h=s.return;if(Ff(s),s===n){dt=null;break e}if(c!==null){c.return=h,dt=c;break e}dt=h}}}var X0={getCacheForType:function(e){var t=mt(nt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return mt(nt).controller.signal}},J0=typeof WeakMap=="function"?WeakMap:Map,ze=0,Ge=null,je=null,Te=0,Be=0,Bt=null,ia=!1,Cr=!1,Vu=!1,Hn=0,We=0,la=0,Va=0,Yu=0,qt=0,Dr=0,Ys=null,Rt=null,Gu=!1,ul=0,sm=0,cl=1/0,dl=null,oa=null,ot=0,ua=null,Mr=null,$n=0,Ku=0,Iu=null,im=null,Gs=0,Pu=null;function Ht(){return(ze&2)!==0&&Te!==0?Te&-Te:q.T!==null?Wu():Dt()}function lm(){if(qt===0)if((Te&536870912)===0||ke){var e=nr;nr<<=1,(nr&3932160)===0&&(nr=262144),qt=e}else qt=536870912;return e=zt.current,e!==null&&(e.flags|=32),qt}function kt(e,t,n){(e===Ge&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(Ur(e,0),ca(e,Te,qt,!1)),De(e,n),((ze&2)===0||e!==Ge)&&(e===Ge&&((ze&2)===0&&(Va|=n),We===4&&ca(e,Te,qt,!1)),wn(e))}function om(e,t,n){if((ze&6)!==0)throw Error(l(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||H(e,t),c=s?ev(e,t):Qu(e,t,!0),h=s;do{if(c===0){Cr&&!s&&ca(e,t,0,!1);break}else{if(n=e.current.alternate,h&&!Z0(n)){c=Qu(e,t,!1),h=!1;continue}if(c===2){if(h=t,e.errorRecoveryDisabledLanes&h)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var w=e;c=Ys;var T=w.current.memoizedState.isDehydrated;if(T&&(Ur(w,y).flags|=256),y=Qu(w,y,!1),y!==2){if(Vu&&!T){w.errorRecoveryDisabledLanes|=h,Va|=h,c=4;break e}h=Rt,Rt=c,h!==null&&(Rt===null?Rt=h:Rt.push.apply(Rt,h))}c=y}if(h=!1,c!==2)continue}}if(c===1){Ur(e,0),ca(e,t,0,!0);break}e:{switch(s=e,h=c,h){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:ca(s,t,qt,!ia);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(c=ul+300-wt(),10<c)){if(ca(s,t,qt,!ia),v(s,0,!0)!==0)break e;$n=t,s.timeoutHandle=qm(um.bind(null,s,n,Rt,dl,Gu,t,qt,Va,Dr,ia,h,"Throttled",-0,0),c);break e}um(s,n,Rt,dl,Gu,t,qt,Va,Dr,ia,h,null,-0,0)}}break}while(!0);wn(e)}function um(e,t,n,s,c,h,y,w,T,z,$,K,L,B){if(e.timeoutHandle=-1,K=t.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:En},tm(t,h,K);var ne=(h&62914560)===h?ul-wt():(h&4194048)===h?sm-wt():0;if(ne=zv(K,ne),ne!==null){$n=h,e.cancelPendingCommit=ne(ym.bind(null,e,t,h,n,s,c,y,w,T,$,K,null,L,B)),ca(e,h,y,!z);return}}ym(e,t,h,n,s,c,y,w,T)}function Z0(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var c=n[s],h=c.getSnapshot;c=c.value;try{if(!Mt(h(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ca(e,t,n,s){t&=~Yu,t&=~Va,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var c=t;0<c;){var h=31-jt(c),y=1<<h;s[h]=-1,c&=~y}n!==0&&Ke(e,n,t)}function hl(){return(ze&6)===0?(Ks(0),!1):!0}function Fu(){if(je!==null){if(Be===0)var e=je.return;else e=je,Rn=Da=null,cu(e),Nr=null,Ts=0,e=je;for(;e!==null;)Hf(e.alternate,e),e=e.return;je=null}}function Ur(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,vv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),$n=0,Fu(),Ge=e,je=n=An(e.current,null),Te=t,Be=0,Bt=null,ia=!1,Cr=H(e,t),Vu=!1,Dr=qt=Yu=Va=la=We=0,Rt=Ys=null,Gu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var c=31-jt(s),h=1<<c;t|=e[c],s&=~h}return Hn=t,Di(),n}function cm(e,t){ve=null,q.H=Us,t===Sr||t===$i?(t=Nh(),Be=3):t===Zo?(t=Nh(),Be=4):Be=t===Eu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bt=t,je===null&&(We=1,tl(e,Qt(t,e.current)))}function dm(){var e=zt.current;return e===null?!0:(Te&4194048)===Te?Wt===null:(Te&62914560)===Te||(Te&536870912)!==0?e===Wt:!1}function hm(){var e=q.H;return q.H=Us,e===null?Us:e}function fm(){var e=q.A;return q.A=X0,e}function fl(){We=4,ia||(Te&4194048)!==Te&&zt.current!==null||(Cr=!0),(la&134217727)===0&&(Va&134217727)===0||Ge===null||ca(Ge,Te,qt,!1)}function Qu(e,t,n){var s=ze;ze|=2;var c=hm(),h=fm();(Ge!==e||Te!==t)&&(dl=null,Ur(e,t)),t=!1;var y=We;e:do try{if(Be!==0&&je!==null){var w=je,T=Bt;switch(Be){case 8:Fu(),y=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(t=!0);var z=Be;if(Be=0,Bt=null,zr(e,w,T,z),n&&Cr){y=0;break e}break;default:z=Be,Be=0,Bt=null,zr(e,w,T,z)}}W0(),y=We;break}catch($){cm(e,$)}while(!0);return t&&e.shellSuspendCounter++,Rn=Da=null,ze=s,q.H=c,q.A=h,je===null&&(Ge=null,Te=0,Di()),y}function W0(){for(;je!==null;)mm(je)}function ev(e,t){var n=ze;ze|=2;var s=hm(),c=fm();Ge!==e||Te!==t?(dl=null,cl=wt()+500,Ur(e,t)):Cr=H(e,t);e:do try{if(Be!==0&&je!==null){t=je;var h=Bt;t:switch(Be){case 1:Be=0,Bt=null,zr(e,t,h,1);break;case 2:case 9:if(jh(h)){Be=0,Bt=null,pm(t);break}t=function(){Be!==2&&Be!==9||Ge!==e||(Be=7),wn(e)},h.then(t,t);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:jh(h)?(Be=0,Bt=null,pm(t)):(Be=0,Bt=null,zr(e,t,h,7));break;case 5:var y=null;switch(je.tag){case 26:y=je.memoizedState;case 5:case 27:var w=je;if(y?ep(y):w.stateNode.complete){Be=0,Bt=null;var T=w.sibling;if(T!==null)je=T;else{var z=w.return;z!==null?(je=z,ml(z)):je=null}break t}}Be=0,Bt=null,zr(e,t,h,5);break;case 6:Be=0,Bt=null,zr(e,t,h,6);break;case 8:Fu(),We=6;break e;default:throw Error(l(462))}}tv();break}catch($){cm(e,$)}while(!0);return Rn=Da=null,q.H=s,q.A=c,ze=n,je!==null?0:(Ge=null,Te=0,Di(),We)}function tv(){for(;je!==null&&!io();)mm(je)}function mm(e){var t=Bf(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?ml(e):je=t}function pm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Cf(n,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=Cf(n,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:cu(t);default:Hf(n,t),t=je=hh(t,Hn),t=Bf(n,t,Hn)}e.memoizedProps=e.pendingProps,t===null?ml(e):je=t}function zr(e,t,n,s){Rn=Da=null,cu(t),Nr=null,Ts=0;var c=t.return;try{if(Y0(e,c,t,n,Te)){We=1,tl(e,Qt(n,e.current)),je=null;return}}catch(h){if(c!==null)throw je=c,h;We=1,tl(e,Qt(n,e.current)),je=null;return}t.flags&32768?(ke||s===1?e=!0:Cr||(Te&536870912)!==0?e=!1:(ia=e=!0,(s===2||s===9||s===3||s===6)&&(s=zt.current,s!==null&&s.tag===13&&(s.flags|=16384))),gm(t,e)):ml(t)}function ml(e){var t=e;do{if((t.flags&32768)!==0){gm(t,ia);return}e=t.return;var n=I0(t.alternate,t,Hn);if(n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);We===0&&(We=5)}function gm(e,t){do{var n=P0(e.alternate,e);if(n!==null){n.flags&=32767,je=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){je=e;return}je=e=n}while(e!==null);We=6,je=null}function ym(e,t,n,s,c,h,y,w,T){e.cancelPendingCommit=null;do pl();while(ot!==0);if((ze&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(h=t.lanes|t.childLanes,h|=Lo,Kt(e,n,h,y,w,T),e===Ge&&(je=Ge=null,Te=0),Mr=t,ua=e,$n=n,Ku=h,Iu=c,im=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sv(Na,function(){return _m(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=q.T,q.T=null,c=Y.p,Y.p=2,y=ze,ze|=4;try{F0(e,t,n)}finally{ze=y,Y.p=c,q.T=s}}ot=1,vm(),xm(),bm()}}function vm(){if(ot===1){ot=0;var e=ua,t=Mr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=q.T,q.T=null;var s=Y.p;Y.p=2;var c=ze;ze|=4;try{Zf(t,e);var h=lc,y=ah(e.containerInfo),w=h.focusedElem,T=h.selectionRange;if(y!==w&&w&&w.ownerDocument&&nh(w.ownerDocument.documentElement,w)){if(T!==null&&Co(w)){var z=T.start,$=T.end;if($===void 0&&($=z),"selectionStart"in w)w.selectionStart=z,w.selectionEnd=Math.min($,w.value.length);else{var K=w.ownerDocument||document,L=K&&K.defaultView||window;if(L.getSelection){var B=L.getSelection(),ne=w.textContent.length,he=Math.min(T.start,ne),Ye=T.end===void 0?he:Math.min(T.end,ne);!B.extend&&he>Ye&&(y=Ye,Ye=he,he=y);var D=th(w,he),A=th(w,Ye);if(D&&A&&(B.rangeCount!==1||B.anchorNode!==D.node||B.anchorOffset!==D.offset||B.focusNode!==A.node||B.focusOffset!==A.offset)){var U=K.createRange();U.setStart(D.node,D.offset),B.removeAllRanges(),he>Ye?(B.addRange(U),B.extend(A.node,A.offset)):(U.setEnd(A.node,A.offset),B.addRange(U))}}}}for(K=[],B=w;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<K.length;w++){var G=K[w];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Tl=!!ic,lc=ic=null}finally{ze=c,Y.p=s,q.T=n}}e.current=t,ot=2}}function xm(){if(ot===2){ot=0;var e=ua,t=Mr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=q.T,q.T=null;var s=Y.p;Y.p=2;var c=ze;ze|=4;try{Pf(e,t.alternate,t)}finally{ze=c,Y.p=s,q.T=n}}ot=3}}function bm(){if(ot===4||ot===3){ot=0,lo();var e=ua,t=Mr,n=$n,s=im;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ot=5:(ot=0,Mr=ua=null,wm(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(oa=null),ar(n),t=t.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Fn,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=q.T,c=Y.p,Y.p=2,q.T=null;try{for(var h=e.onRecoverableError,y=0;y<s.length;y++){var w=s[y];h(w.value,{componentStack:w.stack})}}finally{q.T=t,Y.p=c}}($n&3)!==0&&pl(),wn(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===Pu?Gs++:(Gs=0,Pu=e):Gs=0,Ks(0)}}function wm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ns(t)))}function pl(){return vm(),xm(),bm(),_m()}function _m(){if(ot!==5)return!1;var e=ua,t=Ku;Ku=0;var n=ar($n),s=q.T,c=Y.p;try{Y.p=32>n?32:n,q.T=null,n=Iu,Iu=null;var h=ua,y=$n;if(ot=0,Mr=ua=null,$n=0,(ze&6)!==0)throw Error(l(331));var w=ze;if(ze|=4,am(h.current),em(h,h.current,y,n),ze=w,Ks(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Fn,h)}catch{}return!0}finally{Y.p=c,q.T=s,wm(e,t)}}function jm(e,t,n){t=Qt(n,t),t=Nu(e.stateNode,t,2),e=na(e,t,2),e!==null&&(De(e,2),wn(e))}function qe(e,t,n){if(e.tag===3)jm(e,e,n);else for(;t!==null;){if(t.tag===3){jm(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(oa===null||!oa.has(s))){e=Qt(n,e),n=Sf(2),s=na(t,n,2),s!==null&&(Nf(n,s,t,e),De(s,2),wn(s));break}}t=t.return}}function Xu(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new J0;var c=new Set;s.set(t,c)}else c=s.get(t),c===void 0&&(c=new Set,s.set(t,c));c.has(n)||(Vu=!0,c.add(n),e=nv.bind(null,e,t,n),t.then(e,e))}function nv(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ge===e&&(Te&n)===n&&(We===4||We===3&&(Te&62914560)===Te&&300>wt()-ul?(ze&2)===0&&Ur(e,0):Yu|=n,Dr===Te&&(Dr=0)),wn(e)}function Sm(e,t){t===0&&(t=me()),e=Ra(e,t),e!==null&&(De(e,t),wn(e))}function av(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sm(e,n)}function rv(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),Sm(e,n)}function sv(e,t){return us(e,t)}var gl=null,Lr=null,Ju=!1,yl=!1,Zu=!1,da=0;function wn(e){e!==Lr&&e.next===null&&(Lr===null?gl=Lr=e:Lr=Lr.next=e),yl=!0,Ju||(Ju=!0,lv())}function Ks(e,t){if(!Zu&&yl){Zu=!0;do for(var n=!1,s=gl;s!==null;){if(e!==0){var c=s.pendingLanes;if(c===0)var h=0;else{var y=s.suspendedLanes,w=s.pingedLanes;h=(1<<31-jt(42|e)+1)-1,h&=c&~(y&~w),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(n=!0,Am(s,h))}else h=Te,h=v(s,s===Ge?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||H(s,h)||(n=!0,Am(s,h));s=s.next}while(n);Zu=!1}}function iv(){Nm()}function Nm(){yl=Ju=!1;var e=0;da!==0&&yv()&&(e=da);for(var t=wt(),n=null,s=gl;s!==null;){var c=s.next,h=Em(s,t);h===0?(s.next=null,n===null?gl=c:n.next=c,c===null&&(Lr=n)):(n=s,(e!==0||(h&3)!==0)&&(yl=!0)),s=c}ot!==0&&ot!==5||Ks(e),da!==0&&(da=0)}function Em(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var y=31-jt(h),w=1<<y,T=c[y];T===-1?((w&n)===0||(w&s)!==0)&&(c[y]=W(w,t)):T<=t&&(e.expiredLanes|=w),h&=~w}if(t=Ge,n=Te,n=v(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&er(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||H(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&er(s),ar(n)){case 2:case 8:n=xi;break;case 32:n=Na;break;case 268435456:n=bi;break;default:n=Na}return s=Tm.bind(null,e),n=us(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&er(s),e.callbackPriority=2,e.callbackNode=null,2}function Tm(e,t){if(ot!==0&&ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(pl()&&e.callbackNode!==n)return null;var s=Te;return s=v(e,e===Ge?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(om(e,s,t),Em(e,wt()),e.callbackNode!=null&&e.callbackNode===n?Tm.bind(null,e):null)}function Am(e,t){if(pl())return null;om(e,t,!0)}function lv(){xv(function(){(ze&6)!==0?us(cs,iv):Nm()})}function Wu(){if(da===0){var e=_r;e===0&&(e=tr,tr<<=1,(tr&261888)===0&&(tr=256)),da=e}return da}function Om(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ni(""+e)}function Rm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function ov(e,t,n,s,c){if(t==="submit"&&n&&n.stateNode===c){var h=Om((c[Nt]||null).action),y=s.submitter;y&&(t=(t=y[Nt]||null)?Om(t.formAction):y.getAttribute("formAction"),t!==null&&(h=t,y=null));var w=new Oi("action","action",null,s,c);e.push({event:w,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(da!==0){var T=y?Rm(c,y):new FormData(c);xu(n,{pending:!0,data:T,method:c.method,action:h},null,T)}}else typeof h=="function"&&(w.preventDefault(),T=y?Rm(c,y):new FormData(c),xu(n,{pending:!0,data:T,method:c.method,action:h},h,T))},currentTarget:c}]})}}for(var ec=0;ec<zo.length;ec++){var tc=zo[ec],uv=tc.toLowerCase(),cv=tc[0].toUpperCase()+tc.slice(1);un(uv,"on"+cv)}un(ih,"onAnimationEnd"),un(lh,"onAnimationIteration"),un(oh,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(E0,"onTransitionRun"),un(T0,"onTransitionStart"),un(A0,"onTransitionCancel"),un(uh,"onTransitionEnd"),or("onMouseEnter",["mouseout","mouseover"]),or("onMouseLeave",["mouseout","mouseover"]),or("onPointerEnter",["pointerout","pointerover"]),or("onPointerLeave",["pointerout","pointerover"]),Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Is));function km(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],c=s.event;s=s.listeners;e:{var h=void 0;if(t)for(var y=s.length-1;0<=y;y--){var w=s[y],T=w.instance,z=w.currentTarget;if(w=w.listener,T!==h&&c.isPropagationStopped())break e;h=w,c.currentTarget=z;try{h(c)}catch($){Ci($)}c.currentTarget=null,h=T}else for(y=0;y<s.length;y++){if(w=s[y],T=w.instance,z=w.currentTarget,w=w.listener,T!==h&&c.isPropagationStopped())break e;h=w,c.currentTarget=z;try{h(c)}catch($){Ci($)}c.currentTarget=null,h=T}}}}function Se(e,t){var n=t[mo];n===void 0&&(n=t[mo]=new Set);var s=e+"__bubble";n.has(s)||(Cm(t,e,2,!1),n.add(s))}function nc(e,t,n){var s=0;t&&(s|=4),Cm(n,e,s,t)}var vl="_reactListening"+Math.random().toString(36).slice(2);function ac(e){if(!e[vl]){e[vl]=!0,Sd.forEach(function(n){n!=="selectionchange"&&(dv.has(n)||nc(n,!1,e),nc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vl]||(t[vl]=!0,nc("selectionchange",!1,t))}}function Cm(e,t,n,s){switch(lp(t)){case 2:var c=qv;break;case 8:c=Hv;break;default:c=vc}n=c.bind(null,t,n,e),c=void 0,!jo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function rc(e,t,n,s,c){var h=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var y=s.tag;if(y===3||y===4){var w=s.stateNode.containerInfo;if(w===c)break;if(y===4)for(y=s.return;y!==null;){var T=y.tag;if((T===3||T===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;w!==null;){if(y=sr(w),y===null)return;if(T=y.tag,T===5||T===6||T===26||T===27){s=h=y;continue e}w=w.parentNode}}s=s.return}zd(function(){var z=h,$=wo(n),K=[];e:{var L=ch.get(e);if(L!==void 0){var B=Oi,ne=e;switch(e){case"keypress":if(Ti(n)===0)break e;case"keydown":case"keyup":B=r0;break;case"focusin":ne="focus",B=To;break;case"focusout":ne="blur",B=To;break;case"beforeblur":case"afterblur":B=To;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Iy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=l0;break;case ih:case lh:case oh:B=Qy;break;case uh:B=u0;break;case"scroll":case"scrollend":B=Gy;break;case"wheel":B=d0;break;case"copy":case"cut":case"paste":B=Jy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=$d;break;case"toggle":case"beforetoggle":B=f0}var he=(t&4)!==0,Ye=!he&&(e==="scroll"||e==="scrollend"),D=he?L!==null?L+"Capture":null:L;he=[];for(var A=z,U;A!==null;){var G=A;if(U=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||U===null||D===null||(G=ms(A,D),G!=null&&he.push(Ps(A,G,U))),Ye)break;A=A.return}0<he.length&&(L=new B(L,ne,null,n,$),K.push({event:L,listeners:he}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",L&&n!==bo&&(ne=n.relatedTarget||n.fromElement)&&(sr(ne)||ne[rr]))break e;if((B||L)&&(L=$.window===$?$:(L=$.ownerDocument)?L.defaultView||L.parentWindow:window,B?(ne=n.relatedTarget||n.toElement,B=z,ne=ne?sr(ne):null,ne!==null&&(Ye=d(ne),he=ne.tag,ne!==Ye||he!==5&&he!==27&&he!==6)&&(ne=null)):(B=null,ne=z),B!==ne)){if(he=qd,G="onMouseLeave",D="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(he=$d,G="onPointerLeave",D="onPointerEnter",A="pointer"),Ye=B==null?L:fs(B),U=ne==null?L:fs(ne),L=new he(G,A+"leave",B,n,$),L.target=Ye,L.relatedTarget=U,G=null,sr($)===z&&(he=new he(D,A+"enter",ne,n,$),he.target=U,he.relatedTarget=Ye,G=he),Ye=G,B&&ne)t:{for(he=hv,D=B,A=ne,U=0,G=D;G;G=he(G))U++;G=0;for(var de=A;de;de=he(de))G++;for(;0<U-G;)D=he(D),U--;for(;0<G-U;)A=he(A),G--;for(;U--;){if(D===A||A!==null&&D===A.alternate){he=D;break t}D=he(D),A=he(A)}he=null}else he=null;B!==null&&Dm(K,L,B,he,!1),ne!==null&&Ye!==null&&Dm(K,Ye,ne,he,!0)}}e:{if(L=z?fs(z):window,B=L.nodeName&&L.nodeName.toLowerCase(),B==="select"||B==="input"&&L.type==="file")var Me=Qd;else if(Pd(L))if(Xd)Me=j0;else{Me=w0;var se=b0}else B=L.nodeName,!B||B.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?z&&xo(z.elementType)&&(Me=Qd):Me=_0;if(Me&&(Me=Me(e,z))){Fd(K,Me,n,$);break e}se&&se(e,L,z),e==="focusout"&&z&&L.type==="number"&&z.memoizedProps.value!=null&&vo(L,"number",L.value)}switch(se=z?fs(z):window,e){case"focusin":(Pd(se)||se.contentEditable==="true")&&(mr=se,Do=z,_s=null);break;case"focusout":_s=Do=mr=null;break;case"mousedown":Mo=!0;break;case"contextmenu":case"mouseup":case"dragend":Mo=!1,rh(K,n,$);break;case"selectionchange":if(N0)break;case"keydown":case"keyup":rh(K,n,$)}var be;if(Oo)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else fr?Kd(e,n)&&(Ae="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ae="onCompositionStart");Ae&&(Vd&&n.locale!=="ko"&&(fr||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&fr&&(be=Ld()):(Qn=$,So="value"in Qn?Qn.value:Qn.textContent,fr=!0)),se=xl(z,Ae),0<se.length&&(Ae=new Hd(Ae,e,null,n,$),K.push({event:Ae,listeners:se}),be?Ae.data=be:(be=Id(n),be!==null&&(Ae.data=be)))),(be=p0?g0(e,n):y0(e,n))&&(Ae=xl(z,"onBeforeInput"),0<Ae.length&&(se=new Hd("onBeforeInput","beforeinput",null,n,$),K.push({event:se,listeners:Ae}),se.data=be)),ov(K,e,z,n,$)}km(K,t)})}function Ps(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xl(e,t){for(var n=t+"Capture",s=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=ms(e,n),c!=null&&s.unshift(Ps(e,c,h)),c=ms(e,t),c!=null&&s.push(Ps(e,c,h))),e.tag===3)return s;e=e.return}return[]}function hv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dm(e,t,n,s,c){for(var h=t._reactName,y=[];n!==null&&n!==s;){var w=n,T=w.alternate,z=w.stateNode;if(w=w.tag,T!==null&&T===s)break;w!==5&&w!==26&&w!==27||z===null||(T=z,c?(z=ms(n,h),z!=null&&y.unshift(Ps(n,z,T))):c||(z=ms(n,h),z!=null&&y.push(Ps(n,z,T)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var fv=/\r\n?/g,mv=/\u0000|\uFFFD/g;function Mm(e){return(typeof e=="string"?e:""+e).replace(fv,`
`).replace(mv,"")}function Um(e,t){return t=Mm(t),Mm(e)===t}function Ve(e,t,n,s,c,h){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||cr(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&cr(e,""+s);break;case"className":ji(e,"class",s);break;case"tabIndex":ji(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ji(e,n,s);break;case"style":Md(e,s,h);break;case"data":if(t!=="object"){ji(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Ni(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(n==="formAction"?(t!=="input"&&Ve(e,t,"name",c.name,c,null),Ve(e,t,"formEncType",c.formEncType,c,null),Ve(e,t,"formMethod",c.formMethod,c,null),Ve(e,t,"formTarget",c.formTarget,c,null)):(Ve(e,t,"encType",c.encType,c,null),Ve(e,t,"method",c.method,c,null),Ve(e,t,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Ni(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=En);break;case"onScroll":s!=null&&Se("scroll",e);break;case"onScrollEnd":s!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(n=s.__html,n!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=Ni(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":Se("beforetoggle",e),Se("toggle",e),_i(e,"popover",s);break;case"xlinkActuate":Nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Nn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Nn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Nn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Nn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":_i(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Vy.get(n)||n,_i(e,n,s))}}function sc(e,t,n,s,c,h){switch(n){case"style":Md(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(n=s.__html,n!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof s=="string"?cr(e,s):(typeof s=="number"||typeof s=="bigint")&&cr(e,""+s);break;case"onScroll":s!=null&&Se("scroll",e);break;case"onScrollEnd":s!=null&&Se("scrollend",e);break;case"onClick":s!=null&&(e.onclick=En);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nd.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),h=e[Nt]||null,h=h!=null?h[n]:null,typeof h=="function"&&e.removeEventListener(t,h,c),typeof s=="function")){typeof h!="function"&&h!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,c);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):_i(e,n,s)}}}function gt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var s=!1,c=!1,h;for(h in n)if(n.hasOwnProperty(h)){var y=n[h];if(y!=null)switch(h){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ve(e,t,h,y,n,null)}}c&&Ve(e,t,"srcSet",n.srcSet,n,null),s&&Ve(e,t,"src",n.src,n,null);return;case"input":Se("invalid",e);var w=h=y=c=null,T=null,z=null;for(s in n)if(n.hasOwnProperty(s)){var $=n[s];if($!=null)switch(s){case"name":c=$;break;case"type":y=$;break;case"checked":T=$;break;case"defaultChecked":z=$;break;case"value":h=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:Ve(e,t,s,$,n,null)}}Rd(e,h,w,T,z,y,c,!1);return;case"select":Se("invalid",e),s=y=h=null;for(c in n)if(n.hasOwnProperty(c)&&(w=n[c],w!=null))switch(c){case"value":h=w;break;case"defaultValue":y=w;break;case"multiple":s=w;default:Ve(e,t,c,w,n,null)}t=h,n=y,e.multiple=!!s,t!=null?ur(e,!!s,t,!1):n!=null&&ur(e,!!s,n,!0);return;case"textarea":Se("invalid",e),h=c=s=null;for(y in n)if(n.hasOwnProperty(y)&&(w=n[y],w!=null))switch(y){case"value":s=w;break;case"defaultValue":c=w;break;case"children":h=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(l(91));break;default:Ve(e,t,y,w,n,null)}Cd(e,s,c,h);return;case"option":for(T in n)if(n.hasOwnProperty(T)&&(s=n[T],s!=null))switch(T){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ve(e,t,T,s,n,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(s=0;s<Is.length;s++)Se(Is[s],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in n)if(n.hasOwnProperty(z)&&(s=n[z],s!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ve(e,t,z,s,n,null)}return;default:if(xo(t)){for($ in n)n.hasOwnProperty($)&&(s=n[$],s!==void 0&&sc(e,t,$,s,n,void 0));return}}for(w in n)n.hasOwnProperty(w)&&(s=n[w],s!=null&&Ve(e,t,w,s,n,null))}function pv(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,y=null,w=null,T=null,z=null,$=null;for(B in n){var K=n[B];if(n.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":T=K;default:s.hasOwnProperty(B)||Ve(e,t,B,null,s,K)}}for(var L in s){var B=s[L];if(K=n[L],s.hasOwnProperty(L)&&(B!=null||K!=null))switch(L){case"type":h=B;break;case"name":c=B;break;case"checked":z=B;break;case"defaultChecked":$=B;break;case"value":y=B;break;case"defaultValue":w=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,t));break;default:B!==K&&Ve(e,t,L,B,s,K)}}yo(e,y,w,T,z,$,h,c);return;case"select":B=y=w=L=null;for(h in n)if(T=n[h],n.hasOwnProperty(h)&&T!=null)switch(h){case"value":break;case"multiple":B=T;default:s.hasOwnProperty(h)||Ve(e,t,h,null,s,T)}for(c in s)if(h=s[c],T=n[c],s.hasOwnProperty(c)&&(h!=null||T!=null))switch(c){case"value":L=h;break;case"defaultValue":w=h;break;case"multiple":y=h;default:h!==T&&Ve(e,t,c,h,s,T)}t=w,n=y,s=B,L!=null?ur(e,!!n,L,!1):!!s!=!!n&&(t!=null?ur(e,!!n,t,!0):ur(e,!!n,n?[]:"",!1));return;case"textarea":B=L=null;for(w in n)if(c=n[w],n.hasOwnProperty(w)&&c!=null&&!s.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ve(e,t,w,null,s,c)}for(y in s)if(c=s[y],h=n[y],s.hasOwnProperty(y)&&(c!=null||h!=null))switch(y){case"value":L=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==h&&Ve(e,t,y,c,s,h)}kd(e,L,B);return;case"option":for(var ne in n)if(L=n[ne],n.hasOwnProperty(ne)&&L!=null&&!s.hasOwnProperty(ne))switch(ne){case"selected":e.selected=!1;break;default:Ve(e,t,ne,null,s,L)}for(T in s)if(L=s[T],B=n[T],s.hasOwnProperty(T)&&L!==B&&(L!=null||B!=null))switch(T){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Ve(e,t,T,L,s,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in n)L=n[he],n.hasOwnProperty(he)&&L!=null&&!s.hasOwnProperty(he)&&Ve(e,t,he,null,s,L);for(z in s)if(L=s[z],B=n[z],s.hasOwnProperty(z)&&L!==B&&(L!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,t));break;default:Ve(e,t,z,L,s,B)}return;default:if(xo(t)){for(var Ye in n)L=n[Ye],n.hasOwnProperty(Ye)&&L!==void 0&&!s.hasOwnProperty(Ye)&&sc(e,t,Ye,void 0,s,L);for($ in s)L=s[$],B=n[$],!s.hasOwnProperty($)||L===B||L===void 0&&B===void 0||sc(e,t,$,L,s,B);return}}for(var D in n)L=n[D],n.hasOwnProperty(D)&&L!=null&&!s.hasOwnProperty(D)&&Ve(e,t,D,null,s,L);for(K in s)L=s[K],B=n[K],!s.hasOwnProperty(K)||L===B||L==null&&B==null||Ve(e,t,K,L,s,B)}function zm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var c=n[s],h=c.transferSize,y=c.initiatorType,w=c.duration;if(h&&w&&zm(y)){for(y=0,w=c.responseEnd,s+=1;s<n.length;s++){var T=n[s],z=T.startTime;if(z>w)break;var $=T.transferSize,K=T.initiatorType;$&&zm(K)&&(T=T.responseEnd,y+=$*(T<w?1:(w-z)/(T-z)))}if(--s,t+=8*(h+y)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ic=null,lc=null;function bl(e){return e.nodeType===9?e:e.ownerDocument}function Lm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function oc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uc=null;function yv(){var e=window.event;return e&&e.type==="popstate"?e===uc?!1:(uc=e,!0):(uc=null,!1)}var qm=typeof setTimeout=="function"?setTimeout:void 0,vv=typeof clearTimeout=="function"?clearTimeout:void 0,Hm=typeof Promise=="function"?Promise:void 0,xv=typeof queueMicrotask=="function"?queueMicrotask:typeof Hm<"u"?function(e){return Hm.resolve(null).then(e).catch(bv)}:qm;function bv(e){setTimeout(function(){throw e})}function ha(e){return e==="head"}function $m(e,t){var n=t,s=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(c),$r(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")Fs(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Fs(n);for(var h=n.firstChild;h;){var y=h.nextSibling,w=h.nodeName;h[hs]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&h.rel.toLowerCase()==="stylesheet"||n.removeChild(h),h=y}}else n==="body"&&Fs(e.ownerDocument.body);n=c}while(n);$r(t)}function Vm(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function cc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":cc(n),po(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function wv(e,t,n,s){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[hs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=en(e.nextSibling),e===null)break}return null}function _v(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=en(e.nextSibling),e===null))return null;return e}function Ym(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=en(e.nextSibling),e===null))return null;return e}function dc(e){return e.data==="$?"||e.data==="$~"}function hc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function jv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function en(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var fc=null;function Gm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return en(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Km(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Im(e,t,n){switch(t=bl(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Fs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);po(e)}var tn=new Map,Pm=new Set;function wl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vn=Y.d;Y.d={f:Sv,r:Nv,D:Ev,C:Tv,L:Av,m:Ov,X:kv,S:Rv,M:Cv};function Sv(){var e=Vn.f(),t=hl();return e||t}function Nv(e){var t=ir(e);t!==null&&t.tag===5&&t.type==="form"?cf(t):Vn.r(e)}var Br=typeof document>"u"?null:document;function Fm(e,t,n){var s=Br;if(s&&typeof t=="string"&&t){var c=Pt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),Pm.has(c)||(Pm.add(c),e={rel:e,crossOrigin:n,href:t},s.querySelector(c)===null&&(t=s.createElement("link"),gt(t,"link",e),ct(t),s.head.appendChild(t)))}}function Ev(e){Vn.D(e),Fm("dns-prefetch",e,null)}function Tv(e,t){Vn.C(e,t),Fm("preconnect",e,t)}function Av(e,t,n){Vn.L(e,t,n);var s=Br;if(s&&e&&t){var c='link[rel="preload"][as="'+Pt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Pt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Pt(n.imageSizes)+'"]')):c+='[href="'+Pt(e)+'"]';var h=c;switch(t){case"style":h=qr(e);break;case"script":h=Hr(e)}tn.has(h)||(e=b({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),tn.set(h,e),s.querySelector(c)!==null||t==="style"&&s.querySelector(Qs(h))||t==="script"&&s.querySelector(Xs(h))||(t=s.createElement("link"),gt(t,"link",e),ct(t),s.head.appendChild(t)))}}function Ov(e,t){Vn.m(e,t);var n=Br;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Pt(s)+'"][href="'+Pt(e)+'"]',h=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Hr(e)}if(!tn.has(h)&&(e=b({rel:"modulepreload",href:e},t),tn.set(h,e),n.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xs(h)))return}s=n.createElement("link"),gt(s,"link",e),ct(s),n.head.appendChild(s)}}}function Rv(e,t,n){Vn.S(e,t,n);var s=Br;if(s&&e){var c=lr(s).hoistableStyles,h=qr(e);t=t||"default";var y=c.get(h);if(!y){var w={loading:0,preload:null};if(y=s.querySelector(Qs(h)))w.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},n),(n=tn.get(h))&&mc(e,n);var T=y=s.createElement("link");ct(T),gt(T,"link",e),T._p=new Promise(function(z,$){T.onload=z,T.onerror=$}),T.addEventListener("load",function(){w.loading|=1}),T.addEventListener("error",function(){w.loading|=2}),w.loading|=4,_l(y,t,s)}y={type:"stylesheet",instance:y,count:1,state:w},c.set(h,y)}}}function kv(e,t){Vn.X(e,t);var n=Br;if(n&&e){var s=lr(n).hoistableScripts,c=Hr(e),h=s.get(c);h||(h=n.querySelector(Xs(c)),h||(e=b({src:e,async:!0},t),(t=tn.get(c))&&pc(e,t),h=n.createElement("script"),ct(h),gt(h,"link",e),n.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(c,h))}}function Cv(e,t){Vn.M(e,t);var n=Br;if(n&&e){var s=lr(n).hoistableScripts,c=Hr(e),h=s.get(c);h||(h=n.querySelector(Xs(c)),h||(e=b({src:e,async:!0,type:"module"},t),(t=tn.get(c))&&pc(e,t),h=n.createElement("script"),ct(h),gt(h,"link",e),n.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(c,h))}}function Qm(e,t,n,s){var c=(c=xe.current)?wl(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=qr(n.href),n=lr(c).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=qr(n.href);var h=lr(c).hoistableStyles,y=h.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,y),(h=c.querySelector(Qs(e)))&&!h._p&&(y.instance=h,y.state.loading=5),tn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},tn.set(e,n),h||Dv(c,e,n,y.state))),t&&s===null)throw Error(l(528,""));return y}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Hr(n),n=lr(c).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function qr(e){return'href="'+Pt(e)+'"'}function Qs(e){return'link[rel="stylesheet"]['+e+"]"}function Xm(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Dv(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),gt(t,"link",n),ct(t),e.head.appendChild(t))}function Hr(e){return'[src="'+Pt(e)+'"]'}function Xs(e){return"script[async]"+e}function Jm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Pt(n.href)+'"]');if(s)return t.instance=s,ct(s),s;var c=b({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ct(s),gt(s,"style",c),_l(s,n.precedence,e),t.instance=s;case"stylesheet":c=qr(n.href);var h=e.querySelector(Qs(c));if(h)return t.state.loading|=4,t.instance=h,ct(h),h;s=Xm(n),(c=tn.get(c))&&mc(s,c),h=(e.ownerDocument||e).createElement("link"),ct(h);var y=h;return y._p=new Promise(function(w,T){y.onload=w,y.onerror=T}),gt(h,"link",s),t.state.loading|=4,_l(h,n.precedence,e),t.instance=h;case"script":return h=Hr(n.src),(c=e.querySelector(Xs(h)))?(t.instance=c,ct(c),c):(s=n,(c=tn.get(h))&&(s=b({},n),pc(s,c)),e=e.ownerDocument||e,c=e.createElement("script"),ct(c),gt(c,"link",s),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,_l(s,n.precedence,e));return t.instance}function _l(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,h=c,y=0;y<s.length;y++){var w=s[y];if(w.dataset.precedence===t)h=w;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function mc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function pc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var jl=null;function Zm(e,t,n){if(jl===null){var s=new Map,c=jl=new Map;c.set(n,s)}else c=jl,s=c.get(n),s||(s=new Map,c.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var h=n[c];if(!(h[hs]||h[Le]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(t)||"";y=e+y;var w=s.get(y);w?w.push(h):s.set(y,[h])}}return s}function Wm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Mv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ep(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Uv(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=qr(s.href),h=t.querySelector(Qs(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Sl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=h,ct(h);return}h=t.ownerDocument||t,s=Xm(s),(c=tn.get(c))&&mc(s,c),h=h.createElement("link"),ct(h);var y=h;y._p=new Promise(function(w,T){y.onload=w,y.onerror=T}),gt(h,"link",s),n.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Sl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var gc=0;function zv(e,t){return e.stylesheets&&e.count===0&&El(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&El(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&gc===0&&(gc=62500*gv());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&El(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>gc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(c)}}:null}function Sl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)El(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nl=null;function El(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nl=new Map,t.forEach(Lv,e),Nl=null,Sl.call(e))}function Lv(e,t){if(!(t.state.loading&4)){var n=Nl.get(e);if(n)var s=n.get(null);else{n=new Map,Nl.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var y=c[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),s=y)}s&&n.set(null,s)}c=t.instance,y=c.getAttribute("data-precedence"),h=n.get(y)||s,h===s&&n.set(null,c),n.set(y,c),this.count++,s=Sl.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Js={$$typeof:k,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Bv(e,t,n,s,c,h,y,w,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=F(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F(0),this.hiddenUpdates=F(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function tp(e,t,n,s,c,h,y,w,T,z,$,K){return e=new Bv(e,t,n,y,T,z,$,K,w),t=1,h===!0&&(t|=24),h=Ut(3,null,null,t),e.current=h,h.stateNode=e,t=Qo(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:s,isDehydrated:n,cache:t},Wo(h),e}function np(e){return e?(e=yr,e):yr}function ap(e,t,n,s,c,h){c=np(c),s.context===null?s.context=c:s.pendingContext=c,s=ta(t),s.payload={element:n},h=h===void 0?null:h,h!==null&&(s.callback=h),n=na(e,s,t),n!==null&&(kt(n,e,t),Os(n,e,t))}function rp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yc(e,t){rp(e,t),(e=e.alternate)&&rp(e,t)}function sp(e){if(e.tag===13||e.tag===31){var t=Ra(e,67108864);t!==null&&kt(t,e,67108864),yc(e,67108864)}}function ip(e){if(e.tag===13||e.tag===31){var t=Ht();t=Sn(t);var n=Ra(e,t);n!==null&&kt(n,e,t),yc(e,t)}}var Tl=!0;function qv(e,t,n,s){var c=q.T;q.T=null;var h=Y.p;try{Y.p=2,vc(e,t,n,s)}finally{Y.p=h,q.T=c}}function Hv(e,t,n,s){var c=q.T;q.T=null;var h=Y.p;try{Y.p=8,vc(e,t,n,s)}finally{Y.p=h,q.T=c}}function vc(e,t,n,s){if(Tl){var c=xc(s);if(c===null)rc(e,t,s,Al,n),op(e,s);else if(Vv(c,e,t,n,s))s.stopPropagation();else if(op(e,s),t&4&&-1<$v.indexOf(e)){for(;c!==null;){var h=ir(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=jn(h.pendingLanes);if(y!==0){var w=h;for(w.pendingLanes|=2,w.entangledLanes|=2;y;){var T=1<<31-jt(y);w.entanglements[1]|=T,y&=~T}wn(h),(ze&6)===0&&(cl=wt()+500,Ks(0))}}break;case 31:case 13:w=Ra(h,2),w!==null&&kt(w,h,2),hl(),yc(h,2)}if(h=xc(s),h===null&&rc(e,t,s,Al,n),h===c)break;c=h}c!==null&&s.stopPropagation()}else rc(e,t,s,null,n)}}function xc(e){return e=wo(e),bc(e)}var Al=null;function bc(e){if(Al=null,e=sr(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Al=e,null}function lp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oo()){case cs:return 2;case xi:return 8;case Na:case uo:return 32;case bi:return 268435456;default:return 32}default:return 32}}var wc=!1,fa=null,ma=null,pa=null,Zs=new Map,Ws=new Map,ga=[],$v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function op(e,t){switch(e){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":Zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(t.pointerId)}}function ei(e,t,n,s,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:h,targetContainers:[c]},t!==null&&(t=ir(t),t!==null&&sp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Vv(e,t,n,s,c){switch(t){case"focusin":return fa=ei(fa,e,t,n,s,c),!0;case"dragenter":return ma=ei(ma,e,t,n,s,c),!0;case"mouseover":return pa=ei(pa,e,t,n,s,c),!0;case"pointerover":var h=c.pointerId;return Zs.set(h,ei(Zs.get(h)||null,e,t,n,s,c)),!0;case"gotpointercapture":return h=c.pointerId,Ws.set(h,ei(Ws.get(h)||null,e,t,n,s,c)),!0}return!1}function up(e){var t=sr(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,ds(e.priority,function(){ip(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,ds(e.priority,function(){ip(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xc(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);bo=s,n.target.dispatchEvent(s),bo=null}else return t=ir(n),t!==null&&sp(t),e.blockedOn=n,!1;t.shift()}return!0}function cp(e,t,n){Ol(e)&&n.delete(t)}function Yv(){wc=!1,fa!==null&&Ol(fa)&&(fa=null),ma!==null&&Ol(ma)&&(ma=null),pa!==null&&Ol(pa)&&(pa=null),Zs.forEach(cp),Ws.forEach(cp)}function Rl(e,t){e.blockedOn===t&&(e.blockedOn=null,wc||(wc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Yv)))}var kl=null;function dp(e){kl!==e&&(kl=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){kl===e&&(kl=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],c=e[t+2];if(typeof s!="function"){if(bc(s||n)===null)continue;break}var h=ir(n);h!==null&&(e.splice(t,3),t-=3,xu(h,{pending:!0,data:c,method:n.method,action:s},s,c))}}))}function $r(e){function t(T){return Rl(T,e)}fa!==null&&Rl(fa,e),ma!==null&&Rl(ma,e),pa!==null&&Rl(pa,e),Zs.forEach(t),Ws.forEach(t);for(var n=0;n<ga.length;n++){var s=ga[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ga.length&&(n=ga[0],n.blockedOn===null);)up(n),n.blockedOn===null&&ga.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var c=n[s],h=n[s+1],y=c[Nt]||null;if(typeof h=="function")y||dp(n);else if(y){var w=null;if(h&&h.hasAttribute("formAction")){if(c=h,y=h[Nt]||null)w=y.formAction;else if(bc(c)!==null)continue}else w=y.action;typeof w=="function"?n[s+1]=w:(n.splice(s,3),s-=3),dp(n)}}}function hp(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function _c(e){this._internalRoot=e}Cl.prototype.render=_c.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,s=Ht();ap(n,s,e,t,null,null)},Cl.prototype.unmount=_c.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ap(e.current,2,null,e,null,null),hl(),t[rr]=null}};function Cl(e){this._internalRoot=e}Cl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ga.length&&t!==0&&t<ga[n].priority;n++);ga.splice(n,0,e),n===0&&up(e)}};var fp=a.version;if(fp!=="19.2.0")throw Error(l(527,fp,"19.2.0"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=g(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Gv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dl.isDisabled&&Dl.supportsFiber)try{Fn=Dl.inject(Gv),_t=Dl}catch{}}return ni.createRoot=function(e,t){if(!u(e))throw Error(l(299));var n=!1,s="",c=bf,h=wf,y=_f;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=tp(e,1,!1,null,null,n,s,null,c,h,y,hp),e[rr]=t.current,ac(e),new _c(t)},ni.hydrateRoot=function(e,t,n){if(!u(e))throw Error(l(299));var s=!1,c="",h=bf,y=wf,w=_f,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError),n.formState!==void 0&&(T=n.formState)),t=tp(e,1,!0,t,n??null,s,c,T,h,y,w,hp),t.context=np(null),n=t.current,s=Ht(),s=Sn(s),c=ta(s),c.callback=null,na(n,c,s),n=s,t.current.lanes=n,De(t,n),wn(t),e[rr]=t.current,ac(e),new Cl(t)},ni.version="19.2.0",ni}var jp;function nx(){if(jp)return Nc.exports;jp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),Nc.exports=tx(),Nc.exports}var ax=nx();var Sp="popstate";function rx(i={}){function a(l,u){let{pathname:d,search:f,hash:p}=l.location;return Vc("",{pathname:d,search:f,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(l,u){return typeof u=="string"?u:ui(u)}return ix(a,r,null,i)}function Xe(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function rn(i,a){if(!i){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function sx(){return Math.random().toString(36).substring(2,10)}function Np(i,a){return{usr:i.state,key:i.key,idx:a}}function Vc(i,a,r=null,l){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof a=="string"?ts(a):a,state:r,key:a&&a.key||l||sx()}}function ui({pathname:i="/",search:a="",hash:r=""}){return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function ts(i){let a={};if(i){let r=i.indexOf("#");r>=0&&(a.hash=i.substring(r),i=i.substring(0,r));let l=i.indexOf("?");l>=0&&(a.search=i.substring(l),i=i.substring(0,l)),i&&(a.pathname=i)}return a}function ix(i,a,r,l={}){let{window:u=document.defaultView,v5Compat:d=!1}=l,f=u.history,p="POP",m=null,g=x();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function x(){return(f.state||{idx:null}).idx}function b(){p="POP";let R=x(),M=R==null?null:R-g;g=R,m&&m({action:p,location:C.location,delta:M})}function _(R,M){p="PUSH";let O=Vc(C.location,R,M);g=x()+1;let k=Np(O,g),X=C.createHref(O);try{f.pushState(k,"",X)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;u.location.assign(X)}d&&m&&m({action:p,location:C.location,delta:1})}function N(R,M){p="REPLACE";let O=Vc(C.location,R,M);g=x();let k=Np(O,g),X=C.createHref(O);f.replaceState(k,"",X),d&&m&&m({action:p,location:C.location,delta:0})}function S(R){return lx(R)}let C={get action(){return p},get location(){return i(u,f)},listen(R){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(Sp,b),m=R,()=>{u.removeEventListener(Sp,b),m=null}},createHref(R){return a(u,R)},createURL:S,encodeLocation(R){let M=S(R);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:N,go(R){return f.go(R)}};return C}function lx(i,a=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(r,"No window.location.(origin|href) available to create URL");let l=typeof i=="string"?i:ui(i);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function cg(i,a,r="/"){return ox(i,a,r,!1)}function ox(i,a,r,l){let u=typeof a=="string"?ts(a):a,d=In(u.pathname||"/",r);if(d==null)return null;let f=dg(i);ux(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let g=bx(d);p=vx(f[m],g,l)}return p}function dg(i,a=[],r=[],l="",u=!1){let d=(f,p,m=u,g)=>{let x={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(l)&&m)return;Xe(x.relativePath.startsWith(l),`Absolute route path "${x.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(l.length)}let b=Kn([l,x.relativePath]),_=r.concat(x);f.children&&f.children.length>0&&(Xe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),dg(f.children,a,_,b,m)),!(f.path==null&&!f.index)&&a.push({path:b,score:gx(b,f.index),routesMeta:_})};return i.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))d(f,p);else for(let m of hg(f.path))d(f,p,!0,m)}),a}function hg(i){let a=i.split("/");if(a.length===0)return[];let[r,...l]=a,u=r.endsWith("?"),d=r.replace(/\?$/,"");if(l.length===0)return u?[d,""]:[d];let f=hg(l.join("/")),p=[];return p.push(...f.map(m=>m===""?d:[d,m].join("/"))),u&&p.push(...f),p.map(m=>i.startsWith("/")&&m===""?"/":m)}function ux(i){i.sort((a,r)=>a.score!==r.score?r.score-a.score:yx(a.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var cx=/^:[\w-]+$/,dx=3,hx=2,fx=1,mx=10,px=-2,Ep=i=>i==="*";function gx(i,a){let r=i.split("/"),l=r.length;return r.some(Ep)&&(l+=px),a&&(l+=hx),r.filter(u=>!Ep(u)).reduce((u,d)=>u+(cx.test(d)?dx:d===""?fx:mx),l)}function yx(i,a){return i.length===a.length&&i.slice(0,-1).every((l,u)=>l===a[u])?i[i.length-1]-a[a.length-1]:0}function vx(i,a,r=!1){let{routesMeta:l}=i,u={},d="/",f=[];for(let p=0;p<l.length;++p){let m=l[p],g=p===l.length-1,x=d==="/"?a:a.slice(d.length)||"/",b=Fl({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},x),_=m.route;if(!b&&g&&r&&!l[l.length-1].route.index&&(b=Fl({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!b)return null;Object.assign(u,b.params),f.push({params:u,pathname:Kn([d,b.pathname]),pathnameBase:Nx(Kn([d,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(d=Kn([d,b.pathnameBase]))}return f}function Fl(i,a){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,l]=xx(i.path,i.caseSensitive,i.end),u=a.match(r);if(!u)return null;let d=u[0],f=d.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:l.reduce((g,{paramName:x,isOptional:b},_)=>{if(x==="*"){let S=p[_]||"";f=d.slice(0,d.length-S.length).replace(/(.)\/+$/,"$1")}const N=p[_];return b&&!N?g[x]=void 0:g[x]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:d,pathnameBase:f,pattern:i}}function xx(i,a=!1,r=!0){rn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let l=[],u="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(l.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(l.push({paramName:"*"}),u+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":i!==""&&i!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),l]}function bx(i){try{return i.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return rn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),i}}function In(i,a){if(a==="/")return i;if(!i.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,l=i.charAt(r);return l&&l!=="/"?null:i.slice(r)||"/"}var wx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_x=i=>wx.test(i);function jx(i,a="/"){let{pathname:r,search:l="",hash:u=""}=typeof i=="string"?ts(i):i,d;if(r)if(_x(r))d=r;else{if(r.includes("//")){let f=r;r=r.replace(/\/\/+/g,"/"),rn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${r}`)}r.startsWith("/")?d=Tp(r.substring(1),"/"):d=Tp(r,a)}else d=a;return{pathname:d,search:Ex(l),hash:Tx(u)}}function Tp(i,a){let r=a.replace(/\/+$/,"").split("/");return i.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function Oc(i,a,r,l){return`Cannot include a '${i}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sx(i){return i.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function rd(i){let a=Sx(i);return a.map((r,l)=>l===a.length-1?r.pathname:r.pathnameBase)}function sd(i,a,r,l=!1){let u;typeof i=="string"?u=ts(i):(u={...i},Xe(!u.pathname||!u.pathname.includes("?"),Oc("?","pathname","search",u)),Xe(!u.pathname||!u.pathname.includes("#"),Oc("#","pathname","hash",u)),Xe(!u.search||!u.search.includes("#"),Oc("#","search","hash",u)));let d=i===""||u.pathname==="",f=d?"/":u.pathname,p;if(f==null)p=r;else{let b=a.length-1;if(!l&&f.startsWith("..")){let _=f.split("/");for(;_[0]==="..";)_.shift(),b-=1;u.pathname=_.join("/")}p=b>=0?a[b]:"/"}let m=jx(u,p),g=f&&f!=="/"&&f.endsWith("/"),x=(d||f===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(g||x)&&(m.pathname+="/"),m}var Kn=i=>i.join("/").replace(/\/\/+/g,"/"),Nx=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Ex=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Tx=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Ax(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fg=["POST","PUT","PATCH","DELETE"];new Set(fg);var Ox=["GET",...fg];new Set(Ox);var ns=j.createContext(null);ns.displayName="DataRouter";var to=j.createContext(null);to.displayName="DataRouterState";j.createContext(!1);var mg=j.createContext({isTransitioning:!1});mg.displayName="ViewTransition";var Rx=j.createContext(new Map);Rx.displayName="Fetchers";var kx=j.createContext(null);kx.displayName="Await";var pn=j.createContext(null);pn.displayName="Navigation";var pi=j.createContext(null);pi.displayName="Location";var gn=j.createContext({outlet:null,matches:[],isDataRoute:!1});gn.displayName="Route";var id=j.createContext(null);id.displayName="RouteError";function Cx(i,{relative:a}={}){Xe(as(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=j.useContext(pn),{hash:u,pathname:d,search:f}=yi(i,{relative:a}),p=d;return r!=="/"&&(p=d==="/"?r:Kn([r,d])),l.createHref({pathname:p,search:f,hash:u})}function as(){return j.useContext(pi)!=null}function ba(){return Xe(as(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(pi).location}var pg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gg(i){j.useContext(pn).static||j.useLayoutEffect(i)}function gi(){let{isDataRoute:i}=j.useContext(gn);return i?Px():Dx()}function Dx(){Xe(as(),"useNavigate() may be used only in the context of a <Router> component.");let i=j.useContext(ns),{basename:a,navigator:r}=j.useContext(pn),{matches:l}=j.useContext(gn),{pathname:u}=ba(),d=JSON.stringify(rd(l)),f=j.useRef(!1);return gg(()=>{f.current=!0}),j.useCallback((m,g={})=>{if(rn(f.current,pg),!f.current)return;if(typeof m=="number"){r.go(m);return}let x=sd(m,JSON.parse(d),u,g.relative==="path");i==null&&a!=="/"&&(x.pathname=x.pathname==="/"?a:Kn([a,x.pathname])),(g.replace?r.replace:r.push)(x,g.state,g)},[a,r,d,u,i])}var Mx=j.createContext(null);function Ux(i){let a=j.useContext(gn).outlet;return j.useMemo(()=>a&&j.createElement(Mx.Provider,{value:i},a),[a,i])}function yi(i,{relative:a}={}){let{matches:r}=j.useContext(gn),{pathname:l}=ba(),u=JSON.stringify(rd(r));return j.useMemo(()=>sd(i,JSON.parse(u),l,a==="path"),[i,u,l,a])}function zx(i,a){return yg(i,a)}function yg(i,a,r,l,u){Xe(as(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=j.useContext(pn),{matches:f}=j.useContext(gn),p=f[f.length-1],m=p?p.params:{},g=p?p.pathname:"/",x=p?p.pathnameBase:"/",b=p&&p.route;{let O=b&&b.path||"";vg(g,!b||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let _=ba(),N;if(a){let O=typeof a=="string"?ts(a):a;Xe(x==="/"||O.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${O.pathname}" was given in the \`location\` prop.`),N=O}else N=_;let S=N.pathname||"/",C=S;if(x!=="/"){let O=x.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(O.length).join("/")}let R=cg(i,{pathname:C});rn(b||R!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),rn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=$x(R&&R.map(O=>Object.assign({},O,{params:Object.assign({},m,O.params),pathname:Kn([x,d.encodeLocation?d.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?x:Kn([x,d.encodeLocation?d.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),f,r,l,u);return a&&M?j.createElement(pi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},M):M}function Lx(){let i=Ix(),a=Ax(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:d},"ErrorBoundary")," or"," ",j.createElement("code",{style:d},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},a),r?j.createElement("pre",{style:u},r):null,f)}var Bx=j.createElement(Lx,null),qx=class extends j.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||a.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){this.props.onError?this.props.onError(i,a):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?j.createElement(gn.Provider,{value:this.props.routeContext},j.createElement(id.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hx({routeContext:i,match:a,children:r}){let l=j.useContext(ns);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),j.createElement(gn.Provider,{value:i},r)}function $x(i,a=[],r=null,l=null,u=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(a.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let d=i,f=r?.errors;if(f!=null){let x=d.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);Xe(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),d=d.slice(0,Math.min(d.length,x+1))}let p=!1,m=-1;if(r)for(let x=0;x<d.length;x++){let b=d[x];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=x),b.route.id){let{loaderData:_,errors:N}=r,S=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!N||N[b.route.id]===void 0);if(b.route.lazy||S){p=!0,m>=0?d=d.slice(0,m+1):d=[d[0]];break}}}let g=r&&l?(x,b)=>{l(x,{location:r.location,params:r.matches?.[0]?.params??{},errorInfo:b})}:void 0;return d.reduceRight((x,b,_)=>{let N,S=!1,C=null,R=null;r&&(N=f&&b.route.id?f[b.route.id]:void 0,C=b.route.errorElement||Bx,p&&(m<0&&_===0?(vg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,R=null):m===_&&(S=!0,R=b.route.hydrateFallbackElement||null)));let M=a.concat(d.slice(0,_+1)),O=()=>{let k;return N?k=C:S?k=R:b.route.Component?k=j.createElement(b.route.Component,null):b.route.element?k=b.route.element:k=x,j.createElement(Hx,{match:b,routeContext:{outlet:x,matches:M,isDataRoute:r!=null},children:k})};return r&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?j.createElement(qx,{location:r.location,revalidation:r.revalidation,component:C,error:N,children:O(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:g}):O()},null)}function ld(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vx(i){let a=j.useContext(ns);return Xe(a,ld(i)),a}function Yx(i){let a=j.useContext(to);return Xe(a,ld(i)),a}function Gx(i){let a=j.useContext(gn);return Xe(a,ld(i)),a}function od(i){let a=Gx(i),r=a.matches[a.matches.length-1];return Xe(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function Kx(){return od("useRouteId")}function Ix(){let i=j.useContext(id),a=Yx("useRouteError"),r=od("useRouteError");return i!==void 0?i:a.errors?.[r]}function Px(){let{router:i}=Vx("useNavigate"),a=od("useNavigate"),r=j.useRef(!1);return gg(()=>{r.current=!0}),j.useCallback(async(u,d={})=>{rn(r.current,pg),r.current&&(typeof u=="number"?i.navigate(u):await i.navigate(u,{fromRouteId:a,...d}))},[i,a])}var Ap={};function vg(i,a,r){!a&&!Ap[i]&&(Ap[i]=!0,rn(!1,r))}j.memo(Fx);function Fx({routes:i,future:a,state:r,unstable_onError:l}){return yg(i,void 0,r,l,a)}function Qx({to:i,replace:a,state:r,relative:l}){Xe(as(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=j.useContext(pn);rn(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=j.useContext(gn),{pathname:f}=ba(),p=gi(),m=sd(i,rd(d),f,l==="path"),g=JSON.stringify(m);return j.useEffect(()=>{p(JSON.parse(g),{replace:a,state:r,relative:l})},[p,g,l,a,r]),null}function xg(i){return Ux(i.context)}function nn(i){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Xx({basename:i="/",children:a=null,location:r,navigationType:l="POP",navigator:u,static:d=!1}){Xe(!as(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:f,navigator:u,static:d,future:{}}),[f,u,d]);typeof r=="string"&&(r=ts(r));let{pathname:m="/",search:g="",hash:x="",state:b=null,key:_="default"}=r,N=j.useMemo(()=>{let S=In(m,f);return S==null?null:{location:{pathname:S,search:g,hash:x,state:b,key:_},navigationType:l}},[f,m,g,x,b,_,l]);return rn(N!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:j.createElement(pn.Provider,{value:p},j.createElement(pi.Provider,{children:a,value:N}))}function Jx({children:i,location:a}){return zx(Yc(i),a)}function Yc(i,a=[]){let r=[];return j.Children.forEach(i,(l,u)=>{if(!j.isValidElement(l))return;let d=[...a,u];if(l.type===j.Fragment){r.push.apply(r,Yc(l.props.children,d));return}Xe(l.type===nn,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!l.props.index||!l.props.children,"An index route cannot have child routes.");let f={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=Yc(l.props.children,d)),r.push(f)}),r}var Kl="get",Il="application/x-www-form-urlencoded";function no(i){return i!=null&&typeof i.tagName=="string"}function Zx(i){return no(i)&&i.tagName.toLowerCase()==="button"}function Wx(i){return no(i)&&i.tagName.toLowerCase()==="form"}function eb(i){return no(i)&&i.tagName.toLowerCase()==="input"}function tb(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function nb(i,a){return i.button===0&&(!a||a==="_self")&&!tb(i)}var Ml=null;function ab(){if(Ml===null)try{new FormData(document.createElement("form"),0),Ml=!1}catch{Ml=!0}return Ml}var rb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rc(i){return i!=null&&!rb.has(i)?(rn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Il}"`),null):i}function sb(i,a){let r,l,u,d,f;if(Wx(i)){let p=i.getAttribute("action");l=p?In(p,a):null,r=i.getAttribute("method")||Kl,u=Rc(i.getAttribute("enctype"))||Il,d=new FormData(i)}else if(Zx(i)||eb(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||p.getAttribute("action");if(l=m?In(m,a):null,r=i.getAttribute("formmethod")||p.getAttribute("method")||Kl,u=Rc(i.getAttribute("formenctype"))||Rc(p.getAttribute("enctype"))||Il,d=new FormData(p,i),!ab()){let{name:g,type:x,value:b}=i;if(x==="image"){let _=g?`${g}.`:"";d.append(`${_}x`,"0"),d.append(`${_}y`,"0")}else g&&d.append(g,b)}}else{if(no(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Kl,l=null,u=Il,f=i}return d&&u==="text/plain"&&(f=d,d=void 0),{action:l,method:r.toLowerCase(),encType:u,formData:d,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ud(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function ib(i,a,r){let l=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return l.pathname==="/"?l.pathname=`_root.${r}`:a&&In(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function lb(i,a){if(i.id in a)return a[i.id];try{let r=await import(i.module);return a[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ob(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ub(i,a,r){let l=await Promise.all(i.map(async u=>{let d=a.routes[u.route.id];if(d){let f=await lb(d,r);return f.links?f.links():[]}return[]}));return fb(l.flat(1).filter(ob).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Op(i,a,r,l,u,d){let f=(m,g)=>r[g]?m.route.id!==r[g].route.id:!0,p=(m,g)=>r[g].pathname!==m.pathname||r[g].route.path?.endsWith("*")&&r[g].params["*"]!==m.params["*"];return d==="assets"?a.filter((m,g)=>f(m,g)||p(m,g)):d==="data"?a.filter((m,g)=>{let x=l.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(f(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function cb(i,a,{includeHydrateFallback:r}={}){return db(i.map(l=>{let u=a.routes[l.route.id];if(!u)return[];let d=[u.module];return u.clientActionModule&&(d=d.concat(u.clientActionModule)),u.clientLoaderModule&&(d=d.concat(u.clientLoaderModule)),r&&u.hydrateFallbackModule&&(d=d.concat(u.hydrateFallbackModule)),u.imports&&(d=d.concat(u.imports)),d}).flat(1))}function db(i){return[...new Set(i)]}function hb(i){let a={},r=Object.keys(i).sort();for(let l of r)a[l]=i[l];return a}function fb(i,a){let r=new Set;return new Set(a),i.reduce((l,u)=>{let d=JSON.stringify(hb(u));return r.has(d)||(r.add(d),l.push({key:d,link:u})),l},[])}function bg(){let i=j.useContext(ns);return ud(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function mb(){let i=j.useContext(to);return ud(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var cd=j.createContext(void 0);cd.displayName="FrameworkContext";function wg(){let i=j.useContext(cd);return ud(i,"You must render this element inside a <HydratedRouter> element"),i}function pb(i,a){let r=j.useContext(cd),[l,u]=j.useState(!1),[d,f]=j.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:x,onTouchStart:b}=a,_=j.useRef(null);j.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let C=M=>{M.forEach(O=>{f(O.isIntersecting)})},R=new IntersectionObserver(C,{threshold:.5});return _.current&&R.observe(_.current),()=>{R.disconnect()}}},[i]),j.useEffect(()=>{if(l){let C=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(C)}}},[l]);let N=()=>{u(!0)},S=()=>{u(!1),f(!1)};return r?i!=="intent"?[d,_,{}]:[d,_,{onFocus:ai(p,N),onBlur:ai(m,S),onMouseEnter:ai(g,N),onMouseLeave:ai(x,S),onTouchStart:ai(b,N)}]:[!1,_,{}]}function ai(i,a){return r=>{i&&i(r),r.defaultPrevented||a(r)}}function gb({page:i,...a}){let{router:r}=bg(),l=j.useMemo(()=>cg(r.routes,i,r.basename),[r.routes,i,r.basename]);return l?j.createElement(vb,{page:i,matches:l,...a}):null}function yb(i){let{manifest:a,routeModules:r}=wg(),[l,u]=j.useState([]);return j.useEffect(()=>{let d=!1;return ub(i,a,r).then(f=>{d||u(f)}),()=>{d=!0}},[i,a,r]),l}function vb({page:i,matches:a,...r}){let l=ba(),{manifest:u,routeModules:d}=wg(),{basename:f}=bg(),{loaderData:p,matches:m}=mb(),g=j.useMemo(()=>Op(i,a,m,u,l,"data"),[i,a,m,u,l]),x=j.useMemo(()=>Op(i,a,m,u,l,"assets"),[i,a,m,u,l]),b=j.useMemo(()=>{if(i===l.pathname+l.search+l.hash)return[];let S=new Set,C=!1;if(a.forEach(M=>{let O=u.routes[M.route.id];!O||!O.hasLoader||(!g.some(k=>k.route.id===M.route.id)&&M.route.id in p&&d[M.route.id]?.shouldRevalidate||O.hasClientLoader?C=!0:S.add(M.route.id))}),S.size===0)return[];let R=ib(i,f,"data");return C&&S.size>0&&R.searchParams.set("_routes",a.filter(M=>S.has(M.route.id)).map(M=>M.route.id).join(",")),[R.pathname+R.search]},[f,p,l,u,g,a,i,d]),_=j.useMemo(()=>cb(x,u),[x,u]),N=yb(x);return j.createElement(j.Fragment,null,b.map(S=>j.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),_.map(S=>j.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),N.map(({key:S,link:C})=>j.createElement("link",{key:S,nonce:r.nonce,...C})))}function xb(...i){return a=>{i.forEach(r=>{typeof r=="function"?r(a):r!=null&&(r.current=a)})}}var _g=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_g&&(window.__reactRouterVersion="7.9.6")}catch{}function bb({basename:i,children:a,window:r}){let l=j.useRef();l.current==null&&(l.current=rx({window:r,v5Compat:!0}));let u=l.current,[d,f]=j.useState({action:u.action,location:u.location}),p=j.useCallback(m=>{j.startTransition(()=>f(m))},[f]);return j.useLayoutEffect(()=>u.listen(p),[u,p]),j.createElement(Xx,{basename:i,children:a,location:d.location,navigationType:d.action,navigator:u})}var jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sg=j.forwardRef(function({onClick:a,discover:r="render",prefetch:l="none",relative:u,reloadDocument:d,replace:f,state:p,target:m,to:g,preventScrollReset:x,viewTransition:b,..._},N){let{basename:S}=j.useContext(pn),C=typeof g=="string"&&jg.test(g),R,M=!1;if(typeof g=="string"&&C&&(R=g,_g))try{let re=new URL(window.location.href),Ne=g.startsWith("//")?new URL(re.protocol+g):new URL(g),we=In(Ne.pathname,S);Ne.origin===re.origin&&we!=null?g=we+Ne.search+Ne.hash:M=!0}catch{rn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=Cx(g,{relative:u}),[k,X,ie]=pb(l,_),le=jb(g,{replace:f,state:p,target:m,preventScrollReset:x,relative:u,viewTransition:b});function Q(re){a&&a(re),re.defaultPrevented||le(re)}let I=j.createElement("a",{..._,...ie,href:R||O,onClick:M||d?a:Q,ref:xb(N,X),target:m,"data-discover":!C&&r==="render"?"true":void 0});return k&&!C?j.createElement(j.Fragment,null,I,j.createElement(gb,{page:O})):I});Sg.displayName="Link";var Ng=j.forwardRef(function({"aria-current":a="page",caseSensitive:r=!1,className:l="",end:u=!1,style:d,to:f,viewTransition:p,children:m,...g},x){let b=yi(f,{relative:g.relative}),_=ba(),N=j.useContext(to),{navigator:S,basename:C}=j.useContext(pn),R=N!=null&&Ab(b)&&p===!0,M=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,O=_.pathname,k=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;r||(O=O.toLowerCase(),k=k?k.toLowerCase():null,M=M.toLowerCase()),k&&C&&(k=In(k,C)||k);const X=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let ie=O===M||!u&&O.startsWith(M)&&O.charAt(X)==="/",le=k!=null&&(k===M||!u&&k.startsWith(M)&&k.charAt(M.length)==="/"),Q={isActive:ie,isPending:le,isTransitioning:R},I=ie?a:void 0,re;typeof l=="function"?re=l(Q):re=[l,ie?"active":null,le?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let Ne=typeof d=="function"?d(Q):d;return j.createElement(Sg,{...g,"aria-current":I,className:re,ref:x,style:Ne,to:f,viewTransition:p},typeof m=="function"?m(Q):m)});Ng.displayName="NavLink";var wb=j.forwardRef(({discover:i="render",fetcherKey:a,navigate:r,reloadDocument:l,replace:u,state:d,method:f=Kl,action:p,onSubmit:m,relative:g,preventScrollReset:x,viewTransition:b,..._},N)=>{let S=Eb(),C=Tb(p,{relative:g}),R=f.toLowerCase()==="get"?"get":"post",M=typeof p=="string"&&jg.test(p),O=k=>{if(m&&m(k),k.defaultPrevented)return;k.preventDefault();let X=k.nativeEvent.submitter,ie=X?.getAttribute("formmethod")||f;S(X||k.currentTarget,{fetcherKey:a,method:ie,navigate:r,replace:u,state:d,relative:g,preventScrollReset:x,viewTransition:b})};return j.createElement("form",{ref:N,method:R,action:C,onSubmit:l?m:O,..._,"data-discover":!M&&i==="render"?"true":void 0})});wb.displayName="Form";function _b(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Eg(i){let a=j.useContext(ns);return Xe(a,_b(i)),a}function jb(i,{target:a,replace:r,state:l,preventScrollReset:u,relative:d,viewTransition:f}={}){let p=gi(),m=ba(),g=yi(i,{relative:d});return j.useCallback(x=>{if(nb(x,a)){x.preventDefault();let b=r!==void 0?r:ui(m)===ui(g);p(i,{replace:b,state:l,preventScrollReset:u,relative:d,viewTransition:f})}},[m,p,g,r,l,a,i,u,d,f])}var Sb=0,Nb=()=>`__${String(++Sb)}__`;function Eb(){let{router:i}=Eg("useSubmit"),{basename:a}=j.useContext(pn),r=Kx();return j.useCallback(async(l,u={})=>{let{action:d,method:f,encType:p,formData:m,body:g}=sb(l,a);if(u.navigate===!1){let x=u.fetcherKey||Nb();await i.fetch(x,r,u.action||d,{preventScrollReset:u.preventScrollReset,formData:m,body:g,formMethod:u.method||f,formEncType:u.encType||p,flushSync:u.flushSync})}else await i.navigate(u.action||d,{preventScrollReset:u.preventScrollReset,formData:m,body:g,formMethod:u.method||f,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:r,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,r])}function Tb(i,{relative:a}={}){let{basename:r}=j.useContext(pn),l=j.useContext(gn);Xe(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),d={...yi(i||".",{relative:a})},f=ba();if(i==null){d.search=f.search;let p=new URLSearchParams(d.search),m=p.getAll("index");if(m.some(x=>x==="")){p.delete("index"),m.filter(b=>b).forEach(b=>p.append("index",b));let x=p.toString();d.search=x?`?${x}`:""}}return(!i||i===".")&&u.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(d.pathname=d.pathname==="/"?r:Kn([r,d.pathname])),ui(d)}function Ab(i,{relative:a}={}){let r=j.useContext(mg);Xe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Eg("useViewTransitionState"),u=yi(i,{relative:a});if(!r.isTransitioning)return!1;let d=In(r.currentLocation.pathname,l)||r.currentLocation.pathname,f=In(r.nextLocation.pathname,l)||r.nextLocation.pathname;return Fl(u.pathname,f)!=null||Fl(u.pathname,d)!=null}const Ob=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rb=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,r,l)=>l?l.toUpperCase():r.toLowerCase()),Rp=i=>{const a=Rb(i);return a.charAt(0).toUpperCase()+a.slice(1)},Tg=(...i)=>i.filter((a,r,l)=>!!a&&a.trim()!==""&&l.indexOf(a)===r).join(" ").trim(),kb=i=>{for(const a in i)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var Cb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Db=j.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:u="",children:d,iconNode:f,...p},m)=>j.createElement("svg",{ref:m,...Cb,width:a,height:a,stroke:i,strokeWidth:l?Number(r)*24/Number(a):r,className:Tg("lucide",u),...!d&&!kb(p)&&{"aria-hidden":"true"},...p},[...f.map(([g,x])=>j.createElement(g,x)),...Array.isArray(d)?d:[d]]));const Oe=(i,a)=>{const r=j.forwardRef(({className:l,...u},d)=>j.createElement(Db,{ref:d,iconNode:a,className:Tg(`lucide-${Ob(Rp(i))}`,`lucide-${i}`,l),...u}));return r.displayName=Rp(i),r};const Mb=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ag=Oe("activity",Mb);const Ub=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],zb=Oe("arrow-right-left",Ub);const Lb=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Bb=Oe("building-2",Lb);const qb=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],kp=Oe("calculator",qb);const Hb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Yn=Oe("check",Hb);const $b=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kc=Oe("chevron-down",$b);const Vb=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Og=Oe("chevron-left",Vb);const Yb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Rg=Oe("chevron-right",Yb);const Gb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],kg=Oe("circle-alert",Gb);const Kb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ib=Oe("circle-check-big",Kb);const Pb=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fb=Oe("compass",Pb);const Qb=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Fr=Oe("database",Qb);const Xb=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Pl=Oe("dollar-sign",Xb);const Jb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Jr=Oe("file-text",Jb);const Zb=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Wb=Oe("funnel",Zb);const ew=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Cp=Oe("globe",ew);const tw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],nw=Oe("info",tw);const aw=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Cg=Oe("layout-dashboard",aw);const rw=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Vt=Oe("loader-circle",rw);const sw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],iw=Oe("lock",sw);const lw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Dg=Oe("log-out",lw);const ow=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Wr=Oe("megaphone",ow);const uw=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],Mg=Oe("monitor-play",uw);const cw=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Ug=Oe("percent",cw);const dw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hw=Oe("plus",dw);const fw=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ci=Oe("search",fw);const mw=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pw=Oe("send",mw);const gw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],yw=Oe("shield-alert",gw);const vw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xw=Oe("shield",vw);const bw=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ww=Oe("star",bw);const _w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ii=Oe("target",_w);const jw=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Za=Oe("trending-up",jw);const Sw=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nw=Oe("triangle-alert",Sw);const Ew=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Tw=Oe("upload",Ew);const Aw=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Ow=Oe("wallet",Aw);const Rw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],an=Oe("x",Rw);function zg(i){var a,r,l="";if(typeof i=="string"||typeof i=="number")l+=i;else if(typeof i=="object")if(Array.isArray(i)){var u=i.length;for(a=0;a<u;a++)i[a]&&(r=zg(i[a]))&&(l&&(l+=" "),l+=r)}else for(r in i)i[r]&&(l&&(l+=" "),l+=r);return l}function Ce(){for(var i,a,r=0,l="",u=arguments.length;r<u;r++)(i=arguments[r])&&(a=zg(i))&&(l&&(l+=" "),l+=a);return l}var Gc=function(i,a){return Gc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(r[u]=l[u])},Gc(i,a)};function Lg(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");Gc(i,a);function r(){this.constructor=i}i.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)}var Ql=function(){return Ql=Object.assign||function(a){for(var r,l=1,u=arguments.length;l<u;l++){r=arguments[l];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(a[d]=r[d])}return a},Ql.apply(this,arguments)};function rs(i,a){var r={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&a.indexOf(l)<0&&(r[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(i);u<l.length;u++)a.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(i,l[u])&&(r[l[u]]=i[l[u]]);return r}function Bg(i,a,r,l){var u=arguments.length,d=u<3?a:l===null?l=Object.getOwnPropertyDescriptor(a,r):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,a,r,l);else for(var p=i.length-1;p>=0;p--)(f=i[p])&&(d=(u<3?f(d):u>3?f(a,r,d):f(a,r))||d);return u>3&&d&&Object.defineProperty(a,r,d),d}function qg(i,a){return function(r,l){a(r,l,i)}}function Hg(i,a,r,l,u,d){function f(M){if(M!==void 0&&typeof M!="function")throw new TypeError("Function expected");return M}for(var p=l.kind,m=p==="getter"?"get":p==="setter"?"set":"value",g=!a&&i?l.static?i:i.prototype:null,x=a||(g?Object.getOwnPropertyDescriptor(g,l.name):{}),b,_=!1,N=r.length-1;N>=0;N--){var S={};for(var C in l)S[C]=C==="access"?{}:l[C];for(var C in l.access)S.access[C]=l.access[C];S.addInitializer=function(M){if(_)throw new TypeError("Cannot add initializers after decoration has completed");d.push(f(M||null))};var R=(0,r[N])(p==="accessor"?{get:x.get,set:x.set}:x[m],S);if(p==="accessor"){if(R===void 0)continue;if(R===null||typeof R!="object")throw new TypeError("Object expected");(b=f(R.get))&&(x.get=b),(b=f(R.set))&&(x.set=b),(b=f(R.init))&&u.unshift(b)}else(b=f(R))&&(p==="field"?u.unshift(b):x[m]=b)}g&&Object.defineProperty(g,l.name,x),_=!0}function $g(i,a,r){for(var l=arguments.length>2,u=0;u<a.length;u++)r=l?a[u].call(i,r):a[u].call(i);return l?r:void 0}function Vg(i){return typeof i=="symbol"?i:"".concat(i)}function Yg(i,a,r){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:r?"".concat(r," ",a):a})}function Gg(i,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,a)}function ae(i,a,r,l){function u(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function p(x){try{g(l.next(x))}catch(b){f(b)}}function m(x){try{g(l.throw(x))}catch(b){f(b)}}function g(x){x.done?d(x.value):u(x.value).then(p,m)}g((l=l.apply(i,a||[])).next())})}function Kg(i,a){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},l,u,d,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=p(0),f.throw=p(1),f.return=p(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(g){return function(x){return m([g,x])}}function m(g){if(l)throw new TypeError("Generator is already executing.");for(;f&&(f=0,g[0]&&(r=0)),r;)try{if(l=1,u&&(d=g[0]&2?u.return:g[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,g[1])).done)return d;switch(u=0,d&&(g=[g[0]&2,d.value]),g[0]){case 0:case 1:d=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,u=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!d||g[1]>d[0]&&g[1]<d[3])){r.label=g[1];break}if(g[0]===6&&r.label<d[1]){r.label=d[1],d=g;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(g);break}d[2]&&r.ops.pop(),r.trys.pop();continue}g=a.call(i,r)}catch(x){g=[6,x],u=0}finally{l=d=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var ao=Object.create?(function(i,a,r,l){l===void 0&&(l=r);var u=Object.getOwnPropertyDescriptor(a,r);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[r]}}),Object.defineProperty(i,l,u)}):(function(i,a,r,l){l===void 0&&(l=r),i[l]=a[r]});function Ig(i,a){for(var r in i)r!=="default"&&!Object.prototype.hasOwnProperty.call(a,r)&&ao(a,i,r)}function Xl(i){var a=typeof Symbol=="function"&&Symbol.iterator,r=a&&i[a],l=0;if(r)return r.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function dd(i,a){var r=typeof Symbol=="function"&&i[Symbol.iterator];if(!r)return i;var l=r.call(i),u,d=[],f;try{for(;(a===void 0||a-- >0)&&!(u=l.next()).done;)d.push(u.value)}catch(p){f={error:p}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(f)throw f.error}}return d}function Pg(){for(var i=[],a=0;a<arguments.length;a++)i=i.concat(dd(arguments[a]));return i}function Fg(){for(var i=0,a=0,r=arguments.length;a<r;a++)i+=arguments[a].length;for(var l=Array(i),u=0,a=0;a<r;a++)for(var d=arguments[a],f=0,p=d.length;f<p;f++,u++)l[u]=d[f];return l}function Qg(i,a,r){if(r||arguments.length===2)for(var l=0,u=a.length,d;l<u;l++)(d||!(l in a))&&(d||(d=Array.prototype.slice.call(a,0,l)),d[l]=a[l]);return i.concat(d||Array.prototype.slice.call(a))}function es(i){return this instanceof es?(this.v=i,this):new es(i)}function Xg(i,a,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=r.apply(i,a||[]),u,d=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),u[Symbol.asyncIterator]=function(){return this},u;function f(N){return function(S){return Promise.resolve(S).then(N,b)}}function p(N,S){l[N]&&(u[N]=function(C){return new Promise(function(R,M){d.push([N,C,R,M])>1||m(N,C)})},S&&(u[N]=S(u[N])))}function m(N,S){try{g(l[N](S))}catch(C){_(d[0][3],C)}}function g(N){N.value instanceof es?Promise.resolve(N.value.v).then(x,b):_(d[0][2],N)}function x(N){m("next",N)}function b(N){m("throw",N)}function _(N,S){N(S),d.shift(),d.length&&m(d[0][0],d[0][1])}}function Jg(i){var a,r;return a={},l("next"),l("throw",function(u){throw u}),l("return"),a[Symbol.iterator]=function(){return this},a;function l(u,d){a[u]=i[u]?function(f){return(r=!r)?{value:es(i[u](f)),done:!1}:d?d(f):f}:d}}function Zg(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i[Symbol.asyncIterator],r;return a?a.call(i):(i=typeof Xl=="function"?Xl(i):i[Symbol.iterator](),r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r);function l(d){r[d]=i[d]&&function(f){return new Promise(function(p,m){f=i[d](f),u(p,m,f.done,f.value)})}}function u(d,f,p,m){Promise.resolve(m).then(function(g){d({value:g,done:p})},f)}}function Wg(i,a){return Object.defineProperty?Object.defineProperty(i,"raw",{value:a}):i.raw=a,i}var kw=Object.create?(function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}):function(i,a){i.default=a},Kc=function(i){return Kc=Object.getOwnPropertyNames||function(a){var r=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[r.length]=l);return r},Kc(i)};function ey(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var r=Kc(i),l=0;l<r.length;l++)r[l]!=="default"&&ao(a,i,r[l]);return kw(a,i),a}function ty(i){return i&&i.__esModule?i:{default:i}}function ny(i,a,r,l){if(r==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?i!==a||!l:!a.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?l:r==="a"?l.call(i):l?l.value:a.get(i)}function ay(i,a,r,l,u){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?i!==a||!u:!a.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?u.call(i,r):u?u.value=r:a.set(i,r),r}function ry(i,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?a===i:i.has(a)}function sy(i,a,r){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var l,u;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");l=a[Symbol.asyncDispose]}if(l===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");l=a[Symbol.dispose],r&&(u=l)}if(typeof l!="function")throw new TypeError("Object not disposable.");u&&(l=function(){try{u.call(this)}catch(d){return Promise.reject(d)}}),i.stack.push({value:a,dispose:l,async:r})}else r&&i.stack.push({async:!0});return a}var Cw=typeof SuppressedError=="function"?SuppressedError:function(i,a,r){var l=new Error(r);return l.name="SuppressedError",l.error=i,l.suppressed=a,l};function iy(i){function a(d){i.error=i.hasError?new Cw(d,i.error,"An error was suppressed during disposal."):d,i.hasError=!0}var r,l=0;function u(){for(;r=i.stack.pop();)try{if(!r.async&&l===1)return l=0,i.stack.push(r),Promise.resolve().then(u);if(r.dispose){var d=r.dispose.call(r.value);if(r.async)return l|=2,Promise.resolve(d).then(u,function(f){return a(f),u()})}else l|=1}catch(f){a(f)}if(l===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return u()}function ly(i,a){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,l,u,d,f){return l?a?".jsx":".js":u&&(!d||!f)?r:u+d+"."+f.toLowerCase()+"js"}):i}const Dw={__extends:Lg,__assign:Ql,__rest:rs,__decorate:Bg,__param:qg,__esDecorate:Hg,__runInitializers:$g,__propKey:Vg,__setFunctionName:Yg,__metadata:Gg,__awaiter:ae,__generator:Kg,__createBinding:ao,__exportStar:Ig,__values:Xl,__read:dd,__spread:Pg,__spreadArrays:Fg,__spreadArray:Qg,__await:es,__asyncGenerator:Xg,__asyncDelegator:Jg,__asyncValues:Zg,__makeTemplateObject:Wg,__importStar:ey,__importDefault:ty,__classPrivateFieldGet:ny,__classPrivateFieldSet:ay,__classPrivateFieldIn:ry,__addDisposableResource:sy,__disposeResources:iy,__rewriteRelativeImportExtension:ly},Mw=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:sy,get __assign(){return Ql},__asyncDelegator:Jg,__asyncGenerator:Xg,__asyncValues:Zg,__await:es,__awaiter:ae,__classPrivateFieldGet:ny,__classPrivateFieldIn:ry,__classPrivateFieldSet:ay,__createBinding:ao,__decorate:Bg,__disposeResources:iy,__esDecorate:Hg,__exportStar:Ig,__extends:Lg,__generator:Kg,__importDefault:ty,__importStar:ey,__makeTemplateObject:Wg,__metadata:Gg,__param:qg,__propKey:Vg,__read:dd,__rest:rs,__rewriteRelativeImportExtension:ly,__runInitializers:$g,__setFunctionName:Yg,__spread:Pg,__spreadArray:Qg,__spreadArrays:Fg,__values:Xl,default:Dw},Symbol.toStringTag,{value:"Module"})),Uw=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);class hd extends Error{constructor(a,r="FunctionsError",l){super(a),this.name=r,this.context=l}}class zw extends hd{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class Dp extends hd{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Mp extends hd{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Ic;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Ic||(Ic={}));class Lw{constructor(a,{headers:r={},customFetch:l,region:u=Ic.Any}={}){this.url=a,this.headers=r,this.region=u,this.fetch=Uw(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return ae(this,arguments,void 0,function*(r,l={}){var u;let d,f;try{const{headers:p,method:m,body:g,signal:x,timeout:b}=l;let _={},{region:N}=l;N||(N=this.region);const S=new URL(`${this.url}/${r}`);N&&N!=="any"&&(_["x-region"]=N,S.searchParams.set("forceFunctionRegion",N));let C;g&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",C=g):typeof g=="string"?(_["Content-Type"]="text/plain",C=g):typeof FormData<"u"&&g instanceof FormData?C=g:(_["Content-Type"]="application/json",C=JSON.stringify(g)):C=g;let R=x;b&&(f=new AbortController,d=setTimeout(()=>f.abort(),b),x?(R=f.signal,x.addEventListener("abort",()=>f.abort())):R=f.signal);const M=yield this.fetch(S.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),p),body:C,signal:R}).catch(ie=>{throw new zw(ie)}),O=M.headers.get("x-relay-error");if(O&&O==="true")throw new Dp(M);if(!M.ok)throw new Mp(M);let k=((u=M.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),X;return k==="application/json"?X=yield M.json():k==="application/octet-stream"||k==="application/pdf"?X=yield M.blob():k==="text/event-stream"?X=M:k==="multipart/form-data"?X=yield M.formData():X=yield M.text(),{data:X,error:null,response:M}}catch(p){return{data:null,error:p,response:p instanceof Mp||p instanceof Dp?p.context:void 0}}finally{d&&clearTimeout(d)}})}}var bt={};const ss=Pv(Mw);var Ul={},zl={},Ll={},Bl={},ql={},Hl={},Up;function oy(){if(Up)return Hl;Up=1,Object.defineProperty(Hl,"__esModule",{value:!0});class i extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Hl.default=i,Hl}var zp;function uy(){if(zp)return ql;zp=1,Object.defineProperty(ql,"__esModule",{value:!0});const a=ss.__importDefault(oy());class r{constructor(u){var d,f;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(d=u.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=u.signal,this.isMaybeSingle=(f=u.isMaybeSingle)!==null&&f!==void 0?f:!1,u.fetch?this.fetch=u.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,d){return this.headers=new Headers(this.headers),this.headers.set(u,d),this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,x,b,_;let N=null,S=null,C=null,R=m.status,M=m.statusText;if(m.ok){if(this.method!=="HEAD"){const ie=await m.text();ie===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?S=ie:S=JSON.parse(ie))}const k=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),X=(b=m.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");k&&X&&X.length>1&&(C=parseInt(X[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(N={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,C=null,R=406,M="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const k=await m.text();try{N=JSON.parse(k),Array.isArray(N)&&m.status===404&&(S=[],N=null,R=200,M="OK")}catch{m.status===404&&k===""?(R=204,M="No Content"):N={message:k}}if(N&&this.isMaybeSingle&&(!((_=N?.details)===null||_===void 0)&&_.includes("0 rows"))&&(N=null,R=200,M="OK"),N&&this.shouldThrowOnError)throw new a.default(N)}return{error:N,data:S,count:C,status:R,statusText:M}});return this.shouldThrowOnError||(p=p.catch(m=>{var g,x,b,_,N,S;let C="";const R=m?.cause;if(R){const M=(g=R?.message)!==null&&g!==void 0?g:"",O=(x=R?.code)!==null&&x!==void 0?x:"";C=`${(b=m?.name)!==null&&b!==void 0?b:"FetchError"}: ${m?.message}`,C+=`

Caused by: ${(_=R?.name)!==null&&_!==void 0?_:"Error"}: ${M}`,O&&(C+=` (${O})`),R?.stack&&(C+=`
${R.stack}`)}else C=(N=m?.stack)!==null&&N!==void 0?N:"";return{error:{message:`${(S=m?.name)!==null&&S!==void 0?S:"FetchError"}: ${m?.message}`,details:C,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),p.then(u,d)}returns(){return this}overrideTypes(){return this}}return ql.default=r,ql}var Lp;function cy(){if(Lp)return Bl;Lp=1,Object.defineProperty(Bl,"__esModule",{value:!0});const a=ss.__importDefault(uy());class r extends a.default{select(u){let d=!1;const f=(u??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:d=!0,nullsFirst:f,foreignTable:p,referencedTable:m=p}={}){const g=m?`${m}.order`:"order",x=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${x?`${x},`:""}${u}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:d,referencedTable:f=d}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${u}`),this}range(u,d,{foreignTable:f,referencedTable:p=f}={}){const m=typeof p>"u"?"offset":`${p}.offset`,g=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(m,`${u}`),this.url.searchParams.set(g,`${d-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:d=!1,settings:f=!1,buffers:p=!1,wal:m=!1,format:g="text"}={}){var x;const b=[u?"analyze":null,d?"verbose":null,f?"settings":null,p?"buffers":null,m?"wal":null].filter(Boolean).join("|"),_=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${_}"; options=${b};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return Bl.default=r,Bl}var Bp;function fd(){if(Bp)return Ll;Bp=1,Object.defineProperty(Ll,"__esModule",{value:!0});const a=ss.__importDefault(cy()),r=new RegExp("[,()]");class l extends a.default{eq(d,f){return this.url.searchParams.append(d,`eq.${f}`),this}neq(d,f){return this.url.searchParams.append(d,`neq.${f}`),this}gt(d,f){return this.url.searchParams.append(d,`gt.${f}`),this}gte(d,f){return this.url.searchParams.append(d,`gte.${f}`),this}lt(d,f){return this.url.searchParams.append(d,`lt.${f}`),this}lte(d,f){return this.url.searchParams.append(d,`lte.${f}`),this}like(d,f){return this.url.searchParams.append(d,`like.${f}`),this}likeAllOf(d,f){return this.url.searchParams.append(d,`like(all).{${f.join(",")}}`),this}likeAnyOf(d,f){return this.url.searchParams.append(d,`like(any).{${f.join(",")}}`),this}ilike(d,f){return this.url.searchParams.append(d,`ilike.${f}`),this}ilikeAllOf(d,f){return this.url.searchParams.append(d,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(d,f){return this.url.searchParams.append(d,`ilike(any).{${f.join(",")}}`),this}regexMatch(d,f){return this.url.searchParams.append(d,`match.${f}`),this}regexIMatch(d,f){return this.url.searchParams.append(d,`imatch.${f}`),this}is(d,f){return this.url.searchParams.append(d,`is.${f}`),this}isDistinct(d,f){return this.url.searchParams.append(d,`isdistinct.${f}`),this}in(d,f){const p=Array.from(new Set(f)).map(m=>typeof m=="string"&&r.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(d,`in.(${p})`),this}contains(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cs.{${f.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(f)}`),this}containedBy(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cd.{${f.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(f)}`),this}rangeGt(d,f){return this.url.searchParams.append(d,`sr.${f}`),this}rangeGte(d,f){return this.url.searchParams.append(d,`nxl.${f}`),this}rangeLt(d,f){return this.url.searchParams.append(d,`sl.${f}`),this}rangeLte(d,f){return this.url.searchParams.append(d,`nxr.${f}`),this}rangeAdjacent(d,f){return this.url.searchParams.append(d,`adj.${f}`),this}overlaps(d,f){return typeof f=="string"?this.url.searchParams.append(d,`ov.${f}`):this.url.searchParams.append(d,`ov.{${f.join(",")}}`),this}textSearch(d,f,{config:p,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const x=p===void 0?"":`(${p})`;return this.url.searchParams.append(d,`${g}fts${x}.${f}`),this}match(d){return Object.entries(d).forEach(([f,p])=>{this.url.searchParams.append(f,`eq.${p}`)}),this}not(d,f,p){return this.url.searchParams.append(d,`not.${f}.${p}`),this}or(d,{foreignTable:f,referencedTable:p=f}={}){const m=p?`${p}.or`:"or";return this.url.searchParams.append(m,`(${d})`),this}filter(d,f,p){return this.url.searchParams.append(d,`${f}.${p}`),this}}return Ll.default=l,Ll}var qp;function dy(){if(qp)return zl;qp=1,Object.defineProperty(zl,"__esModule",{value:!0});const a=ss.__importDefault(fd());class r{constructor(u,{headers:d={},schema:f,fetch:p}){this.url=u,this.headers=new Headers(d),this.schema=f,this.fetch=p}select(u,d){const{head:f=!1,count:p}=d??{},m=f?"HEAD":"GET";let g=!1;const x=(u??"*").split("").map(b=>/\s/.test(b)&&!g?"":(b==='"'&&(g=!g),b)).join("");return this.url.searchParams.set("select",x),p&&this.headers.append("Prefer",`count=${p}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:d,defaultToNull:f=!0}={}){var p;const m="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const g=u.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(g.length>0){const x=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(u,{onConflict:d,ignoreDuplicates:f=!1,count:p,defaultToNull:m=!0}={}){var g;const x="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),p&&this.headers.append("Prefer",`count=${p}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const b=u.reduce((_,N)=>_.concat(Object.keys(N)),[]);if(b.length>0){const _=[...new Set(b)].map(N=>`"${N}"`);this.url.searchParams.set("columns",_.join(","))}}return new a.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(u,{count:d}={}){var f;const p="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new a.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:u}={}){var d;const f="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new a.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return zl.default=r,zl}var Hp;function Bw(){if(Hp)return Ul;Hp=1,Object.defineProperty(Ul,"__esModule",{value:!0});const i=ss,a=i.__importDefault(dy()),r=i.__importDefault(fd());class l{constructor(d,{headers:f={},schema:p,fetch:m}={}){this.url=d,this.headers=new Headers(f),this.schemaName=p,this.fetch=m}from(d){if(!d||typeof d!="string"||d.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const f=new URL(`${this.url}/${d}`);return new a.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new l(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:p=!1,get:m=!1,count:g}={}){var x;let b;const _=new URL(`${this.url}/rpc/${d}`);let N;p||m?(b=p?"HEAD":"GET",Object.entries(f).filter(([C,R])=>R!==void 0).map(([C,R])=>[C,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([C,R])=>{_.searchParams.append(C,R)})):(b="POST",N=f);const S=new Headers(this.headers);return g&&S.set("Prefer",`count=${g}`),new r.default({method:b,url:_,headers:S,schema:this.schemaName,body:N,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return Ul.default=l,Ul}var $p;function qw(){if($p)return bt;$p=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.PostgrestError=bt.PostgrestBuilder=bt.PostgrestTransformBuilder=bt.PostgrestFilterBuilder=bt.PostgrestQueryBuilder=bt.PostgrestClient=void 0;const i=ss,a=i.__importDefault(Bw());bt.PostgrestClient=a.default;const r=i.__importDefault(dy());bt.PostgrestQueryBuilder=r.default;const l=i.__importDefault(fd());bt.PostgrestFilterBuilder=l.default;const u=i.__importDefault(cy());bt.PostgrestTransformBuilder=u.default;const d=i.__importDefault(uy());bt.PostgrestBuilder=d.default;const f=i.__importDefault(oy());return bt.PostgrestError=f.default,bt.default={PostgrestClient:a.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:d.default,PostgrestError:f.default},bt}var hy=qw();const fy=ug(hy),Hw=Iv({__proto__:null,default:fy},[hy]),{PostgrestClient:$w,PostgrestQueryBuilder:Ej,PostgrestFilterBuilder:Tj,PostgrestTransformBuilder:Aj,PostgrestBuilder:Oj,PostgrestError:Rj}=fy||Hw;class Vw{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const l=r.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const l=this.getWebSocketConstructor();return new l(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Yw="2.86.0",Gw=`realtime-js/${Yw}`,my="1.0.0",Kw="2.0.0",Vp=my,Pc=1e4,Iw=1e3,Pw=100;var Pa;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Pa||(Pa={}));var ut;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ut||(ut={}));var mn;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(mn||(mn={}));var Fc;(function(i){i.websocket="websocket"})(Fc||(Fc={}));var Fa;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Fa||(Fa={}));class Fw{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,r){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(a){var r;return this._isArrayBuffer((r=a.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var r,l;const u=(l=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(a){var r,l;const u=(l=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,r,l){var u,d;const f=a.topic,p=(u=a.ref)!==null&&u!==void 0?u:"",m=(d=a.join_ref)!==null&&d!==void 0?d:"",g=a.payload.event,x=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},b=Object.keys(x).length===0?"":JSON.stringify(x);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+f.length+g.length+b.length,N=new ArrayBuffer(this.HEADER_LENGTH+_);let S=new DataView(N),C=0;S.setUint8(C++,this.KINDS.userBroadcastPush),S.setUint8(C++,m.length),S.setUint8(C++,p.length),S.setUint8(C++,f.length),S.setUint8(C++,g.length),S.setUint8(C++,b.length),S.setUint8(C++,r),Array.from(m,M=>S.setUint8(C++,M.charCodeAt(0))),Array.from(p,M=>S.setUint8(C++,M.charCodeAt(0))),Array.from(f,M=>S.setUint8(C++,M.charCodeAt(0))),Array.from(g,M=>S.setUint8(C++,M.charCodeAt(0))),Array.from(b,M=>S.setUint8(C++,M.charCodeAt(0)));var R=new Uint8Array(N.byteLength+l.byteLength);return R.set(new Uint8Array(N),0),R.set(new Uint8Array(l),N.byteLength),R.buffer}decode(a,r){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return r(l)}if(typeof a=="string"){const l=JSON.parse(a),[u,d,f,p,m]=l;return r({join_ref:u,ref:d,topic:f,event:p,payload:m})}return r({})}_binaryDecode(a){const r=new DataView(a),l=r.getUint8(0),u=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,r,u)}}_decodeUserBroadcast(a,r,l){const u=r.getUint8(1),d=r.getUint8(2),f=r.getUint8(3),p=r.getUint8(4);let m=this.HEADER_LENGTH+4;const g=l.decode(a.slice(m,m+u));m=m+u;const x=l.decode(a.slice(m,m+d));m=m+d;const b=l.decode(a.slice(m,m+f));m=m+f;const _=a.slice(m,a.byteLength),N=p===this.JSON_ENCODING?JSON.parse(l.decode(_)):_,S={type:this.BROADCAST_EVENT,event:x,payload:N};return f>0&&(S.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(a){var r;return a instanceof ArrayBuffer||((r=a?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(a,r){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([l])=>r.includes(l)))}}class py{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ie||(Ie={}));const Yp=(i,a,r={})=>{var l;const u=(l=r.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((d,f)=>(d[f]=Qw(f,i,a,u),d),{}):{}},Qw=(i,a,r,l)=>{const u=a.find(p=>p.name===i),d=u?.type,f=r[i];return d&&!l.includes(d)?gy(d,f):Qc(f)},gy=(i,a)=>{if(i.charAt(0)==="_"){const r=i.slice(1,i.length);return Ww(a,r)}switch(i){case Ie.bool:return Xw(a);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return Jw(a);case Ie.json:case Ie.jsonb:return Zw(a);case Ie.timestamp:return e_(a);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return Qc(a);default:return Qc(a)}},Qc=i=>i,Xw=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Jw=i=>{if(typeof i=="string"){const a=parseFloat(i);if(!Number.isNaN(a))return a}return i},Zw=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(a){return console.log(`JSON parse error: ${a}`),i}return i},Ww=(i,a)=>{if(typeof i!="string")return i;const r=i.length-1,l=i[r];if(i[0]==="{"&&l==="}"){let d;const f=i.slice(1,r);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(p=>gy(a,p))}return i},e_=i=>typeof i=="string"?i.replace(" ","T"):i,yy=i=>{const a=new URL(i);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Cc{constructor(a,r,l={},u=Pc){this.channel=a,this.event=r,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var l;return this._hasReceived(a)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Gp;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Gp||(Gp={}));class li{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=li.syncState(this.state,u,d,f),this.pendingDiffs.forEach(m=>{this.state=li.syncDiff(this.state,m,d,f)}),this.pendingDiffs=[],p()}),this.channel._on(l.diff,{},u=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=li.syncDiff(this.state,u,d,f),p())}),this.onJoin((u,d,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:f})}),this.onLeave((u,d,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,l,u){const d=this.cloneDeep(a),f=this.transformState(r),p={},m={};return this.map(d,(g,x)=>{f[g]||(m[g]=x)}),this.map(f,(g,x)=>{const b=d[g];if(b){const _=x.map(R=>R.presence_ref),N=b.map(R=>R.presence_ref),S=x.filter(R=>N.indexOf(R.presence_ref)<0),C=b.filter(R=>_.indexOf(R.presence_ref)<0);S.length>0&&(p[g]=S),C.length>0&&(m[g]=C)}else p[g]=x}),this.syncDiff(d,{joins:p,leaves:m},l,u)}static syncDiff(a,r,l,u){const{joins:d,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(d,(p,m)=>{var g;const x=(g=a[p])!==null&&g!==void 0?g:[];if(a[p]=this.cloneDeep(m),x.length>0){const b=a[p].map(N=>N.presence_ref),_=x.filter(N=>b.indexOf(N.presence_ref)<0);a[p].unshift(..._)}l(p,x,m)}),this.map(f,(p,m)=>{let g=a[p];if(!g)return;const x=m.map(b=>b.presence_ref);g=g.filter(b=>x.indexOf(b.presence_ref)<0),a[p]=g,u(p,g,m),g.length===0&&delete a[p]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(l=>r(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,l)=>{const u=a[l];return"metas"in u?r[l]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):r[l]=u,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kp;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Kp||(Kp={}));var oi;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(oi||(oi={}));var Gn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Gn||(Gn={}));class md{constructor(a,r={config:{}},l){var u,d;if(this.topic=a,this.params=r,this.socket=l,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Cc(this,mn.join,this.params,this.timeout),this.rejoinTimer=new py(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mn.reply,{},(f,p)=>{this._trigger(this._replyEventName(p),f)}),this.presence=new li(this),this.broadcastEndpointURL=yy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var l,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:f,presence:p,private:m}}=this.params,g=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(N=>N.filter))!==null&&u!==void 0?u:[],x=!!this.bindings[oi.PRESENCE]&&this.bindings[oi.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,b={},_={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:x}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(N=>a?.(Gn.CHANNEL_ERROR,N)),this._onClose(()=>a?.(Gn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:N})=>{var S;if(this.socket.setAuth(),N===void 0){a?.(Gn.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,R=(S=C?.length)!==null&&S!==void 0?S:0,M=[];for(let O=0;O<R;O++){const k=C[O],{filter:{event:X,schema:ie,table:le,filter:Q}}=k,I=N&&N[O];if(I&&I.event===X&&I.schema===ie&&I.table===le&&I.filter===Q)M.push(Object.assign(Object.assign({},k),{id:I.id}));else{this.unsubscribe(),this.state=ut.errored,a?.(Gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,a&&a(Gn.SUBSCRIBED);return}}).receive("error",N=>{this.state=ut.errored,a?.(Gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{a?.(Gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,l){return this.state===ut.joined&&a===oi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,r,l)}async httpSend(a,r,l={}){var u;const d=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:d,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const g=await p.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(a,r={}){var l,u;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=a,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=g.body)===null||u===void 0?void 0:u.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,p,m;const g=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((m=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&d("ok"),g.receive("ok",()=>d("ok")),g.receive("error",()=>d("error")),g.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=ut.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new Cc(this,mn.leave,{},a),l.receive("ok",()=>{r(),u("ok")}).receive("timeout",()=>{r(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ut.closed,this.bindings={}}async _fetchWithTimeout(a,r,l){const u=new AbortController,d=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:u.signal}));return clearTimeout(d),f}_push(a,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Cc(this,a,r,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Pw){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,l){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,l){var u,d;const f=a.toLocaleLowerCase(),{close:p,error:m,leave:g,join:x}=mn;if(l&&[p,m,g,x].indexOf(f)>=0&&l!==this._joinRef())return;let _=this._onMessage(f,r,l);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(N=>{var S,C,R;return((S=N.filter)===null||S===void 0?void 0:S.event)==="*"||((R=(C=N.filter)===null||C===void 0?void 0:C.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===f}).map(N=>N.callback(_,l)):(d=this.bindings[f])===null||d===void 0||d.filter(N=>{var S,C,R,M,O,k;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in N){const X=N.id,ie=(S=N.filter)===null||S===void 0?void 0:S.event;return X&&((C=r.ids)===null||C===void 0?void 0:C.includes(X))&&(ie==="*"||ie?.toLocaleLowerCase()===((R=r.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const X=(O=(M=N?.filter)===null||M===void 0?void 0:M.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return X==="*"||X===((k=r?.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===f}).map(N=>{if(typeof _=="object"&&"ids"in _){const S=_.data,{schema:C,table:R,commit_timestamp:M,type:O,errors:k}=S;_=Object.assign(Object.assign({},{schema:C,table:R,commit_timestamp:M,eventType:O,new:{},old:{},errors:k}),this._getPayloadRecords(S))}N.callback(_,l)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,l){const u=a.toLocaleLowerCase(),d={type:u,filter:r,callback:l};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(a,r){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&md.isEqual(u.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const l in a)if(a[l]!==r[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(mn.close,{},a)}_onError(a){this._on(mn.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=Yp(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=Yp(a.columns,a.old_record)),r}}const Dc=()=>{},$l={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},t_=[1e3,2e3,5e3,1e4],n_=1e4,a_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class r_{constructor(a,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pc,this.transport=null,this.heartbeatIntervalMs=$l.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dc,this.ref=0,this.reconnectTimer=null,this.vsn=Vp,this.logger=Dc,this.conn=null,this.sendBuffer=[],this.serializer=new Fw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((l=r?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${Fc.websocket}`,this.httpEndpoint=yy(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Vw.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,l){this.logger(a,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Pa.connecting:return Fa.Connecting;case Pa.open:return Fa.Open;case Pa.closing:return Fa.Closing;default:return Fa.Closed}}isConnected(){return this.connectionState()===Fa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const l=`realtime:${a}`,u=this.getChannels().find(d=>d.topic===l);if(u)return u;{const d=new md(`realtime:${a}`,r,this);return this.channels.push(d),d}}push(a){const{topic:r,event:l,payload:u,ref:d}=a,f=()=>{this.encode(a,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${r} ${l} (${d})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Iw,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},$l.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:u,payload:d,ref:f}=r,p=f?`(${f})`:"",m=d.status||"";this.log("receive",`${m} ${l} ${u} ${p}`.trim(),d),this.channels.filter(g=>g._isMember(l)).forEach(g=>g._trigger(u,d,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Pa.open||this.conn.readyState===Pa.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(mn.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const l=a.match(/\?/)?"&":"?",u=new URLSearchParams(r);return`${a}${l}${u}`}_workerObjectUrl(a){let r;if(a)r=a;else{const l=new Blob([a_],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r;a?r=a:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(l=>{const u={access_token:r,version:Gw};r&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(mn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(r)}catch(u){this.log("error",`error in ${a} callback`,u)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new py(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$l.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,l,u,d,f,p,m,g,x,b,_,N;switch(this.transport=(r=a?.transport)!==null&&r!==void 0?r:null,this.timeout=(l=a?.timeout)!==null&&l!==void 0?l:Pc,this.heartbeatIntervalMs=(u=a?.heartbeatIntervalMs)!==null&&u!==void 0?u:$l.HEARTBEAT_INTERVAL,this.worker=(d=a?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=a?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=a?.heartbeatCallback)!==null&&p!==void 0?p:Dc,this.vsn=(m=a?.vsn)!==null&&m!==void 0?m:Vp,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=a?.reconnectAfterMs)!==null&&g!==void 0?g:(S=>t_[S-1]||n_),this.vsn){case my:this.encode=(x=a?.encode)!==null&&x!==void 0?x:((S,C)=>C(JSON.stringify(S))),this.decode=(b=a?.decode)!==null&&b!==void 0?b:((S,C)=>C(JSON.parse(S)));break;case Kw:this.encode=(_=a?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(N=a?.decode)!==null&&N!==void 0?N:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}class ro extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Je(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class s_ extends ro{constructor(a,r,l){super(a),this.name="StorageApiError",this.status=r,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Xc extends ro{constructor(a,r){super(a),this.name="StorageUnknownError",this.originalError=r}}const pd=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),i_=()=>Response,Jc=i=>{if(Array.isArray(i))return i.map(r=>Jc(r));if(typeof i=="function"||i!==Object(i))return i;const a={};return Object.entries(i).forEach(([r,l])=>{const u=r.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[u]=Jc(l)}),a},l_=i=>{if(typeof i!="object"||i===null)return!1;const a=Object.getPrototypeOf(i);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},o_=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),Mc=i=>{var a;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(a=i.error)===null||a===void 0?void 0:a.message)||JSON.stringify(i)},u_=(i,a,r)=>ae(void 0,void 0,void 0,function*(){const l=yield i_();i instanceof l&&!r?.noResolveJson?i.json().then(u=>{const d=i.status||500,f=u?.statusCode||d+"";a(new s_(Mc(u),d,f))}).catch(u=>{a(new Xc(Mc(u),u))}):a(new Xc(Mc(i),i))}),c_=(i,a,r,l)=>{const u={method:i,headers:a?.headers||{}};return i==="GET"||!l?u:(l_(l)?(u.headers=Object.assign({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(l)):u.body=l,a?.duplex&&(u.duplex=a.duplex),Object.assign(Object.assign({},u),r))};function vi(i,a,r,l,u,d){return ae(this,void 0,void 0,function*(){return new Promise((f,p)=>{i(r,c_(a,l,u,d)).then(m=>{if(!m.ok)throw m;return l?.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>u_(m,p,l))})})}function di(i,a,r,l){return ae(this,void 0,void 0,function*(){return vi(i,"GET",a,r,l)})}function fn(i,a,r,l,u){return ae(this,void 0,void 0,function*(){return vi(i,"POST",a,l,u,r)})}function Zc(i,a,r,l,u){return ae(this,void 0,void 0,function*(){return vi(i,"PUT",a,l,u,r)})}function d_(i,a,r,l){return ae(this,void 0,void 0,function*(){return vi(i,"HEAD",a,Object.assign(Object.assign({},r),{noResolveJson:!0}),l)})}function gd(i,a,r,l,u){return ae(this,void 0,void 0,function*(){return vi(i,"DELETE",a,l,u,r)})}class h_{constructor(a,r){this.downloadFn=a,this.shouldThrowOnError=r}then(a,r){return this.execute().then(a,r)}execute(){return ae(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}}var vy;class f_{constructor(a,r){this.downloadFn=a,this.shouldThrowOnError=r,this[vy]="BlobDownloadBuilder",this.promise=null}asStream(){return new h_(this.downloadFn,this.shouldThrowOnError)}then(a,r){return this.getPromise().then(a,r)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ae(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}}vy=Symbol.toStringTag;const m_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ip={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class p_{constructor(a,r={},l,u){this.shouldThrowOnError=!1,this.url=a,this.headers=r,this.bucketId=l,this.fetch=pd(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,r,l,u){return ae(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},Ip),u);let p=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),m&&d.append("metadata",this.encodeMetadata(m)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),m&&!d.has("metadata")&&d.append("metadata",this.encodeMetadata(m))):(d=l,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,m&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),u?.headers&&(p=Object.assign(Object.assign({},p),u.headers));const g=this._removeEmptyFolders(r),x=this._getFinalPath(g),b=yield(a=="PUT"?Zc:fn)(this.fetch,`${this.url}/object/${x}`,d,Object.assign({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:g,id:b.Id,fullPath:b.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Je(d))return{data:null,error:d};throw d}})}upload(a,r,l){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,r,l)})}uploadToSignedUrl(a,r,l,u){return ae(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(a),f=this._getFinalPath(d),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",r);try{let m;const g=Object.assign({upsert:Ip.upsert},u),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",g.cacheControl)):(m=l,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType);const b=yield Zc(this.fetch,p.toString(),m,{headers:x});return{data:{path:d,fullPath:b.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Je(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(a,r){return ae(this,void 0,void 0,function*(){try{let l=this._getFinalPath(a);const u=Object.assign({},this.headers);r?.upsert&&(u["x-upsert"]="true");const d=yield fn(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(this.url+d.url),p=f.searchParams.get("token");if(!p)throw new ro("No token returned by API");return{data:{signedUrl:f.toString(),path:a,token:p},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}})}update(a,r,l){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,r,l)})}move(a,r,l){return ae(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:r,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}})}copy(a,r,l){return ae(this,void 0,void 0,function*(){try{return{data:{path:(yield fn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:r,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}})}createSignedUrl(a,r,l){return ae(this,void 0,void 0,function*(){try{let u=this._getFinalPath(a),d=yield fn(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:r},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const f=l?.download?`&download=${l.download===!0?"":l.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}})}createSignedUrls(a,r,l){return ae(this,void 0,void 0,function*(){try{const u=yield fn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:a},{headers:this.headers}),d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}})}download(a,r){const u=typeof r?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(r?.transform||{}),f=d?`?${d}`:"",p=this._getFinalPath(a),m=()=>di(this.fetch,`${this.url}/${u}/${p}${f}`,{headers:this.headers,noResolveJson:!0});return new f_(m,this.shouldThrowOnError)}info(a){return ae(this,void 0,void 0,function*(){const r=this._getFinalPath(a);try{const l=yield di(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Jc(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}})}exists(a){return ae(this,void 0,void 0,function*(){const r=this._getFinalPath(a);try{return yield d_(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Je(l)&&l instanceof Xc){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(a,r){const l=this._getFinalPath(a),u=[],d=r?.download?`download=${r.download===!0?"":r.download}`:"";d!==""&&u.push(d);const p=typeof r?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(r?.transform||{});m!==""&&u.push(m);let g=u.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${l}${g}`)}}}remove(a){return ae(this,void 0,void 0,function*(){try{return{data:yield gd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}list(a,r,l){return ae(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},m_),r),{prefix:a||""});return{data:yield fn(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}})}listV2(a,r){return ae(this,void 0,void 0,function*(){try{const l=Object.assign({},a);return{data:yield fn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},r),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const r=[];return a.width&&r.push(`width=${a.width}`),a.height&&r.push(`height=${a.height}`),a.resize&&r.push(`resize=${a.resize}`),a.format&&r.push(`format=${a.format}`),a.quality&&r.push(`quality=${a.quality}`),r.join("&")}}const xy="2.86.0",by={"X-Client-Info":`storage-js/${xy}`};class g_{constructor(a,r={},l,u){this.shouldThrowOnError=!1;const d=new URL(a);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},by),r),this.fetch=pd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return ae(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(a);return{data:yield di(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}getBucket(a){return ae(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}createBucket(a){return ae(this,arguments,void 0,function*(r,l={public:!1}){try{return{data:yield fn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}})}updateBucket(a,r){return ae(this,void 0,void 0,function*(){try{return{data:yield Zc(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}})}emptyBucket(a){return ae(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}deleteBucket(a){return ae(this,void 0,void 0,function*(){try{return{data:yield gd(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(a){const r={};return a&&("limit"in a&&(r.limit=String(a.limit)),"offset"in a&&(r.offset=String(a.offset)),a.search&&(r.search=a.search),a.sortColumn&&(r.sortColumn=a.sortColumn),a.sortOrder&&(r.sortOrder=a.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var hi=class extends Error{constructor(i,a){super(i),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function y_(i,a,r){const l=new URL(a,i);if(r)for(const[u,d]of Object.entries(r))d!==void 0&&l.searchParams.set(u,d);return l.toString()}async function v_(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function x_(i){const a=i.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:u,body:d,headers:f}){const p=y_(i.baseUrl,l,u),m=await v_(i.auth),g=await a(p,{method:r,headers:{...d?{"Content-Type":"application/json"}:{},...m,...f},body:d?JSON.stringify(d):void 0}),x=await g.text(),b=(g.headers.get("content-type")||"").includes("application/json"),_=b&&x?JSON.parse(x):x;if(!g.ok){const N=b?_:void 0,S=N?.error;throw new hi(S?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:S?.type,icebergCode:S?.code,details:N})}return{status:g.status,headers:g.headers,data:_}}}}function Vl(i){return i.join("")}var b_=class{constructor(i,a=""){this.client=i,this.prefix=a}async listNamespaces(i){const a=i?{parent:Vl(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(i,a){const r={namespace:i.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vl(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vl(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vl(i.namespace)}`}),!0}catch(a){if(a instanceof hi&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(i,a){try{return await this.createNamespace(i,a)}catch(r){if(r instanceof hi&&r.status===409)return;throw r}}};function Vr(i){return i.join("")}var w_=class{constructor(i,a="",r){this.client=i,this.prefix=a,this.accessDelegation=r}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vr(i.namespace)}/tables`})).data.identifiers}async createTable(i,a){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vr(i.namespace)}/tables`,body:a,headers:r})).data.metadata}async updateTable(i,a){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vr(i.namespace)}/tables/${i.name}`,body:a});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(i,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vr(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(i){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vr(i.namespace)}/tables/${i.name}`,headers:a})).data.metadata}async tableExists(i){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vr(i.namespace)}/tables/${i.name}`,headers:a}),!0}catch(r){if(r instanceof hi&&r.status===404)return!1;throw r}}async createTableIfNotExists(i,a){try{return await this.createTable(i,a)}catch(r){if(r instanceof hi&&r.status===409)return await this.loadTable({namespace:i.namespace,name:a.name});throw r}}},__=class{constructor(i){let a="v1";i.catalogName&&(a+=`/${i.catalogName}`);const r=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=x_({baseUrl:r,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new b_(this.client,a),this.tableOps=new w_(this.client,a,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,a){return this.namespaceOps.createNamespace(i,a)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,a){return this.tableOps.createTable(i,a)}async updateTable(i,a){return this.tableOps.updateTable(i,a)}async dropTable(i,a){await this.tableOps.dropTable(i,a)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,a){return this.namespaceOps.createNamespaceIfNotExists(i,a)}async createTableIfNotExists(i,a){return this.tableOps.createTableIfNotExists(i,a)}};class j_{constructor(a,r={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},by),r),this.fetch=pd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return ae(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}listBuckets(a){return ae(this,void 0,void 0,function*(){try{const r=new URLSearchParams;a?.limit!==void 0&&r.set("limit",a.limit.toString()),a?.offset!==void 0&&r.set("offset",a.offset.toString()),a?.sortColumn&&r.set("sortColumn",a.sortColumn),a?.sortOrder&&r.set("sortOrder",a.sortOrder),a?.search&&r.set("search",a.search);const l=r.toString(),u=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield di(this.fetch,u,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}deleteBucket(a){return ae(this,void 0,void 0,function*(){try{return{data:yield gd(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}from(a){if(!o_(a))throw new ro("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new __({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>ae(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const yd={"X-Client-Info":`storage-js/${xy}`,"Content-Type":"application/json"};class wy extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Yt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class Uc extends wy{constructor(a,r,l){super(a),this.name="StorageVectorsApiError",this.status=r,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class S_ extends wy{constructor(a,r){super(a),this.name="StorageVectorsUnknownError",this.originalError=r}}var Pp;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Pp||(Pp={}));const vd=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),N_=i=>{if(typeof i!="object"||i===null)return!1;const a=Object.getPrototypeOf(i);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Fp=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),E_=(i,a,r)=>ae(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!r?.noResolveJson){const u=i.status||500,d=i;if(typeof d.json=="function")d.json().then(f=>{const p=f?.statusCode||f?.code||u+"";a(new Uc(Fp(f),u,p))}).catch(()=>{const f=u+"",p=d.statusText||`HTTP ${u} error`;a(new Uc(p,u,f))});else{const f=u+"",p=d.statusText||`HTTP ${u} error`;a(new Uc(p,u,f))}}else a(new S_(Fp(i),i))}),T_=(i,a,r,l)=>{const u={method:i,headers:a?.headers||{}};return l?(N_(l)?(u.headers=Object.assign({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(l)):u.body=l,Object.assign(Object.assign({},u),r)):u};function A_(i,a,r,l,u,d){return ae(this,void 0,void 0,function*(){return new Promise((f,p)=>{i(r,T_(a,l,u,d)).then(m=>{if(!m.ok)throw m;if(l?.noResolveJson)return m;const g=m.headers.get("content-type");return!g||!g.includes("application/json")?{}:m.json()}).then(m=>f(m)).catch(m=>E_(m,p,l))})})}function Gt(i,a,r,l,u){return ae(this,void 0,void 0,function*(){return A_(i,"POST",a,l,u,r)})}class O_{constructor(a,r={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yd),r),this.fetch=vd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return ae(this,void 0,void 0,function*(){try{return{data:(yield Gt(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}getIndex(a,r){return ae(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:r},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}})}listIndexes(a){return ae(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}deleteIndex(a,r){return ae(this,void 0,void 0,function*(){try{return{data:(yield Gt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:r},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}})}}class R_{constructor(a,r={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yd),r),this.fetch=vd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return ae(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Gt(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}getVectors(a){return ae(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}listVectors(a){return ae(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield Gt(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}queryVectors(a){return ae(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}deleteVectors(a){return ae(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Gt(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}}class k_{constructor(a,r={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yd),r),this.fetch=vd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return ae(this,void 0,void 0,function*(){try{return{data:(yield Gt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}getBucket(a){return ae(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}listBuckets(){return ae(this,arguments,void 0,function*(a={}){try{return{data:yield Gt(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}deleteBucket(a){return ae(this,void 0,void 0,function*(){try{return{data:(yield Gt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}}class C_ extends k_{constructor(a,r={}){super(a,r.headers||{},r.fetch)}from(a){return new D_(this.url,this.headers,a,this.fetch)}createBucket(a){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ae(this,void 0,void 0,function*(){return r.createBucket.call(this,a)})}getBucket(a){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ae(this,void 0,void 0,function*(){return r.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ae(this,arguments,void 0,function*(r={}){return a.listBuckets.call(this,r)})}deleteBucket(a){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ae(this,void 0,void 0,function*(){return r.deleteBucket.call(this,a)})}}class D_ extends O_{constructor(a,r,l,u){super(a,r,u),this.vectorBucketName=l}createIndex(a){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ae(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ae(this,arguments,void 0,function*(r={}){return a.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ae(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ae(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new M_(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class M_ extends R_{constructor(a,r,l,u,d){super(a,r,d),this.vectorBucketName=l,this.indexName=u}putVectors(a){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ae(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ae(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ae(this,arguments,void 0,function*(r={}){return a.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ae(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ae(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class U_ extends g_{constructor(a,r={},l,u){super(a,r,l,u)}from(a){return new p_(this.url,this.headers,a,this.fetch)}get vectors(){return new C_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new j_(this.url+"/iceberg",this.headers,this.fetch)}}const z_="2.86.0";let si="";typeof Deno<"u"?si="deno":typeof document<"u"?si="web":typeof navigator<"u"&&navigator.product==="ReactNative"?si="react-native":si="node";const L_={"X-Client-Info":`supabase-js-${si}/${z_}`},B_={headers:L_},q_={schema:"public"},H_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$_={},V_=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),Y_=()=>Headers,G_=(i,a,r)=>{const l=V_(r),u=Y_();return async(d,f)=>{var p;const m=(p=await a())!==null&&p!==void 0?p:i;let g=new u(f?.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),l(d,Object.assign(Object.assign({},f),{headers:g}))}};function K_(i){return i.endsWith("/")?i:i+"/"}function I_(i,a){var r,l;const{db:u,auth:d,realtime:f,global:p}=i,{db:m,auth:g,realtime:x,global:b}=a,_={db:Object.assign(Object.assign({},m),u),auth:Object.assign(Object.assign({},g),d),realtime:Object.assign(Object.assign({},x),f),storage:{},global:Object.assign(Object.assign(Object.assign({},b),p),{headers:Object.assign(Object.assign({},(r=b?.headers)!==null&&r!==void 0?r:{}),(l=p?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return i.accessToken?_.accessToken=i.accessToken:delete _.accessToken,_}function P_(i){const a=i?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(K_(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const _y="2.86.0",Qr=30*1e3,Wc=3,zc=Wc*Qr,F_="http://localhost:9999",Q_="supabase.auth.token",X_={"X-Client-Info":`gotrue-js/${_y}`},ed="X-Supabase-Api-Version",jy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},J_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Z_=600*1e3;class fi extends Error{constructor(a,r,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function ue(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class W_ extends fi{constructor(a,r,l){super(a,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function e1(i){return ue(i)&&i.name==="AuthApiError"}class Qa extends fi{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class wa extends fi{constructor(a,r,l,u){super(a,l,u),this.name=r,this.status=l}}class $t extends wa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function t1(i){return ue(i)&&i.name==="AuthSessionMissingError"}class Yr extends wa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yl extends wa{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Gl extends wa{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function n1(i){return ue(i)&&i.name==="AuthImplicitGrantRedirectError"}class Qp extends wa{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class td extends wa{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function Lc(i){return ue(i)&&i.name==="AuthRetryableFetchError"}class Xp extends wa{constructor(a,r,l){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class nd extends wa{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jp=` 	
\r=`.split(""),a1=(()=>{const i=new Array(128);for(let a=0;a<i.length;a+=1)i[a]=-1;for(let a=0;a<Jp.length;a+=1)i[Jp[a].charCodeAt(0)]=-2;for(let a=0;a<Jl.length;a+=1)i[Jl[a].charCodeAt(0)]=a;return i})();function Zp(i,a,r){if(i!==null)for(a.queue=a.queue<<8|i,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;r(Jl[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;r(Jl[l]),a.queuedBits-=6}}function Sy(i,a,r){const l=a1[i];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Wp(i){const a=[],r=f=>{a.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=f=>{i1(f,l,r)};for(let f=0;f<i.length;f+=1)Sy(i.charCodeAt(f),u,d);return a.join("")}function r1(i,a){if(i<=127){a(i);return}else if(i<=2047){a(192|i>>6),a(128|i&63);return}else if(i<=65535){a(224|i>>12),a(128|i>>6&63),a(128|i&63);return}else if(i<=1114111){a(240|i>>18),a(128|i>>12&63),a(128|i>>6&63),a(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function s1(i,a){for(let r=0;r<i.length;r+=1){let l=i.charCodeAt(r);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(i.charCodeAt(r+1)-56320&65535|u)+65536,r+=1}r1(l,a)}}function i1(i,a,r){if(a.utf8seq===0){if(i<=127){r(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=i&31;else if(a.utf8seq===3)a.codepoint=i&15;else if(a.utf8seq===4)a.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|i&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function Zr(i){const a=[],r={queue:0,queuedBits:0},l=u=>{a.push(u)};for(let u=0;u<i.length;u+=1)Sy(i.charCodeAt(u),r,l);return new Uint8Array(a)}function l1(i){const a=[];return s1(i,r=>a.push(r)),new Uint8Array(a)}function Ja(i){const a=[],r={queue:0,queuedBits:0},l=u=>{a.push(u)};return i.forEach(u=>Zp(u,r,l)),Zp(null,r,l),a.join("")}function o1(i){return Math.round(Date.now()/1e3)+i}function u1(){return Symbol("auth-callback")}const yt=()=>typeof window<"u"&&typeof document<"u",Ya={tested:!1,writable:!1},Ny=()=>{if(!yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ya.tested)return Ya.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Ya.tested=!0,Ya.writable=!0}catch{Ya.tested=!0,Ya.writable=!1}return Ya.writable};function c1(i){const a={},r=new URL(i);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((u,d)=>{a[d]=u})}catch{}return r.searchParams.forEach((l,u)=>{a[u]=l}),a}const Ey=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),d1=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Xr=async(i,a,r)=>{await i.setItem(a,JSON.stringify(r))},Ga=async(i,a)=>{const r=await i.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},va=async(i,a)=>{await i.removeItem(a)};class so{constructor(){this.promise=new so.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}so.promiseConstructor=Promise;function Bc(i){const a=i.split(".");if(a.length!==3)throw new nd("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!J_.test(a[l]))throw new nd("JWT not in base64url format");return{header:JSON.parse(Wp(a[0])),payload:JSON.parse(Wp(a[1])),signature:Zr(a[2]),raw:{header:a[0],payload:a[1]}}}async function h1(i){return await new Promise(a=>{setTimeout(()=>a(null),i)})}function f1(i,a){return new Promise((l,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await i(d);if(!a(d,null,f)){l(f);return}}catch(f){if(!a(d,f)){u(f);return}}})()})}function m1(i){return("0"+i.toString(16)).substr(-2)}function p1(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let u="";for(let d=0;d<56;d++)u+=r.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(a),Array.from(a,m1).join("")}async function g1(i){const r=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",r),u=new Uint8Array(l);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function y1(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const r=await g1(i);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gr(i,a,r=!1){const l=p1();let u=l;r&&(u+="/PASSWORD_RECOVERY"),await Xr(i,`${a}-code-verifier`,u);const d=await y1(l);return[d,l===d?"plain":"s256"]}const v1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function x1(i){const a=i.headers.get(ed);if(!a||!a.match(v1))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function b1(i){if(!i)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(i<=a)throw new Error("JWT has expired")}function w1(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Kr(i){if(!_1.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qc(){const i={};return new Proxy(i,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function j1(i,a){return new Proxy(i,{get:(r,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const d=l.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,u)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(r,l,u)}})}function eg(i){return JSON.parse(JSON.stringify(i))}const Ia=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),S1=[502,503,504];async function tg(i){var a;if(!d1(i))throw new td(Ia(i),0);if(S1.includes(i.status))throw new td(Ia(i),i.status);let r;try{r=await i.json()}catch(d){throw new Qa(Ia(d),d)}let l;const u=x1(i);if(u&&u.getTime()>=jy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new Xp(Ia(r),i.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new $t}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Xp(Ia(r),i.status,r.weak_password.reasons);throw new W_(Ia(r),i.status||500,l)}const N1=(i,a,r,l)=>{const u={method:i,headers:a?.headers||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),r))};async function fe(i,a,r,l){var u;const d=Object.assign({},l?.headers);d[ed]||(d[ed]=jy["2024-01-01"].name),l?.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const f=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await E1(i,a,r+p,{headers:d,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function E1(i,a,r,l,u,d){const f=N1(a,l,u,d);let p;try{p=await i(r,Object.assign({},f))}catch(m){throw console.error(m),new td(Ia(m),0)}if(p.ok||await tg(p),l?.noResolveJson)return p;try{return await p.json()}catch(m){await tg(m)}}function hn(i){var a;let r=null;O1(i)&&(r=Object.assign({},i),i.expires_at||(r.expires_at=o1(i.expires_in)));const l=(a=i.user)!==null&&a!==void 0?a:i;return{data:{session:r,user:l},error:null}}function ng(i){const a=hn(i);return!a.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(a.data.weak_password=i.weak_password),a}function xa(i){var a;return{data:{user:(a=i.user)!==null&&a!==void 0?a:i},error:null}}function T1(i){return{data:i,error:null}}function A1(i){const{action_link:a,email_otp:r,hashed_token:l,redirect_to:u,verification_type:d}=i,f=rs(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:a,email_otp:r,hashed_token:l,redirect_to:u,verification_type:d},m=Object.assign({},f);return{data:{properties:p,user:m},error:null}}function ag(i){return i}function O1(i){return i.access_token&&i.refresh_token&&i.expires_in}const Hc=["global","local","others"];class R1{constructor({url:a="",headers:r={},fetch:l}){this.url=a,this.headers=r,this.fetch=Ey(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=Hc[0]){if(Hc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hc.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ue(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,r={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:xa})}catch(l){if(ue(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:r}=a,l=rs(a,["options"]),u=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:A1,redirectTo:r?.redirectTo})}catch(r){if(ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:xa})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,l,u,d,f,p,m;try{const g={nextPage:null,lastPage:0,total:0},x=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:ag});if(x.error)throw x.error;const b=await x.json(),_=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,N=(m=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return N.length>0&&(N.forEach(S=>{const C=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(S.split(";")[1].split("=")[1]);g[`${R}Page`]=C}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(ue(g))return{data:{users:[]},error:g};throw g}}async getUserById(a){Kr(a);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:xa})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){Kr(a);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:xa})}catch(l){if(ue(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,r=!1){Kr(a);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:xa})}catch(l){if(ue(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){Kr(a.userId);try{const{data:r,error:l}=await fe(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:r,error:l}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteFactor(a){Kr(a.userId),Kr(a.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,l,u,d,f,p,m;try{const g={nextPage:null,lastPage:0,total:0},x=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:ag});if(x.error)throw x.error;const b=await x.json(),_=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,N=(m=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return N.length>0&&(N.forEach(S=>{const C=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(S.split(";")[1].split("=")[1]);g[`${R}Page`]=C}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(ue(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(a){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(a,r){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ue(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}}function rg(i={}){return{getItem:a=>i[a]||null,setItem:(a,r)=>{i[a]=r},removeItem:a=>{delete i[a]}}}const Ir={debug:!!(globalThis&&Ny()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ty extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class k1 extends Ty{}async function C1(i,a,r){Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,u.name);try{return await r()}finally{Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,u.name)}}else{if(a===0)throw Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new k1(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Ir.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function D1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ay(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function M1(i){return parseInt(i,16)}function U1(i){const a=new TextEncoder().encode(i);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function z1(i){var a;const{chainId:r,domain:l,expirationTime:u,issuedAt:d=new Date,nonce:f,notBefore:p,requestId:m,resources:g,scheme:x,uri:b,version:_}=i;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((a=i.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const N=Ay(i.address),S=x?`${x}://${l}`:l,C=i.statement?`${i.statement}
`:"",R=`${S} wants you to sign in with your Ethereum account:
${N}

${C}`;let M=`URI: ${b}
Version: ${_}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(u&&(M+=`
Expiration Time: ${u.toISOString()}`),p&&(M+=`
Not Before: ${p.toISOString()}`),m&&(M+=`
Request ID: ${m}`),g){let O=`
Resources:`;for(const k of g){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);O+=`
- ${k}`}M+=O}return`${R}
${M}`}class it extends Error{constructor({message:a,code:r,cause:l,name:u}){var d;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(d=u??(l instanceof Error?l.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=r}}class Zl extends it{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function L1({error:i,options:a}){var r,l,u;const{publicKey:d}=a;if(!d)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(a.signal instanceof AbortSignal)return new it({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((r=d.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new it({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(a.mediation==="conditional"&&((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new it({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new it({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new it({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new it({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return d.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new it({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new it({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(Oy(f)){if(d.rp.id!==f)return new it({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new it({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function B1({error:i,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(a.signal instanceof AbortSignal)return new it({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new it({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const l=window.location.hostname;if(Oy(l)){if(r.rpId!==l)return new it({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class q1{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const H1=new q1;function $1(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:a,user:r,excludeCredentials:l}=i,u=rs(i,["challenge","user","excludeCredentials"]),d=Zr(a).buffer,f=Object.assign(Object.assign({},r),{id:Zr(r.id).buffer}),p=Object.assign(Object.assign({},u),{challenge:d,user:f});if(l&&l.length>0){p.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const g=l[m];p.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:Zr(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return p}function V1(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:a,allowCredentials:r}=i,l=rs(i,["challenge","allowCredentials"]),u=Zr(a).buffer,d=Object.assign(Object.assign({},l),{challenge:u});if(r&&r.length>0){d.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const p=r[f];d.allowCredentials[f]=Object.assign(Object.assign({},p),{id:Zr(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function Y1(i){var a;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i;return{id:i.id,rawId:i.id,response:{attestationObject:Ja(new Uint8Array(i.response.attestationObject)),clientDataJSON:Ja(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function G1(i){var a;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i,l=i.getClientExtensionResults(),u=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Ja(new Uint8Array(u.authenticatorData)),clientDataJSON:Ja(new Uint8Array(u.clientDataJSON)),signature:Ja(new Uint8Array(u.signature)),userHandle:u.userHandle?Ja(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Oy(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function sg(){var i,a;return!!(yt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function K1(i){try{const a=await navigator.credentials.create(i);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Zl("Browser returned unexpected credential type",a)}:{data:null,error:new Zl("Empty credential response",a)}}catch(a){return{data:null,error:L1({error:a,options:i})}}}async function I1(i){try{const a=await navigator.credentials.get(i);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Zl("Browser returned unexpected credential type",a)}:{data:null,error:new Zl("Empty credential response",a)}}catch(a){return{data:null,error:B1({error:a,options:i})}}}const P1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},F1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Wl(...i){const a=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),r=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of i)if(u)for(const d in u){const f=u[d];if(f!==void 0)if(Array.isArray(f))l[d]=f;else if(r(f))l[d]=f;else if(a(f)){const p=l[d];a(p)?l[d]=Wl(p,f):l[d]=Wl(f)}else l[d]=f}return l}function Q1(i,a){return Wl(P1,i,a||{})}function X1(i,a){return Wl(F1,i,a||{})}class J1{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:l,signal:u},d){try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!f)return{data:null,error:p};const m=u??H1.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:g}=f.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${l}`),g.displayName||(g.displayName=g.name)}switch(f.webauthn.type){case"create":{const g=Q1(f.webauthn.credential_options.publicKey,d?.create),{data:x,error:b}=await K1({publicKey:g,signal:m});return x?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}case"request":{const g=X1(f.webauthn.credential_options.publicKey,d?.request),{data:x,error:b}=await I1(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:g,signal:m}));return x?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}}}catch(f){return ue(f)?{data:null,error:f}:{data:null,error:new Qa("Unexpected error in challenge",f)}}}async _verify({challengeId:a,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!r)return{data:null,error:new fi("rpId is required for WebAuthn authentication")};try{if(!sg())return{data:null,error:new Qa("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:l},signal:u},{request:d});if(!f)return{data:null,error:p};const{webauthn:m}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:m.type,rpId:r,rpOrigins:l,credential_response:m.credential_response}})}catch(f){return ue(f)?{data:null,error:f}:{data:null,error:new Qa("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!r)return{data:null,error:new fi("rpId is required for WebAuthn registration")};try{if(!sg())return{data:null,error:new Qa("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(x=>{var b;return(b=x.data)===null||b===void 0?void 0:b.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===a&&_.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:p};const{data:m,error:g}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:u},{create:d});return m?this._verify({factorId:f.id,challengeId:m.challengeId,webauthn:{rpId:r,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(f){return ue(f)?{data:null,error:f}:{data:null,error:new Qa("Unexpected error in register",f)}}}}D1();const Z1={url:F_,storageKey:Q_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:X_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ig(i,a,r){return await r()}const Pr={};class mi{get jwks(){var a,r;return(r=(a=Pr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){Pr[this.storageKey]=Object.assign(Object.assign({},Pr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=Pr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Pr[this.storageKey]=Object.assign(Object.assign({},Pr[this.storageKey]),{cachedAt:a})}constructor(a){var r,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},Z1),a);if(this.storageKey=d.storageKey,this.instanceID=(r=mi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,mi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&yt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new R1({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Ey(d.fetch),this.lock=d.lock||ig,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:yt()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=C1:this.lock=ig,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new J1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:Ny()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rg(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=rg(this.memoryStorage)),yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${_y}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let r={},l="none";if(yt()&&(r=c1(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),yt()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:d}=await this._getSessionFromURL(r,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),n1(d)){const m=(a=d.details)===null||a===void 0?void 0:a.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ue(r)?this._returnResult({error:r}):this._returnResult({error:new Qa("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,l,u;try{const d=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=a?.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=a?.options)===null||u===void 0?void 0:u.captchaToken}},xform:hn}),{data:f,error:p}=d;if(p||!f)return this._returnResult({data:{user:null,session:null},error:p});const m=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(d){if(ue(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(a){var r,l,u;try{let d;if("email"in a){const{email:x,password:b,options:_}=a;let N=null,S=null;this.flowType==="pkce"&&([N,S]=await Gr(this.storage,this.storageKey)),d=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:x,password:b,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:N,code_challenge_method:S},xform:hn})}else if("phone"in a){const{phone:x,password:b,options:_}=a;d=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:b,data:(l=_?.data)!==null&&l!==void 0?l:{},channel:(u=_?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:hn})}else throw new Yl("You must provide either an email or phone number and a password");const{data:f,error:p}=d;if(p||!f)return this._returnResult({data:{user:null,session:null},error:p});const m=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(d){if(ue(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(a){try{let r;if("email"in a){const{email:d,password:f,options:p}=a;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:ng})}else if("phone"in a){const{phone:d,password:f,options:p}=a;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:ng})}else throw new Yl("You must provide either an email or phone number and a password");const{data:l,error:u}=r;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Yr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(a){var r,l,u,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=a.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,l,u,d,f,p,m,g,x,b,_;let N,S;if("message"in a)N=a.message,S=a.signature;else{const{chain:C,wallet:R,statement:M,options:O}=a;let k;if(yt())if(typeof R=="object")k=R;else{const re=window;if("ethereum"in re&&typeof re.ethereum=="object"&&"request"in re.ethereum&&typeof re.ethereum.request=="function")k=re.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=R}const X=new URL((r=O?.url)!==null&&r!==void 0?r:window.location.href),ie=await k.request({method:"eth_requestAccounts"}).then(re=>re).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ie||ie.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const le=Ay(ie[0]);let Q=(l=O?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!Q){const re=await k.request({method:"eth_chainId"});Q=M1(re)}const I={domain:X.host,address:le,statement:M,uri:X.href,version:"1",chainId:Q,nonce:(u=O?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(d=O?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=O?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=O?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=O?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(x=O?.signInWithEthereum)===null||x===void 0?void 0:x.resources};N=z1(I),S=await k.request({method:"personal_sign",params:[U1(N),le]})}try{const{data:C,error:R}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:S},!((b=a.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=a.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:hn});if(R)throw R;if(!C||!C.session||!C.user){const M=new Yr;return this._returnResult({data:{user:null,session:null},error:M})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:R})}catch(C){if(ue(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(a){var r,l,u,d,f,p,m,g,x,b,_,N;let S,C;if("message"in a)S=a.message,C=a.signature;else{const{chain:R,wallet:M,statement:O,options:k}=a;let X;if(yt())if(typeof M=="object")X=M;else{const le=window;if("solana"in le&&typeof le.solana=="object"&&("signIn"in le.solana&&typeof le.solana.signIn=="function"||"signMessage"in le.solana&&typeof le.solana.signMessage=="function"))X=le.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=M}const ie=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in X&&X.signIn){const le=await X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:ie.host,uri:ie.href}),O?{statement:O}:null));let Q;if(Array.isArray(le)&&le[0]&&typeof le[0]=="object")Q=le[0];else if(le&&typeof le=="object"&&"signedMessage"in le&&"signature"in le)Q=le;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)S=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),C=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${ie.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${ie.href}`,`Issued At: ${(u=(l=k?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=k?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((f=k?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((p=k?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((m=k?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((g=k?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((b=(x=k?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||b===void 0)&&b.length?["Resources",...k.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const le=await X.signMessage(new TextEncoder().encode(S),"utf8");if(!le||!(le instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=le}}try{const{data:R,error:M}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Ja(C)},!((_=a.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(N=a.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:hn});if(M)throw M;if(!R||!R.session||!R.user){const O=new Yr;return this._returnResult({data:{user:null,session:null},error:O})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:M})}catch(R){if(ue(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(a){const r=await Ga(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(r??"").split("/");try{const{data:d,error:f}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:hn});if(await va(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const p=new Yr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:f})}catch(d){if(ue(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(a){try{const{options:r,provider:l,token:u,access_token:d,nonce:f}=a,p=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:hn}),{data:m,error:g}=p;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const x=new Yr;return this._returnResult({data:{user:null,session:null},error:x})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(a){var r,l,u,d,f;try{if("email"in a){const{email:p,options:m}=a;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Gr(this.storage,this.storageKey));const{error:b}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(r=m?.data)!==null&&r!==void 0?r:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:x},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in a){const{phone:p,options:m}=a,{data:g,error:x}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=m?.data)!==null&&u!==void 0?u:{},create_user:(d=m?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(f=m?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:x})}throw new Yl("You must provide either an email or phone number.")}catch(p){if(ue(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(a){var r,l;try{let u,d;"options"in a&&(u=(r=a.options)===null||r===void 0?void 0:r.redirectTo,d=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:p}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:hn});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,g=f.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(ue(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(a){var r,l,u,d,f;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Gr(this.storage,this.storageKey));const g=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=a?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:T1});return!((d=g.data)===null||d===void 0)&&d.url&&yt()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(p){if(ue(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;if(l)throw l;if(!r)throw new $t;const{error:u}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(a){if(ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:l,type:u,options:d}=a,{error:f}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:l,type:u,options:d}=a,{data:f,error:p}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new Yl("You must provide either an email or phone number and a type")}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await Ga(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<zc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const f=await Ga(this.userStorage,this.storageKey+"-user");f?.user?a.user=f.user:a.user=qc()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=j1(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:u,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:xa}):await this._useSession(async r=>{var l,u,d;const{data:f,error:p}=r;if(p)throw p;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:xa})})}catch(r){if(ue(r))return t1(r)&&(await this._removeSession(),await va(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async l=>{const{data:u,error:d}=l;if(d)throw d;if(!u.session)throw new $t;const f=u.session;let p=null,m=null;this.flowType==="pkce"&&a.email!=null&&([p,m]=await Gr(this.storage,this.storageKey));const{data:g,error:x}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:p,code_challenge_method:m}),jwt:f.access_token,xform:xa});if(x)throw x;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(ue(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new $t;const r=Date.now()/1e3;let l=r,u=!0,d=null;const{payload:f}=Bc(a.access_token);if(f.exp&&(l=f.exp,u=l<=r),u){const{data:p,error:m}=await this._callRefreshToken(a.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};d=p}else{const{data:p,error:m}=await this._getUser(a.access_token);if(m)throw m;d={access_token:a.access_token,refresh_token:a.refresh_token,user:p.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(r){if(ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var l;if(!a){const{data:f,error:p}=r;if(p)throw p;a=(l=f.session)!==null&&l!==void 0?l:void 0}if(!a?.refresh_token)throw new $t;const{data:u,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(a,r){try{if(!yt())throw new Gl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Gl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Qp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Qp("No code detected.");const{data:O,error:k}=await this._exchangeCodeForSession(a.code);if(k)throw k;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:d,refresh_token:f,expires_in:p,expires_at:m,token_type:g}=a;if(!d||!p||!f||!g)throw new Gl("No session defined in URL");const x=Math.round(Date.now()/1e3),b=parseInt(p);let _=x+b;m&&(_=parseInt(m));const N=_-x;N*1e3<=Qr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${b}s`);const S=_-b;x-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,_,x):x-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,_,x);const{data:C,error:R}=await this._getUser(d);if(R)throw R;const M={provider_token:l,provider_refresh_token:u,access_token:d,expires_in:b,expires_at:_,refresh_token:f,token_type:g,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:a.type},error:null})}catch(l){if(ue(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await Ga(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:u,error:d}=r;if(d)return this._returnResult({error:d});const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:p}=await this.admin.signOut(f,a);if(p&&!(e1(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return a!=="others"&&(await this._removeSession(),await va(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const r=u1(),l={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async r=>{var l,u;try{const{data:{session:d},error:f}=r;if(f)throw f;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,r={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Gr(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(d){if(ue(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var a;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:l,error:u}=await this._useSession(async d=>{var f,p,m,g,x;const{data:b,error:_}=d;if(_)throw _;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=a.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=a.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",N,{headers:this.headers,jwt:(x=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:void 0})});if(u)throw u;return yt()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:a.provider,url:l?.url},error:null})}catch(l){if(ue(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var l;try{const{error:u,data:{session:d}}=r;if(u)throw u;const{options:f,provider:p,token:m,access_token:g,nonce:x}=a,b=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=d?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:p,id_token:m,access_token:g,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:hn}),{data:_,error:N}=b;return N?this._returnResult({data:{user:null,session:null},error:N}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Yr}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:N}))}catch(u){if(ue(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var l,u;const{data:d,error:f}=r;if(f)throw f;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await f1(async u=>(u>0&&await h1(200*Math.pow(2,u-1)),this._debug(r,"refreshing attempt",u),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:hn})),(u,d)=>{const f=200*Math.pow(2,u);return d&&Lc(d)&&Date.now()+f-l<Qr})}catch(l){if(this._debug(r,"error",l),ue(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",l),yt()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await Ga(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Ga(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await Xr(this.userStorage,this.storageKey+"-user",f)),u.user=(a=f?.user)!==null&&a!==void 0?a:qc()}else if(u&&!u.user&&!u.user){const f=await Ga(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await va(this.storage,this.storageKey+"-user"),await Xr(this.storage,this.storageKey,u)):u.user=qc()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const d=((r=u.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<zc;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${zc}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),Lc(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(u.access_token);!p&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var r,l;if(!a)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new so;const{data:d,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!d.session)throw new $t;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const p={data:d.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(d){if(this._debug(u,"error",d),ue(d)){const f={data:null,error:d};return Lc(d)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(a,r,l=!0){const u=`#_notifyAllSubscribers(${a})`;this._debug(u,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:r});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(a,r)}catch(m){d.push(m)}});if(await Promise.all(f),d.length>0){for(let p=0;p<d.length;p+=1)console.error(d[p]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;const r=Object.assign({},a),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await Xr(this.userStorage,this.storageKey+"-user",{user:r.user});const u=Object.assign({},r);delete u.user;const d=eg(u);await Xr(this.storage,this.storageKey,d)}else{const u=eg(r);await Xr(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await va(this.storage,this.storageKey),await va(this.storage,this.storageKey+"-code-verifier"),await va(this.storage,this.storageKey+"-user"),this.userStorage&&await va(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&yt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Qr);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-a)/Qr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Qr}ms, refresh threshold is ${Wc} ticks`),u<=Wc&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Ty)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,l){const u=[`provider=${encodeURIComponent(r)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,f]=await Gr(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(p.toString())}if(l?.queryParams){const d=new URLSearchParams(l.queryParams);u.push(d.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${u.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var l;const{data:u,error:d}=r;return d?this._returnResult({data:null,error:d}):await fe(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(a){try{return await this._useSession(async r=>{var l,u;const{data:d,error:f}=r;if(f)return this._returnResult({data:null,error:f});const p=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:m,error:g}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(a.factorType==="totp"&&m.type==="totp"&&(!((u=m?.totp)===null||u===void 0)&&u.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var l;const{data:u,error:d}=r;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Y1(a.webauthn.credential_response):G1(a.webauthn.credential_response)})}:{code:a.code}),{data:p,error:m}=await fe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var l;const{data:u,error:d}=r;if(d)return this._returnResult({data:null,error:d});const f=await fe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:p}=f;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:$1(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:V1(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(a){const{data:r,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(a=r?.factors)!==null&&a!==void 0?a:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var a,r;const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Bc(l.access_token);let f=null;d.aal&&(f=d.aal);let p=f;((r=(a=l.user.factors)===null||a===void 0?void 0:a.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(p="aal2");const g=d.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;return u?this._returnResult({data:null,error:u}):l?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new $t})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(a,r){try{return await this._useSession(async l=>{const{data:{session:u},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new $t});const f=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&yt()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ue(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,r){try{return await this._useSession(async l=>{const{data:{session:u},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new $t});const f=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&yt()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ue(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;return l?this._returnResult({data:null,error:l}):r?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new $t})})}catch(a){if(ue(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;return u?this._returnResult({data:null,error:u}):l?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $t})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(a,r={keys:[]}){let l=r.keys.find(p=>p.kid===a);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(p=>p.kid===a),l&&this.jwks_cached_at+Z_>u)return l;const{data:d,error:f}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,l=d.keys.find(p=>p.kid===a),!l)?null:l}async getClaims(a,r={}){try{let l=a;if(!l){const{data:N,error:S}=await this.getSession();if(S||!N.session)return this._returnResult({data:null,error:S});l=N.session.access_token}const{header:u,payload:d,signature:f,raw:{header:p,payload:m}}=Bc(l);r?.allowExpired||b1(d.exp);const g=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!g){const{error:N}=await this.getUser(l);if(N)throw N;return{data:{claims:d,header:u,signature:f},error:null}}const x=w1(u.alg),b=await crypto.subtle.importKey("jwk",g,x,!0,["verify"]);if(!await crypto.subtle.verify(x,b,f,l1(`${p}.${m}`)))throw new nd("Invalid JWT signature");return{data:{claims:d,header:u,signature:f},error:null}}catch(l){if(ue(l))return this._returnResult({data:null,error:l});throw l}}}mi.nextInstanceID={};const W1=mi;class ej extends W1{constructor(a){super(a)}}class tj{constructor(a,r,l){var u,d,f;this.supabaseUrl=a,this.supabaseKey=r;const p=P_(a);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,g={db:q_,realtime:$_,auth:Object.assign(Object.assign({},H_),{storageKey:m}),global:B_},x=I_(l??{},g);this.storageKey=(u=x.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(d=x.global.headers)!==null&&d!==void 0?d:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(b,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=x.auth)!==null&&f!==void 0?f:{},this.headers,x.global.fetch),this.fetch=G_(r,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new $w(new URL("rest/v1",p).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new U_(this.storageUrl.href,this.headers,this.fetch,l?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new Lw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,r={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,r,l)}channel(a,r={config:{}}){return this.realtime.channel(a,r)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a,r;if(this.accessToken)return await this.accessToken();const{data:l}=await this.auth.getSession();return(r=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:r,detectSessionInUrl:l,storage:u,userStorage:d,storageKey:f,flowType:p,lock:m,debug:g,throwOnError:x},b,_){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ej({url:this.authUrl.href,headers:Object.assign(Object.assign({},N),b),storageKey:f,autoRefreshToken:a,persistSession:r,detectSessionInUrl:l,storage:u,userStorage:d,flowType:p,lock:m,debug:g,throwOnError:x,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new r_(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,l)=>{this._handleTokenChanged(r,"CLIENT",l?.access_token)})}_handleTokenChanged(a,r,l){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nj=(i,a,r)=>new tj(i,a,r);function aj(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const a=i.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}aj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rj="https://jwyfpklsrwyvzcswfosw.supabase.co",sj="sb_publishable_RnFaG7I7tEo6eSibsVkcmA_wasE35oG",ce=nj(rj,sj),eo=async(i,a,r,l={})=>{try{const{error:u}=await ce.from("analytics_events").insert({event_type:i,target_type:a,target_id:r,metadata:l});u&&console.error("Error tracking event:",u)}catch(u){console.error("Error tracking event:",u)}},Ry=({id:i,className:a,image:r,text:l,link:u})=>{const d=j.useRef(null),f=j.useRef(!1);j.useEffect(()=>{if(!i)return;const m=new IntersectionObserver(g=>{g.forEach(x=>{x.isIntersecting&&!f.current&&(eo("ad_view","ad",i),f.current=!0)})},{threshold:.5});return d.current&&m.observe(d.current),()=>m.disconnect()},[i]);const p=()=>{i&&eo("ad_click","ad",i),u&&window.open(u,"_blank")};return o.jsx("div",{ref:d,onClick:p,className:Ce("flex flex-col items-center justify-center bg-surface border border-border rounded-xl p-4 text-center transition-all hover:border-primary/50 group cursor-pointer overflow-hidden relative",a),children:r?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full gap-2",children:[o.jsx("img",{src:r,alt:"Ad",className:"h-8 object-contain"}),l&&o.jsx("p",{className:"text-[10px] text-text-muted leading-tight max-w-[200px] whitespace-pre-wrap",children:l})]}):o.jsx("div",{className:"w-full h-full bg-surface-hover/50 rounded-lg flex items-center justify-center text-text-muted text-sm font-medium",children:"Ad Content"})})},xd=(i,a=!0)=>{const[r,l]=j.useState(0),[u,d]=j.useState(!1),f=j.useRef(0),p=j.useRef(0),m=typeof window<"u"&&"ontouchstart"in window,g=_=>{!a||!m||i.current&&i.current.scrollTop>0||(f.current=_.touches[0].clientY,p.current=f.current,d(!0))},x=_=>{if(!u)return;const S=_.touches[0].clientY-f.current;if(S>0){const C=S*.4;l(C)}else l(0),d(!1)},b=()=>{u&&(d(!1),l(0))};return j.useEffect(()=>{a||(l(0),d(!1))},[a]),{handlers:{onTouchStart:g,onTouchMove:x,onTouchEnd:b},style:{transform:`translateY(${r}px)`,transition:u?"none":"transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1)"},isDragging:u,offsetY:r}},bd=(i,a=100,r=!0)=>{const[l,u]=j.useState(0),[d,f]=j.useState(!1),p=j.useRef(0),m=typeof window<"u"&&"ontouchstart"in window,g=_=>{!r||!m||(p.current=_.touches[0].clientY,f(!0))},x=_=>{if(!d)return;const S=_.touches[0].clientY-p.current;S>0?u(S):u(S*.3)},b=()=>{d&&(f(!1),l>a?i():u(0))};return j.useEffect(()=>{r||(u(0),f(!1))},[r]),{handlers:{onTouchStart:g,onTouchMove:x,onTouchEnd:b},style:{transform:`translateY(${l}px)`,transition:d?"none":"transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1)"},isDragging:d,offsetY:l}},ij={en:{appTitle:"FundsRank",addFund:"Add Fund",tagline:"The database of verified mutual fund returns in Egypt.",dummyData:"(Dummy Data)",leaderboard:"Leaderboard",searchPlaceholder:"Search funds...",filters:"Filters",allTime:"All Time",ytd:"YTD",lastYear:"Last Year",last30Days:"Last 30 Days",allCategories:"All Categories",equity:"Equity",fixedIncome:"Fixed Income",balanced:"Balanced",islamic:"Islamic",growth:"Growth",moneyMarket:"Money Market",tech:"Tech",mixed:"Mixed",allRiskLevels:"All Risk Levels",lowRisk:"Low Risk",mediumRisk:"Medium Risk",highRisk:"High Risk",rank:"#",fund:"Fund",manager:"Manager",returns:"Returns",showMore:"Show More",remaining:"remaining",advertiseHere:"Advertise Here",footerDisclaimer1:"This website is a prototype/demonstration project and is not a live, production service. All data displayed is dummy data.",footerDisclaimer2:"All logos and trademarks are property of their respective owners.",footerDisclaimer3:"This is not financial advice.",copyright:" 2025 FundsRank Egypt. All rights reserved.",featuredFunds:"Featured Funds",swipe:"Swipe",promoted:"Promoted",new:"New",return:"Return",type:"Type",risk:"Risk",annual:"Annual",fundDetails:"Fund Details",fundComparison:"Fund Comparison",selectFundToCompare:"Select Fund to Compare",cancel:"Cancel",noFundsFound:"No funds found matching",annualReturn:"Annual Return",ytdReturn:"YTD Return",fees:"Fees",minInvestment:"Min Investment",strategy:"Strategy",compareWithAnother:"Compare with another fund",timeMachine:"Time Machine",comparison:"Comparison",closeTimeMachine:"Close Time Machine",launchTimeMachine:"Launch Time Machine",submitFundTitle:"Submit a Fund",submitNote:"Note: It takes at most 24h to verify the fund and accept it into our rankings.",fundName:"Fund Name",description:"Description",category:"Category",riskLevel:"Risk Level",submitFundBtn:"Submit Fund",submissionSuccess:"Fund submitted successfully! We will review it shortly.",phName:"e.g. CIB Growth Fund",phDesc:"Brief description...",phStrategy:"e.g. Long-term capital appreciation",phMinInv:"e.g. 10,000 EGP",phFees:"e.g. 1.5%",phReturn:"e.g. 15.5",projectedValue:"Projected Value",egp:"EGP",invested:"Invested",monthlyInvestment:"Monthly Investment",duration:"Duration",years:"Years",timeMachineDisclaimer:"Based on historical annual return of {return}%. Past performance does not guarantee future results.",advertiseTitle:"Advertise on FundsRank",advertiseDesc:"Reach thousands of investors and fund managers daily. Your brand appears in rotating sponsor slots across all FundsRank pages.",availableSlots:"Available Slots This Month",slotsLeft:"4 Left",pricing:"Pricing",pricingDesc1:"Pay a ",pricingDesc2:"{price} {currency} monthly fee",pricingDesc3:" to display your ad. This ensures high visibility for your brand.",price:"{price} {currency}",perMonth:"/month",companyName:"Company Name",emailAddress:"Email Address",phoneNumber:"Phone Number",sendInquiry:"Send Inquiry",phCompany:"e.g. FinTech Co.",phEmail:"you@company.com",inquirySent:"Thanks for your interest! We'll be in touch shortly."},ar:{appTitle:"FundsRank",addFund:" ",tagline:"       .",dummyData:"( )",leaderboard:" ",searchPlaceholder:"  ...",filters:"",allTime:" ",ytd:"  ",lastYear:" ",last30Days:" 30 ",allCategories:" ",equity:"",fixedIncome:" ",balanced:"",islamic:"",growth:"",moneyMarket:" ",tech:"",mixed:"",allRiskLevels:"  ",lowRisk:" ",mediumRisk:" ",highRisk:" ",rank:"#",fund:"",manager:"",returns:"",showMore:" ",remaining:"",advertiseHere:" ",footerDisclaimer1:"       .      .",footerDisclaimer2:"      .",footerDisclaimer3:"   .",copyright:" 2025 FundsRank Egypt.   .",featuredFunds:" ",swipe:"",promoted:"",new:"",return:"",type:"",risk:"",annual:"",fundDetails:" ",fundComparison:" ",selectFundToCompare:"  ",cancel:"",noFundsFound:"   ",annualReturn:" ",ytdReturn:"   ",fees:"",minInvestment:"  ",strategy:"",compareWithAnother:"   ",timeMachine:" ",comparison:"",closeTimeMachine:"  ",launchTimeMachine:"  ",submitFundTitle:" ",submitNote:":        24   .",fundName:" ",description:"",category:"",riskLevel:" ",submitFundBtn:" ",submissionSuccess:"   !   .",phName:":   CIB",phDesc:" ...",phStrategy:":      ",phMinInv:": 10,000 ",phFees:": 1.5%",phReturn:": 15.5",projectedValue:" ",egp:".",invested:"",monthlyInvestment:" ",duration:"",years:"",timeMachineDisclaimer:"      {return}.      .",advertiseTitle:"  FundsRank",advertiseDesc:"      .           FundsRank.",availableSlots:"   ",slotsLeft:"4 ",pricing:"",pricingDesc1:" ",pricingDesc2:"   {price} {currency}",pricingDesc3:"  .      .",price:"{price} {currency}",perMonth:"/",companyName:" ",emailAddress:" ",phoneNumber:" ",sendInquiry:" ",phCompany:":   ",phEmail:"you@company.com",inquirySent:" !   ."}},ky=j.createContext(),lj=({children:i})=>{const[a,r]=j.useState("en"),[l,u]=j.useState(!1);j.useEffect(()=>{document.documentElement.dir=a==="ar"?"rtl":"ltr",document.documentElement.lang=a},[a]);const d=(p,m={})=>{const g=p.split(".");let x=ij[a];for(const b of g)if(x&&x[b])x=x[b];else return p;return typeof x=="string"&&Object.keys(m).length>0&&Object.keys(m).forEach(b=>{x=x.replace(`{${b}}`,m[b])}),x},f=()=>{u(!0),setTimeout(()=>{r(p=>p==="en"?"ar":"en"),setTimeout(()=>{u(!1)},50)},300)};return o.jsx(ky.Provider,{value:{language:a,t:d,toggleLanguage:f,isTransitioning:l},children:i})},_n=()=>{const i=j.useContext(ky);if(!i)throw new Error("useLanguage must be used within a LanguageProvider");return i},oj=({message:i,type:a="success",onClose:r})=>(j.useEffect(()=>{const l=setTimeout(()=>{r()},4e3);return()=>clearTimeout(l)},[r,i,a]),o.jsx("div",{className:"fixed top-6 left-1/2 -translate-x-1/2 z-[200] animate-toastIn",children:o.jsxs("div",{className:Ce("flex items-center gap-3 px-6 py-3 rounded-full shadow-2xl backdrop-blur-md border",a==="success"?"bg-[#0a2f15E6] border-green-500/30 text-green-400":"bg-[#2f0a0aE6] border-red-500/30 text-red-400"),children:[a==="success"?o.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500/20 flex items-center justify-center shrink-0",children:o.jsx(Yn,{className:"w-3 h-3"})}):o.jsx("div",{className:"w-5 h-5 rounded-full bg-red-500/20 flex items-center justify-center shrink-0",children:o.jsx(kg,{className:"w-3 h-3"})}),o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:i}),o.jsx("button",{onClick:r,className:"ml-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:o.jsx(an,{className:"w-3 h-3 opacity-50 hover:opacity-100"})})]})})),Cy=j.createContext(),uj=({children:i})=>{const[a,r]=j.useState(null),l=j.useCallback((d,f="success")=>{r({message:d,type:f})},[]),u=j.useCallback(()=>{r(null)},[]);return o.jsxs(Cy.Provider,{value:{showToast:l},children:[i,a&&o.jsx(oj,{message:a.message,type:a.type,onClose:u})]})},wd=()=>{const i=j.useContext(Cy);if(!i)throw new Error("useToast must be used within a ToastProvider");return i};function Dy(){const[i,a]=j.useState({}),[r,l]=j.useState(!0),[u,d]=j.useState(null),f=async()=>{try{const{data:m,error:g}=await ce.from("settings").select("*");if(g)throw g;const x={};m.forEach(b=>{x[b.key]=b.value}),a(x)}catch(m){console.error("Error fetching settings:",m),d(m)}finally{l(!1)}};return j.useEffect(()=>{f();const m=ce.channel("public:settings").on("postgres_changes",{event:"*",schema:"public",table:"settings"},()=>{f()}).subscribe();return()=>{ce.removeChannel(m)}},[]),{settings:i,loading:r,error:u,updateSetting:async(m,g)=>{try{const{error:x}=await ce.from("settings").upsert({key:m,value:g,updated_at:new Date().toISOString()},{onConflict:"key"});if(x)throw x;return a(b=>({...b,[m]:g})),{error:null}}catch(x){return console.error("Error updating setting:",x),{error:x}}}}}const cj=({isOpen:i,onClose:a})=>{const[r,l]=j.useState(!1),[u,d]=j.useState(!1),[f,p]=j.useState(!1),m=j.useRef(null),{handlers:g,style:x}=xd(m,i),{handlers:b,style:_,isDragging:N}=bd(a,100,i),{t:S}=_n(),{showToast:C}=wd(),{settings:R}=Dy(),M=j.useRef(null),O=R?.ad_price||{amount:1e4,currency:"EGP"},k=new Intl.NumberFormat("en-US").format(O.amount),[X,ie]=j.useState(0),le=4;j.useEffect(()=>{i&&(async()=>{const{count:_e}=await ce.from("ads").select("*",{count:"exact",head:!0}).eq("status","active");ie(_e||0)})()},[i]);const[Q,I]=j.useState({companyName:"",email:"",phone:"",message:"",logo:null,logoPreview:null});j.useEffect(()=>{if(i)l(!0),d(!1);else{d(!0);const pe=setTimeout(()=>{l(!1),d(!1),I({companyName:"",email:"",phone:"",message:"",logo:null,logoPreview:null})},200);return()=>clearTimeout(pe)}},[i]),j.useEffect(()=>{if(r){const pe=window.scrollY,_e=document.body;return _e.style.position="fixed",_e.style.top=`-${pe}px`,_e.style.width="100%",_e.style.overflow="hidden",()=>{_e.style.position="",_e.style.top="",_e.style.width="",_e.style.overflow="",_e.style.paddingRight="",window.scrollTo(0,pe)}}},[r]);const re=pe=>{const _e=pe.target.files[0];if(_e){if(_e.size>2*1024*1024){C("File size must be less than 2MB","error");return}const ee=URL.createObjectURL(_e);I(Re=>({...Re,logo:_e,logoPreview:ee}))}},Ne=async pe=>{pe.preventDefault(),p(!0);try{let _e=null;if(Q.logo){const Re=Q.logo.name.split(".").pop(),Y=`${`${Math.random().toString(36).substring(2)}_${Date.now()}.${Re}`}`,{error:te}=await ce.storage.from("logos").upload(Y,Q.logo);if(te)throw te;const{data:{publicUrl:ye}}=ce.storage.from("logos").getPublicUrl(Y);_e=ye}const{error:ee}=await ce.from("ads").insert([{company_name:Q.companyName,email:Q.email,phone:Q.phone,text_en:Q.message,image_url:_e,status:"pending"}]);if(ee)throw ee;C(S("inquirySent")||"Inquiry sent! We will contact you shortly.","success"),a()}catch(_e){console.error("Error submitting ad:",_e),C("Error sending inquiry. Please try again.","error")}finally{p(!1)}};if(!r&&!i)return null;const we=()=>{a()};return o.jsx("div",{className:Ce("fixed inset-0 z-[100] flex items-end md:items-center justify-center p-0 md:p-4 bg-black/80 backdrop-blur-sm",u?"animate-fadeOut":"animate-fadeIn"),onClick:we,children:o.jsxs("div",{...g,style:{...x,transform:N?_.transform:x.transform,transition:N?_.transition:x.transition},className:Ce("bg-surface md:border border-border rounded-t-2xl md:rounded-2xl w-full max-w-4xl overflow-hidden shadow-2xl max-h-[90vh] flex flex-col",u?"animate-drawerClose md:animate-sleekClose":"animate-drawerOpen md:animate-sleekOpen"),onClick:pe=>pe.stopPropagation(),children:[o.jsxs("div",{...b,className:"flex items-center justify-between px-4 py-3 md:px-6 md:py-4 border-b border-[#333] bg-[#1a1a1a] touch-none cursor-grab active:cursor-grabbing",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"text-base md:text-lg font-bold text-white font-display",children:S("advertiseTitle")}),o.jsx("div",{className:Ce("px-2 py-0.5 rounded-full text-[10px] font-bold border",le-X>0?"bg-green-500/10 text-green-400 border-green-500/20":"bg-red-500/10 text-red-400 border-red-500/20"),children:le-X>0?`${le-X} Slots Left`:"Sold Out"})]}),o.jsx("button",{onClick:a,className:"p-1.5 md:p-2 hover:bg-[#333] rounded-full transition-colors text-text-muted hover:text-white",children:o.jsx(an,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),o.jsx("div",{ref:m,className:"overflow-y-auto p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsx("div",{className:"space-y-6",children:o.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-text-muted mb-1.5",children:[S("companyName")," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,className:"w-full bg-[#0a0a0a] border border-[#333] rounded-lg px-4 py-2.5 text-white text-sm focus:border-primary outline-none transition-colors placeholder:text-[#404040] rtl:text-right",placeholder:S("phCompany"),value:Q.companyName,onChange:pe=>I({...Q,companyName:pe.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-text-muted mb-1.5",children:[S("emailAddress")," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"email",required:!0,className:"w-full bg-[#0a0a0a] border border-[#333] rounded-lg px-4 py-2.5 text-white text-sm focus:border-primary outline-none transition-colors placeholder:text-[#404040] rtl:text-right",placeholder:S("phEmail"),value:Q.email,onChange:pe=>I({...Q,email:pe.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-text-muted mb-1.5",children:S("phoneNumber")}),o.jsx("input",{type:"tel",className:"w-full bg-[#0a0a0a] border border-[#333] rounded-lg px-4 py-2.5 text-white text-sm focus:border-primary outline-none transition-colors placeholder:text-[#404040] rtl:text-right",placeholder:"+20...",value:Q.phone,onChange:pe=>I({...Q,phone:pe.target.value})})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-text-muted mb-1.5",children:["Ad Text ",o.jsx("span",{className:"text-text-muted/50",children:"(Short sentence)"})]}),o.jsx("textarea",{rows:"3",className:"w-full bg-[#0a0a0a] border border-[#333] rounded-lg px-4 py-2.5 text-white text-sm focus:border-primary outline-none transition-colors placeholder:text-[#404040] rtl:text-right resize-none",placeholder:"e.g. The best investment platform in Egypt...",value:Q.message,onChange:pe=>I({...Q,message:pe.target.value}),maxLength:100}),o.jsxs("div",{className:"text-[10px] text-text-muted text-right mt-1",children:[Q.message.length,"/100"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-text-muted mb-1.5",children:"Company Logo"}),o.jsxs("div",{onClick:()=>M.current?.click(),className:"w-full h-24 border-2 border-dashed border-[#333] hover:border-primary/50 rounded-lg flex flex-col items-center justify-center cursor-pointer transition-colors bg-[#0a0a0a]",children:[o.jsx("input",{type:"file",ref:M,className:"hidden",accept:"image/*",onChange:re}),Q.logoPreview?o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:Q.logoPreview,alt:"Preview",className:"h-16 w-16 object-contain"}),o.jsx("span",{className:"text-xs text-primary",children:"Change Logo"})]}):o.jsxs(o.Fragment,{children:[o.jsx(Tw,{className:"w-6 h-6 text-text-muted mb-2"}),o.jsx("span",{className:"text-xs text-text-muted",children:"Click to upload logo"})]})]})]}),o.jsxs("button",{type:"submit",disabled:f,className:"w-full bg-white hover:bg-gray-200 text-black font-bold py-3 rounded-lg flex items-center justify-center gap-2 transition-colors mt-2 disabled:opacity-50",children:[f?o.jsx(Vt,{className:"w-4 h-4 animate-spin"}):o.jsx(pw,{className:"w-4 h-4"}),S("sendInquiry")]})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4",children:[o.jsx("h4",{className:"text-sm font-bold text-white mb-1",children:S("pricing")}),o.jsxs("p",{className:"text-xs text-text-muted",children:[S("pricingDesc1"),o.jsx("span",{className:"text-primary font-bold",children:S("pricingDesc2",{price:k,currency:O.currency})}),S("pricingDesc3")]})]}),o.jsxs("div",{className:"sticky top-6",children:[o.jsxs("h4",{className:"text-sm font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(Wr,{className:"w-4 h-4 text-primary"}),"Live Preview"]}),o.jsxs("div",{className:"flex-1 bg-[#111] border border-[#222] rounded-xl p-4 flex flex-col items-center justify-center relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.02] bg-[length:16px_16px]"}),o.jsxs("div",{className:"w-full max-w-[280px] space-y-4 relative z-10",children:[o.jsx("div",{className:"text-xs text-text-muted text-center mb-2",children:"This is how your ad will appear on the sidebar"}),o.jsx("div",{className:"bg-background border border-border rounded-xl p-4 shadow-2xl",children:o.jsx(Ry,{image:Q.logoPreview,text:Q.message||"Your ad text will appear here...",className:"w-full aspect-square"})})]})]})]})]})]})})]})})},dj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAAAhCAYAAADTYiVBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAarSURBVHgB7VpdetM4FL1KeJgncFaAKd88T2cFuCsoXQFhBZSygIYFQMsK4q6AzgpiVtD0eQZiVtAUHniAWHOOJVPjyI7dxm6Bnu9T40pXP9bRvbq6ssgtGkNr7SNN9CUgt7geYO7H+pKQNaAnt7gMfLlG3JKWAxTBk58Ad/gHg32Gn11pbwX5SqmP6GeE531pF3OkY6SX6DOWZthEiqQ53iGF0hHuYCI5iSP5dUBtGTJxkYC4l9I+ZugnlI5ATRtWlPOFI7kiqGX2MRSjzU8qxCOkN2Imf1/KtT+2clMr45Idgbhz9H8ovxIqHJ2xtAS0/bakz1lBLqgYX+BoN3TIndXdq1xtlshNXHPFfuyYhzY9Rtqs0V6xXlA15jsVbb2rKJOzXd/r9XpDrOJHkojpoIf9RMs/i2QRDQ7juKL6KdLjkvw8YinHzJHHfXlbRPIvnJnLNrWN57YD28/SZKMsFrPHhoX8QIyFCFyNchGKY2++lPf4eW9jv9/rz5SoA5w8AlESaCWb6bPImGWUkeY4kysAL0cn5MhR9Je0i0DMginTDh9pbDWUzySE8zOREsIshkgzK/sdjUijdn1+sXGiRY1A1HSRqK17r98PMIRYaZnymXla6SllziHLOtItYrm5CJAm1vQNGtQb5YlrRBo0CKtFbeJYHy8Wi6eDw/+iogzzkkWyhU6mCrKsI93CtUjOpXvMS/J9pLdiPPZY6oPEUZvrk/Zp7+FQuA8piRQ6BhkT5I0/vfCxNylP97THZ5jFg9R0KpALjWMdW7cruExhJN2A77ulDKhJD8R44EUEYs6Eb+z/Ua6e4rO4zfw+tbSBpul9atjdV++3aAJBXiy0ubrPVeNRq/gMs7ibmU5qHMrmSqWH99Zh94uigxNjHo6lfWSERVkGHQikER6fOuRp7kKk55Ap1ouQhnJBaobUqapF2tnun1gVyse0pI3QBBryFg8Wiewga06t4jPyBiyjDDzIuUYdmlTsbStd36vAEjZxFO1IN9ixjtASrNdY1JzAlqVerTY3B3T3DzJ3H2U0h3Gh3naVy/8d/V6STji8xfmXXd//sXQx/Sq9dLB/4Bk/3pec8/FVjLsKk8k2prJm8EXx80iMhuX3M46JE7n2PgEGC+Lc/9MaIbNQloMKvlzMCeeH73FayKeiHOTqbNYiDdrigzA+jr/2+k4ZeI+CsllVG9IOOBGBI5+k+dICrOlqitiR5+XaPLYa5hVki9rr1SINh+c5XRY0+gbcLZkAEPpMp43rI0fZffwMlTQO3tYFVz3HVPQafTFno/sdxR+vBHvQ9iX1AdS8SrYWaYn0pn3oCk3N3dfvw2L5p72NJyTz3qsPo+Wyh0P8DOGYxNICslVv3WFu7kXyfpb4Y7bwGNLyqoirp2nyDfa1zxAVTVGYC2FtI4+22KN5BEGwgnBflRx9J1fJE0RKYteZbp0gKXhZvqjrXEhXOVy1gq8TVAiMkV7uSk+7lveYeYEMV53vbYxyISwSxo7m2tjhY3iRPn7HIHDGc5ykoS11JB3AemmRo4gruFXv9aqw3i8Ji1ctrtrntCRJDjXDVaL20/1LyQ7DVtAonEH0HJoW4xl5H3igfEqVE95pYRBJ8i2U7nBakh/IzcdzpFPuw1VCtUmjtiVJf8cQl9pd3yVH06kEmz+jJCA3SRZbKyL+60Zckl85ETcAvhhNu7dKsFHscXD47xQat6WpWTCPqQl88fBtGsZS4tMc0nQyWAwzCQ1b/N0xYYRfkv9RbjZoEhkjHciKWGlNR+QCloQHqVcIJwNWkIdanuLMvRVik8g7gicZyvVguyQ/kjUh555niPNhKBd4+NbLX9D5+TbEHK6L+/9SALyKtMorFesdMtEk+vxtoFVlpsqX+mPgivxBe+z1he+QXTmpDcGFmvfy5lLvqqV4nsw7R76Yi+eo4IgUA+BTsdfxLszK9q2rwF6ll/Wps+sHewV/UiF3krtQ9GzMrgzDumOrKTcsG3dFHY6x+DnEWdUcaxOPLGLs+t6hDdy3gwh19xhJTej6pJGA4sLj/8MS2THSrnZ/8zLTDuK0IWzmkA+qCteJ6yBtomuS0JQ0Kzsq6ZcfLZGgLGKfkTuz9SYl9ca5emPttka8BjNR4KYDbopsP9HmyyRP2kd8iQ9VU61oEjWB/Ik0O7TzHMZgBOs1nYdYzH1dLLe4PHRzK3Vm62zq6n3dVe9GR3R+KmizZx3WmPgZ0uNcvbqET7Ru7Vrr94YlgeSd6Nw+pi/2OK+kHp2TUP/oKbPeWJdsWf8DA7Dnqqrd4OEAAAAASUVORK5CYII=",hj=({children:i,onOpenSubmitModal:a})=>{const[r,l]=j.useState(!1),[u,d]=j.useState(!1),[f,p]=j.useState([]),{t:m,language:g,toggleLanguage:x,isTransitioning:b}=_n(),_="Delivering value to our clients, our community and our shareholders";j.useEffect(()=>{(async()=>{const{data:O}=await ce.from("ads").select("*").eq("status","active").order("created_at",{ascending:!1});O&&p(O)})()},[]);const N=[{id:"cib",company_name:"CIB",text_en:_,image_url:dj,link:"https://cibeg.com"},...f];j.useEffect(()=>{const M=setTimeout(()=>{d(!0)},3e3);return()=>clearTimeout(M)},[]),j.useEffect(()=>{const M=O=>{O.key==="Escape"&&l(!1)};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[]);const[S,C]=j.useState({}),R=M=>(g==="ar"&&M.text_ar?M.text_ar:M.text_en)||M.company_name;return o.jsxs("div",{className:"min-h-screen bg-background text-text font-sans selection:bg-primary/30 relative",children:[o.jsx(cj,{isOpen:r,onClose:()=>l(!1)}),o.jsx("div",{className:"lg:hidden w-full bg-surface border-b border-border h-14 flex items-center overflow-hidden relative",children:o.jsxs("div",{className:Ce("flex items-center gap-3 whitespace-nowrap absolute left-0 w-max hover:pause pl-4",u?"animate-marquee-left":""),children:[N.map((M,O)=>o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 h-10 bg-background border border-border rounded-lg text-xs text-gray-300 font-medium shrink-0",children:[M.image_url&&!S[`1-${M.id||O}`]?o.jsx("img",{src:M.image_url,alt:M.company_name,className:"h-6 w-auto object-contain",onError:()=>C(k=>({...k,[`1-${M.id||O}`]:!0}))}):o.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center text-[10px] text-primary font-bold uppercase",children:M.company_name?.[0]||"?"}),o.jsx("span",{className:"max-w-[200px] truncate",children:R(M)})]},`mobile-ad-1-${M.id||O}`)),N.length<5&&[...Array(5-N.length)].map((M,O)=>o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 h-10 bg-background border border-border rounded-lg text-xs text-text-muted font-medium shrink-0 opacity-50",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/50"}),"Advertise Here"]},`mobile-placeholder-1-${O}`)),N.map((M,O)=>o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 h-10 bg-background border border-border rounded-lg text-xs text-gray-300 font-medium shrink-0",children:[M.image_url&&!S[`2-${M.id||O}`]?o.jsx("img",{src:M.image_url,alt:M.company_name,className:"h-6 w-auto object-contain",onError:()=>C(k=>({...k,[`2-${M.id||O}`]:!0}))}):o.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center text-[10px] text-primary font-bold uppercase",children:M.company_name?.[0]||"?"}),o.jsx("span",{className:"max-w-[200px] truncate",children:R(M)})]},`mobile-ad-2-${M.id||O}`)),N.length<5&&[...Array(5-N.length)].map((M,O)=>o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 h-10 bg-background border border-border rounded-lg text-xs text-text-muted font-medium shrink-0 opacity-50",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/50"}),"Advertise Here"]},`mobile-placeholder-2-${O}`))]})}),o.jsx("div",{className:Ce("max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-4 transition-opacity duration-300",b?"opacity-0":"opacity-100"),children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[o.jsxs("div",{className:"lg:col-span-10 flex flex-col",children:[o.jsxs("div",{className:"flex flex-col items-start pt-1 pb-12 md:pt-4 md:pb-8",children:[o.jsxs("div",{className:"flex flex-row items-center justify-between w-full mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-gradient-to-br from-primary to-secondary rounded-xl flex items-center justify-center text-white font-bold text-lg md:text-xl shadow-lg shadow-primary/20",children:"F"}),o.jsx("h1",{className:"text-xl md:text-4xl font-bold font-display text-white tracking-tight",children:m("appTitle")})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:x,className:"lg:hidden flex items-center gap-1.5 px-3 py-1.5 bg-[#1a1a1a] border border-[#333] text-white rounded-lg text-xs font-medium hover:bg-[#222] transition-colors",children:[o.jsx(Cp,{className:"w-3 h-3"}),o.jsx("span",{children:g==="en"?"AR":"EN"})]}),o.jsxs("button",{onClick:a,className:"flex items-center gap-1.5 px-3 py-1.5 md:px-6 md:py-2.5 bg-white text-black rounded-lg text-xs md:text-sm font-semibold hover:bg-gray-200 transition-colors shadow-sm whitespace-nowrap shrink-0",children:[o.jsx(hw,{className:"w-3 h-3 md:w-4 md:h-4"}),o.jsx("span",{children:m("addFund")})]})]})]}),o.jsxs("p",{className:"text-text-muted text-sm md:text-xl max-w-xl font-light text-left md:whitespace-nowrap",children:[m("tagline")," ",o.jsx("span",{style:{color:"red"},children:m("dummyData")})]})]}),o.jsx("main",{children:i}),o.jsx("footer",{className:"border-t border-border mt-8 py-6 text-text-muted text-sm",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex flex-col md:flex-row items-start justify-between gap-8",children:[o.jsxs("div",{className:"flex flex-col items-start gap-4 w-full md:flex-1 text-left rtl:text-right order-2 md:order-1",children:[o.jsx("p",{className:"font-medium text-white/80",children:m("copyright")}),o.jsxs("div",{className:"text-xs leading-relaxed opacity-50 space-y-2",children:[o.jsx("p",{children:m("footerDisclaimer1")}),o.jsx("p",{children:m("footerDisclaimer2")}),o.jsx("p",{children:m("footerDisclaimer3")})]}),o.jsx("div",{className:"text-[10px] font-mono opacity-30 pt-2",children:"v 3.1.0"})]}),o.jsxs("div",{className:"flex flex-col items-center md:items-end gap-4 w-full md:w-auto order-1 md:order-2",children:[o.jsxs("button",{onClick:x,className:"hidden lg:flex items-center gap-2 px-4 py-2 bg-[#1a1a1a] border border-[#333] rounded-full hover:bg-[#222] transition-colors group",children:[o.jsx(Cp,{className:"w-4 h-4 text-text-muted group-hover:text-primary transition-colors"}),o.jsx("span",{className:"text-xs font-medium text-text-muted group-hover:text-white transition-colors",children:g==="en"?"":"English"})]}),o.jsxs("button",{onClick:()=>l(!0),className:"lg:hidden w-full flex items-center justify-center gap-2 px-6 py-2.5 bg-white text-black rounded-lg text-sm font-semibold hover:bg-gray-200 transition-colors shadow-sm",children:[o.jsx(Wr,{className:"w-4 h-4"}),o.jsx("span",{children:m("advertiseHere")})]})]})]})})]}),o.jsxs("div",{className:"hidden lg:flex lg:col-span-2 sticky top-4 h-[calc(100vh-2rem)] flex-col pb-0",children:[o.jsx("div",{className:"flex-1 flex flex-col gap-3 min-h-0",children:[...Array(5)].map((M,O)=>{const k=N[O];return o.jsx(Ry,{className:"flex-1 min-h-0",image:k?.image_url,text:g==="ar"&&k?.text_ar?k.text_ar:k?.text_en,link:k?.link,id:k?.id},k?.id||`placeholder-${O}`)})}),o.jsxs("button",{onClick:()=>l(!0),className:"w-full py-2 mt-2 text-xs text-text-muted hover:text-white transition-colors flex items-center justify-center gap-2 shrink-0 opacity-70 hover:opacity-100",children:[o.jsx(Wr,{className:"w-3 h-3"}),m("advertiseHere")]})]})]})})]})},fj=({rank:i,fund:a,onClick:r})=>{const{t:l}=_n(),u=()=>{eo("fund_click","fund",a.id,{fund_name:a.name}),r()},d=m=>({Equity:"equity","Fixed Income":"fixedIncome",Balanced:"balanced",Islamic:"islamic",Growth:"growth","Money Market":"moneyMarket",Tech:"tech",Mixed:"mixed"})[m]||m,f=m=>({Low:"lowRisk",Medium:"mediumRisk",High:"highRisk"})[m]||m,p=m=>m===1?"":m===2?"":m===3?"":null;return o.jsxs("div",{onClick:u,className:`group relative hover:z-50 cursor-pointer transition-all duration-200
        /* Mobile: Card Style */
        flex flex-col p-3 md:p-4 border-b border-[#222] bg-[#111] hover:bg-[#161616]
        /* Desktop: Table Row Style */
        md:grid md:grid-cols-12 md:items-center md:px-6 md:py-3 md:border-b-0 md:bg-transparent`,children:[o.jsxs("div",{className:"flex items-center gap-2 md:contents",children:[o.jsx("div",{className:"md:col-span-1 flex items-center justify-center shrink-0",children:o.jsx("div",{className:"relative w-6 h-6 flex items-center justify-center",children:i<=3?o.jsx("span",{className:"text-lg filter drop-shadow-lg",children:p(i)}):o.jsx("span",{className:"text-text-muted font-mono font-medium text-sm bg-[#222] md:bg-transparent rounded px-1.5 py-0.5 md:p-0",children:i})})}),o.jsxs("div",{className:"flex-1 flex items-center gap-2 md:gap-3 md:col-span-5 md:pl-2 min-w-0",children:[a.logo?o.jsx("img",{src:a.logo,alt:a.name,className:"w-9 h-9 md:w-8 md:h-8 rounded-lg object-contain bg-white p-0.5 border border-[#333] shadow-sm group-hover:border-[#444] transition-colors",onError:m=>{m.target.style.display="none",m.target.nextSibling.style.display="flex"}}):null,o.jsx("div",{className:"w-9 h-9 md:w-8 md:h-8 rounded-lg bg-gradient-to-br from-gray-800 to-gray-900 border border-[#333] flex items-center justify-center shadow-sm group-hover:border-[#444] transition-colors",style:{display:a.logo?"none":"flex"},children:o.jsx("span",{className:"text-xs font-bold text-white/80",children:a.name.substring(0,2).toUpperCase()})}),o.jsxs("div",{className:"flex flex-col justify-center min-w-0 w-full",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h3",{className:"text-white font-bold text-sm leading-tight group-hover:text-primary transition-colors truncate",children:a.name})}),o.jsx("p",{className:"text-text-muted text-xs md:hidden truncate",children:a.manager}),o.jsxs("p",{className:"hidden md:flex text-text-muted text-[10px] font-medium truncate max-w-[200px] items-center gap-1.5",children:[o.jsx("span",{children:l(d(a.category))}),o.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-text-muted/50"}),o.jsx("span",{className:Ce(a.risk==="High"?"text-red-400":a.risk==="Medium"?"text-yellow-400":"text-green-400"),children:l(f(a.risk))})]})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-1 md:hidden shrink-0",children:[o.jsxs("span",{className:"text-white font-bold font-mono text-sm tracking-tight",children:[a.annualReturn,"%"]}),o.jsxs("span",{className:Ce("font-mono font-medium text-[10px]",a.ytdReturn>=0?"text-green-400":"text-red-400"),children:[a.ytdReturn>0?"+":"",a.ytdReturn,"% ",l("ytd")]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-3 ml-9 md:hidden rtl:ml-0 rtl:mr-9",children:[o.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-medium bg-[#222] text-text-muted border border-[#333]",children:l(d(a.category))}),o.jsx("span",{className:Ce("px-2 py-0.5 rounded text-[10px] font-medium border",a.risk==="High"?"bg-red-500/10 text-red-400 border-red-500/20":a.risk==="Medium"?"bg-yellow-500/10 text-yellow-400 border-yellow-500/20":"bg-green-500/10 text-green-400 border-green-500/20"),children:l(f(a.risk))})]}),o.jsx("div",{className:"hidden md:flex col-span-3 items-center",children:o.jsx("span",{className:"text-text-muted text-xs font-medium truncate",children:a.manager})}),o.jsxs("div",{className:"hidden md:flex col-span-3 flex-col items-end pr-4 rtl:pl-4 rtl:pr-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-text-muted text-[10px] uppercase tracking-wider hidden sm:inline",children:l("annual")}),o.jsxs("span",{className:"text-white font-bold font-mono text-sm tracking-tight",children:[a.annualReturn,"%"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-text-muted text-[10px] uppercase tracking-wider hidden sm:inline",children:l("ytd")}),o.jsxs("span",{className:Ce("font-mono font-medium text-xs",a.ytdReturn>=0?"text-green-400":"text-red-400"),children:[a.ytdReturn>0?"+":"",a.ytdReturn,"%"]})]})]})]})},mj=({isOpen:i,onClose:a})=>{const[r,l]=j.useState(!1),[u,d]=j.useState(!1),f=j.useRef(null),{handlers:p,style:m}=xd(f,i),{handlers:g,style:x,isDragging:b}=bd(a,100,i),{t:_}=_n(),{showToast:N}=wd(),[S,C]=j.useState({name:"",manager:"",category:"Equity",annualReturn:"",risk:"Medium",description:"",strategy:"",minInvestment:"",fees:""});if(Xa.useEffect(()=>{if(i)l(!0),d(!1);else{d(!0);const O=setTimeout(()=>{l(!1),d(!1)},400);return()=>clearTimeout(O)}},[i]),Xa.useEffect(()=>{if(r){const O=window.scrollY,k=document.body;return k.style.position="fixed",k.style.top=`-${O}px`,k.style.width="100%",k.style.overflow="hidden",()=>{k.style.position="",k.style.top="",k.style.width="",k.style.overflow="",k.style.paddingRight="",window.scrollTo(0,O)}}},[r]),!r&&!i)return null;const R=()=>{d(!0),a()},M=async O=>{O.preventDefault();try{const{error:k}=await ce.from("fund_submissions").insert([{fund_name:S.name,manager:S.manager,description:S.description,category:S.category,risk_level:S.risk,return_1y:parseFloat(S.annualReturn)||0,min_investment:parseFloat(S.minInvestment)||0,fees:parseFloat(S.fees)||0,strategy:S.strategy,contact_email:"pending@example.com",status:"pending"}]);if(k)throw k;N(_("submissionSuccess")||"Fund submitted successfully!","success"),R(),C({name:"",manager:"",category:"Equity",annualReturn:"",risk:"Medium",description:"",strategy:"",minInvestment:"",fees:""})}catch(k){console.error("Error submitting fund:",k),N("Error submitting fund. Please try again.","error")}};return o.jsx("div",{className:Ce("fixed inset-0 z-[100] flex items-end md:items-center justify-center p-0 md:p-4 bg-black/80 backdrop-blur-sm",u?"animate-fadeOut":"animate-fadeIn"),onClick:R,children:o.jsxs("div",{...p,style:{...m,transform:b?x.transform:m.transform,transition:b?x.transition:m.transition},className:Ce("bg-surface md:border border-border rounded-t-2xl md:rounded-2xl w-full max-w-md overflow-hidden shadow-2xl max-h-[90vh] flex flex-col",u?"animate-drawerClose md:animate-sleekClose":"animate-drawerOpen md:animate-sleekOpen"),onClick:O=>O.stopPropagation(),children:[o.jsxs("div",{...g,className:"flex items-center justify-between px-4 py-3 md:px-6 md:py-4 border-b border-[#333] bg-[#1a1a1a] touch-none cursor-grab active:cursor-grabbing",children:[o.jsx("h3",{className:"text-base md:text-lg font-bold text-white font-display",children:_("submitFundTitle")}),o.jsx("button",{onClick:a,className:"p-1.5 md:p-2 hover:bg-[#333] rounded-full transition-colors text-text-muted hover:text-white",children:o.jsx(an,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),o.jsx("div",{ref:f,className:"overflow-y-auto p-4 space-y-3",children:o.jsxs("form",{onSubmit:M,className:"space-y-3",children:[o.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3 mb-4",children:o.jsx("p",{className:"text-xs text-blue-200",children:_("submitNote")})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-text-muted mb-1",children:_("fundName")}),o.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-border rounded-lg px-3 py-1.5 text-white text-base focus:border-primary outline-none transition-colors rtl:text-right",placeholder:_("phName"),value:S.name,onChange:O=>C({...S,name:O.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-text-muted mb-1",children:"Fund Manager"}),o.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-border rounded-lg px-3 py-1.5 text-white text-base focus:border-primary outline-none transition-colors rtl:text-right",placeholder:"e.g. CIB, Allianz, etc.",value:S.manager,onChange:O=>C({...S,manager:O.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-text-muted mb-1",children:_("description")}),o.jsx("textarea",{className:"w-full bg-background border border-border rounded-lg px-3 py-1.5 text-white text-base focus:border-primary outline-none transition-colors min-h-[60px] rtl:text-right",placeholder:_("phDesc"),value:S.description,onChange:O=>C({...S,description:O.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-text-muted mb-1",children:_("category")}),o.jsxs("select",{className:"w-full bg-background border border-border rounded-lg px-3 py-1.5 text-white text-base focus:border-primary outline-none transition-colors appearance-none rtl:text-right",value:S.category,onChange:O=>C({...S,category:O.target.value}),children:[o.jsx("option",{value:"Equity",children:_("equity")}),o.jsx("option",{value:"Fixed Income",children:_("fixedIncome")}),o.jsx("option",{value:"Mixed",children:_("mixed")}),o.jsx("option",{value:"Islamic",children:_("islamic")}),o.jsx("option",{value:"Tech",children:_("tech")})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-text-muted mb-1",children:_("riskLevel")}),o.jsxs("select",{className:"w-full bg-background border border-border rounded-lg px-3 py-1.5 text-white text-base focus:border-primary outline-none transition-colors appearance-none rtl:text-right",value:S.risk,onChange:O=>C({...S,risk:O.target.value}),children:[o.jsx("option",{value:"Low",children:_("lowRisk")}),o.jsx("option",{value:"Medium",children:_("mediumRisk")}),o.jsx("option",{value:"High",children:_("highRisk")})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-text-muted mb-1",children:_("strategy")}),o.jsx("input",{type:"text",className:"w-full bg-background border border-border rounded-lg px-3 py-1.5 text-white text-base focus:border-primary outline-none transition-colors rtl:text-right",placeholder:_("phStrategy"),value:S.strategy,onChange:O=>C({...S,strategy:O.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-text-muted mb-1",children:_("minInvestment")}),o.jsx("input",{type:"text",className:"w-full bg-background border border-border rounded-lg px-3 py-1.5 text-white text-base focus:border-primary outline-none transition-colors rtl:text-right",placeholder:_("phMinInv"),value:S.minInvestment,onChange:O=>C({...S,minInvestment:O.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-text-muted mb-1",children:_("fees")}),o.jsx("input",{type:"text",className:"w-full bg-background border border-border rounded-lg px-3 py-1.5 text-white text-base focus:border-primary outline-none transition-colors rtl:text-right",placeholder:_("phFees"),value:S.fees,onChange:O=>C({...S,fees:O.target.value})})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-text-muted mb-1",children:[_("annualReturn")," (%)"]}),o.jsx("input",{type:"number",step:"0.1",required:!0,className:"w-full bg-background border border-border rounded-lg px-3 py-1.5 text-white text-base focus:border-primary outline-none transition-colors rtl:text-right",placeholder:_("phReturn"),value:S.annualReturn,onChange:O=>C({...S,annualReturn:O.target.value})})]}),o.jsxs("button",{type:"submit",className:"w-full bg-primary hover:bg-blue-600 text-white font-bold py-2.5 rounded-lg flex items-center justify-center gap-2 transition-colors mt-4 text-sm",children:[o.jsx(Yn,{className:"w-4 h-4"}),_("submitFundBtn")]})]})})]})})},$c=({annualReturn:i,onClose:a})=>{const[r,l]=j.useState(1e3),[u,d]=j.useState(5),[f,p]=j.useState(0),[m,g]=j.useState(0),[x,b]=j.useState(!1),{t:_}=_n(),[N,S]=j.useState("1,000"),[C,R]=j.useState("5");j.useEffect(()=>{const I=i/100,re=12,Ne=u,we=r*((Math.pow(1+I/re,re*Ne)-1)/(I/re)),pe=r*12*u;p(Math.round(we)),g(pe),b(!0);const _e=setTimeout(()=>b(!1),300);return()=>clearTimeout(_e)},[r,u,i]);const M=f-m,O=Math.round(M/m*100),k=I=>{const re=I.replace(/,/g,""),Ne=Number(re);if(isNaN(Ne)&&re!=="")return;const we=re===""?"":Number(re).toLocaleString();S(we),Ne>=500&&Ne<=2e5?l(Ne):Ne<500&&re!==""?l(500):Ne>2e5&&l(2e5)},X=()=>{S(r.toLocaleString())},ie=I=>{const re=Number(I);isNaN(re)||(R(I),re>=1&&re<=40?d(re):re<1?d(1):re>40&&d(40))},le=()=>{R(u.toString())},Q=I=>`${Math.max(2,I.length)*8.5+20}px`;return o.jsxs("div",{className:"bg-[#111] border border-[#333] rounded-xl p-4 w-full animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 to-blue-900/20 border border-white/10 rounded-xl p-4 mb-6 text-center relative overflow-hidden group",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:animate-[shimmer_1.5s_infinite]"}),o.jsx("p",{className:"text-xs text-purple-300 font-medium mb-1 uppercase tracking-wider",children:_("projectedValue")}),o.jsxs("div",{className:Ce("text-3xl font-bold text-white font-display transition-all duration-300 flex items-baseline justify-center gap-1",x?"scale-110 text-purple-200":"scale-100"),children:[o.jsx("span",{children:f.toLocaleString()}),o.jsx("span",{className:"text-sm font-normal text-white/60",children:_("egp")})]}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2 text-xs",children:[o.jsxs("span",{className:"text-text-muted",children:[_("invested"),": ",m.toLocaleString()]}),o.jsxs("span",{className:"text-green-400 font-bold flex items-center gap-0.5",children:[o.jsx(Za,{className:"w-3 h-3"}),"+",M.toLocaleString()," (",O,"%)"]})]})]}),o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center text-xs mb-2",children:[o.jsx("span",{className:"text-text-muted",children:_("monthlyInvestment")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",value:N,onChange:I=>k(I.target.value),onBlur:X,onFocus:I=>I.target.select(),style:{width:Q(N)},className:"bg-[#1a1a1a] border border-[#333] rounded-lg px-2 py-1 text-white text-xs font-bold text-center focus:border-purple-500 focus:outline-none transition-colors"}),o.jsx("span",{className:"text-white/60 text-xs",children:_("egp")})]})]}),o.jsx("input",{type:"range",min:"500",max:"200000",step:"500",value:r,onChange:I=>{const re=Number(I.target.value);l(re),S(re.toLocaleString())},className:"w-full h-2 bg-[#333] rounded-lg appearance-none cursor-pointer accent-purple-500 hover:accent-purple-400 transition-all rtl:rotate-180"}),o.jsxs("div",{className:"flex justify-between text-[10px] text-text-muted mt-1",children:[o.jsx("span",{children:"500"}),o.jsx("span",{children:"200k"})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center text-xs mb-2",children:[o.jsx("span",{className:"text-text-muted",children:_("duration")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",value:C,onChange:I=>ie(I.target.value),onBlur:le,onFocus:I=>I.target.select(),style:{width:Q(C)},className:"bg-[#1a1a1a] border border-[#333] rounded-lg px-2 py-1 text-white text-xs font-bold text-center focus:border-blue-500 focus:outline-none transition-colors"}),o.jsx("span",{className:"text-white/60 text-xs",children:_("years")})]})]}),o.jsx("input",{type:"range",min:"1",max:"40",step:"1",value:u,onChange:I=>{const re=Number(I.target.value);d(re),R(re.toString())},className:"w-full h-2 bg-[#333] rounded-lg appearance-none cursor-pointer accent-blue-500 hover:accent-blue-400 transition-all rtl:rotate-180"}),o.jsxs("div",{className:"flex justify-between text-[10px] text-text-muted mt-1",children:[o.jsx("span",{children:"1y"}),o.jsx("span",{children:"40y"})]})]})]}),o.jsx("div",{className:"mt-4 pt-3 border-t border-white/5 text-[10px] text-text-muted text-center",children:_("timeMachineDisclaimer").replace("{return}",i)})]})},lg=({fund:i,onCloseAction:a,canClose:r})=>{const{t:l}=_n(),u=f=>({Equity:"equity","Fixed Income":"fixedIncome",Balanced:"balanced",Islamic:"islamic",Growth:"growth","Money Market":"moneyMarket",Tech:"tech",Mixed:"mixed"})[f]||f,d=f=>({Low:"lowRisk",Medium:"mediumRisk",High:"highRisk"})[f]||f;return i?o.jsxs("div",{className:"relative flex items-start gap-4",children:[r&&o.jsx("button",{onClick:a,className:"absolute -top-2 -right-2 p-1.5 hover:bg-[#333] rounded-full text-text-muted hover:text-white transition-colors z-10 rtl:right-auto rtl:-left-2",title:"Close fund",children:o.jsx(an,{className:"w-4 h-4"})}),i.logo?o.jsx("img",{src:i.logo,alt:i.name,className:"w-12 h-12 md:w-16 md:h-16 rounded-xl object-contain bg-white p-1 shadow-lg shrink-0",onError:f=>{f.target.style.display="none",f.target.nextSibling.style.display="flex"}}):null,o.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-xl bg-gradient-to-br from-gray-800 to-gray-900 border border-[#333] flex items-center justify-center shadow-lg shrink-0",style:{display:i.logo?"none":"flex"},children:o.jsx("span",{className:"text-lg md:text-xl font-bold text-white/80",children:i.name.substring(0,2).toUpperCase()})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"flex items-center gap-2 mb-1",children:o.jsx("h2",{className:"text-lg md:text-xl font-bold text-white leading-tight line-clamp-2",children:i.name})}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[o.jsx("p",{className:"text-primary font-medium text-sm",children:i.manager}),o.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold bg-[#222] text-text-muted border border-[#333] uppercase tracking-wider",children:l(u(i.category))}),o.jsx("span",{className:Ce("px-2 py-0.5 rounded text-[10px] font-bold border uppercase tracking-wider",i.risk==="High"?"bg-red-500/10 text-red-400 border-red-500/20":i.risk==="Medium"?"bg-yellow-500/10 text-yellow-400 border-yellow-500/20":"bg-green-500/10 text-green-400 border-green-500/20"),children:l(d(i.risk))})]})]})]}):null},ri=({label:i,icon:a,value1:r,value2:l,highlightBetter:u=!1,format:d=m=>m,valueClassName:f="",showRightColumn:p})=>{const m=(b,_)=>typeof b=="number"&&typeof _=="number"?b>_:!1,g=u&&l&&m(parseFloat(r),parseFloat(l)),x=u&&l&&m(parseFloat(l),parseFloat(r));return p?o.jsx("div",{className:"py-4 border-b border-white/5 last:border-0",children:o.jsxs("div",{className:"flex flex-col md:grid md:grid-cols-2 gap-3 md:gap-8",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-text-muted shrink-0 mt-0.5 w-40",children:[a&&o.jsx(a,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{className:"text-xs uppercase tracking-wider font-medium whitespace-nowrap",children:i})]}),o.jsx("span",{className:Ce("font-bold text-sm text-left leading-snug flex-1 break-words rtl:text-right",g?"text-green-400":"text-white",f),children:d(r)})]}),o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-text-muted shrink-0 mt-0.5 w-40 md:hidden",children:[a&&o.jsx(a,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{className:"text-xs uppercase tracking-wider font-medium whitespace-nowrap",children:i})]}),l?o.jsx("span",{className:Ce("font-bold text-sm text-left leading-snug flex-1 break-words rtl:text-right",x?"text-green-400":"text-white",f),children:d(l)}):o.jsx("span",{className:"text-sm text-text-muted/20 text-left flex-1 rtl:text-right",children:"-"})]})]})}):o.jsxs("div",{className:"flex items-start gap-8 py-4 border-b border-white/5 last:border-0",children:[o.jsxs("div",{className:"flex items-center gap-2 text-text-muted shrink-0 mt-0.5 w-40",children:[a&&o.jsx(a,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs uppercase tracking-wider font-medium whitespace-nowrap",children:i})]}),o.jsx("span",{className:Ce("font-bold text-sm text-left leading-snug flex-1 break-words rtl:text-right","text-white",f),children:d(r)})]})},pj=({isOpen:i,onClose:a,fund:r,allFunds:l=[]})=>{const[u,d]=j.useState(null),[f,p]=j.useState(null),[m,g]=j.useState(!1),[x,b]=j.useState(""),[_,N]=j.useState(!1),[S,C]=j.useState(!1),[R,M]=j.useState(!1),[O,k]=j.useState(!1),X=j.useRef(null),ie=j.useRef(null),{handlers:le,style:Q}=xd(ie,i),{handlers:I,style:re,isDragging:Ne}=bd(a,100,i),{t:we}=_n();j.useEffect(()=>{if(i)M(!0),k(!1);else{k(!0);const Z=setTimeout(()=>{M(!1),k(!1)},200);return()=>clearTimeout(Z)}},[i]),j.useEffect(()=>{i&&r&&(d(r),p(null),g(!1),b(""),N(!1),C(!1))},[i,r]),j.useEffect(()=>{_&&X.current&&!S&&setTimeout(()=>{X.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},[_,S]),j.useEffect(()=>{if(R){const Z=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=Z}}},[R]);const pe=()=>{C(!0),setTimeout(()=>{N(!1),C(!1),ie.current&&ie.current.scrollTo({top:0,behavior:"smooth"})},300)},_e=j.useMemo(()=>{if(!u)return[];let Z=l.filter(E=>E.id!==u.id);return f&&(Z=Z.filter(E=>E.id!==f.id)),x?Z.filter(E=>E.name.toLowerCase().includes(x.toLowerCase())||E.manager.toLowerCase().includes(x.toLowerCase())).slice(0,5):Z.slice(0,5)},[l,u,f,x]);if(!R&&!i||!u&&!O||!u)return null;const ee=()=>{a()},Re=()=>{f?(d(f),p(null),g(!1)):ee()},q=()=>{p(null),g(!1)},Y=Z=>{p(Z),g(!1),b("")},te=()=>{g(!0)},ye=f||m;return o.jsxs("div",{className:Ce("fixed inset-0 z-[9999] flex items-end md:items-center justify-center md:p-4"),children:[o.jsx("div",{className:Ce("absolute inset-0 bg-black/80 backdrop-blur-sm",O?"animate-fadeOut":"animate-fadeIn"),onClick:ee,onTouchMove:Z=>Z.preventDefault()}),o.jsxs("div",{...le,style:{...Q,transform:Ne?re.transform:Q.transform,transition:Ne?re.transition:Q.transition},className:Ce("relative bg-[#161616] md:border md:border-[#333] shadow-2xl w-full flex flex-col overflow-hidden transition-all duration-300","max-h-[90vh] rounded-t-2xl md:rounded-2xl md:max-h-[90vh]",ye?"md:max-w-5xl":"md:max-w-xl",O?"animate-drawerClose md:animate-sleekClose":"animate-drawerOpen md:animate-sleekOpen"),children:[o.jsxs("div",{...I,className:"flex items-center justify-between px-4 py-3 md:px-6 md:py-4 border-b border-[#333] bg-[#1a1a1a] touch-none cursor-grab active:cursor-grabbing",children:[o.jsx("h3",{className:"text-base md:text-lg font-bold text-white font-display",children:we(f?"fundComparison":"fundDetails")}),o.jsx("button",{onClick:ee,className:"p-1.5 md:p-2 hover:bg-[#333] rounded-full transition-colors text-text-muted hover:text-white",children:o.jsx(an,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),o.jsxs("div",{className:"overflow-y-auto p-6 custom-scrollbar",ref:ie,children:[o.jsxs("div",{className:Ce("grid gap-4 md:gap-8 mb-4",ye?"grid-cols-1 md:grid-cols-2":"grid-cols-1"),children:[o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx(lg,{fund:u,onCloseAction:Re,canClose:!!f}),o.jsx("p",{className:"text-sm text-text-muted leading-relaxed",children:u.description})]}),ye&&o.jsx("div",{className:Ce("flex flex-col gap-4","pt-4 md:pt-0 border-t md:border-t-0 md:pl-8 md:border-l border-[#333] rtl:md:pl-0 rtl:md:pr-8 rtl:md:border-l-0 rtl:md:border-r",!f&&"min-h-[120px]"),children:f?o.jsxs(o.Fragment,{children:[o.jsx(lg,{fund:f,onCloseAction:q,canClose:!0}),o.jsx("p",{className:"text-sm text-text-muted leading-relaxed",children:f.description})]}):o.jsxs("div",{className:"h-full flex flex-col bg-[#1a1a1a] rounded-xl p-4 border border-[#333] shadow-inner",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"text-sm font-bold text-white",children:we("selectFundToCompare")}),o.jsx("button",{onClick:()=>g(!1),className:"text-xs text-text-muted hover:text-white",children:we("cancel")})]}),o.jsxs("div",{className:"relative mb-3",children:[o.jsx(ci,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted rtl:left-auto rtl:right-3"}),o.jsx("input",{type:"text",autoFocus:!0,placeholder:we("searchPlaceholder"),className:"w-full bg-[#0a0a0a] border border-[#333] rounded-lg py-2 pl-9 pr-4 text-base md:text-sm text-white focus:border-primary outline-none transition-colors shadow-sm rtl:pl-4 rtl:pr-9",value:x,onChange:Z=>b(Z.target.value)})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar max-h-[200px] -mr-2 pr-2 rtl:mr-0 rtl:ml-2 rtl:pl-2",children:[_e.map(Z=>o.jsxs("button",{onClick:()=>Y(Z),className:"w-full flex items-center gap-3 p-2 hover:bg-[#2a2a2a] rounded-lg transition-colors text-left group mb-1 rtl:text-right",children:[Z.logo?o.jsx("img",{src:Z.logo,alt:Z.name,className:"w-8 h-8 rounded-lg object-cover border border-[#333] shadow-sm group-hover:border-[#444] transition-colors",onError:E=>{E.target.style.display="none",E.target.nextSibling.style.display="flex"}}):null,o.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-gray-800 to-gray-900 border border-[#333] flex items-center justify-center shadow-sm group-hover:border-[#444] transition-colors",style:{display:Z.logo?"none":"flex"},children:o.jsx("span",{className:"text-[10px] font-bold text-white/80",children:Z.name.substring(0,2).toUpperCase()})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium text-white group-hover:text-primary truncate",children:Z.name}),o.jsx("div",{className:"text-[10px] text-text-muted",children:Z.manager})]}),o.jsxs("div",{className:Ce("text-xs font-mono font-bold",Z.annualReturn>=0?"text-green-400":"text-red-400"),children:[Z.annualReturn,"%"]})]},Z.id)),_e.length===0&&o.jsxs("div",{className:"text-center py-8 text-text-muted text-xs",children:[we("noFundsFound"),' "',x,'"']})]})]})})]}),o.jsxs("div",{className:"bg-[#111] rounded-xl border border-[#222] px-4 py-1 mb-4",children:[o.jsx(ri,{label:we("annualReturn"),icon:Za,value1:u.annualReturn,value2:f?.annualReturn,highlightBetter:!0,format:Z=>`${Z}%`,showRightColumn:ye}),o.jsx(ri,{label:we("ytdReturn"),icon:Za,value1:u.ytdReturn,value2:f?.ytdReturn,highlightBetter:!0,format:Z=>`${Z>0?"+":""}${Z}%`,showRightColumn:ye}),o.jsx(ri,{label:we("fees"),icon:Ug,value1:u.fees,value2:f?.fees,showRightColumn:ye}),o.jsx(ri,{label:we("minInvestment"),icon:Ow,value1:u.minInvestment,value2:f?.minInvestment,format:Z=>Z&&Number(Z).toLocaleString(),showRightColumn:ye}),o.jsx(ri,{label:we("strategy"),icon:ii,value1:u.strategy,value2:f?.strategy,valueClassName:"text-xs",showRightColumn:ye})]}),o.jsxs("div",{className:"flex flex-col gap-4",children:[!ye&&o.jsxs("button",{onClick:te,className:"w-full py-3 bg-[#1a1a1a] border border-[#333] hover:border-primary/50 hover:bg-[#222] text-text-muted hover:text-white rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2 group",children:[o.jsx(zb,{className:"w-4 h-4 group-hover:text-primary transition-colors"}),we("compareWithAnother")]}),o.jsxs("div",{className:"mt-2",ref:X,children:[(_||S)&&o.jsxs("div",{className:Ce("transition-all duration-300 overflow-hidden",S?"opacity-0 -translate-y-4 max-h-0":"opacity-100 translate-y-0 animate-fadeIn"),children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("h4",{className:"text-sm font-bold text-white flex items-center gap-2",children:[o.jsx(kp,{className:"w-4 h-4 text-primary"}),we("timeMachine")," ",f&&we("comparison")]}),o.jsx("button",{onClick:pe,className:"text-xs text-text-muted hover:text-white",children:we("closeTimeMachine")})]}),f?o.jsxs("div",{className:Ce("grid gap-4","grid-cols-1 md:grid-cols-2"),children:[o.jsxs("div",{children:[o.jsx("h5",{className:"text-xs font-bold text-white mb-2 opacity-60",children:u.name}),o.jsx($c,{annualReturn:u.annualReturn,onClose:pe})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"text-xs font-bold text-white mb-2 opacity-60",children:f.name}),o.jsx($c,{annualReturn:f.annualReturn,onClose:pe})]})]}):o.jsx($c,{annualReturn:u.annualReturn,onClose:pe})]}),!_&&!S&&o.jsxs("button",{onClick:()=>N(!0),className:"w-full py-3 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white text-sm font-bold rounded-xl flex items-center justify-center gap-2 transition-all shadow-lg shadow-blue-500/20 group",children:[o.jsx(kp,{className:"w-4 h-4 group-hover:rotate-12 transition-transform"}),we("launchTimeMachine")]})]})]})]})]})]})};function gj(){const[i,a]=j.useState([]),[r,l]=j.useState(!0),[u,d]=j.useState(null),{language:f}=_n();return j.useEffect(()=>{async function p(){try{const{data:g,error:x}=await ce.from("funds").select("*").eq("status","active").order("created_at",{ascending:!0});if(x)throw x;const b=g.map(_=>({id:_.id,name:f==="ar"?_.name_ar:_.name_en,manager:f==="ar"&&_.manager_ar||_.manager_en,logo:_.logo,annualReturn:parseFloat(_.return_1y),ytdReturn:parseFloat(_.return_ytd),category:_.category,risk:_.risk_level,description:f==="ar"&&_.description_ar||_.description_en,strategy:f==="ar"&&_.strategy_ar||_.strategy_en,minInvestment:_.min_investment||0,fees:(_.fees||0)+"%",..._}));a(b)}catch(g){console.error("Error fetching funds:",g),d(g)}finally{l(!1)}}p();const m=ce.channel("public:funds").on("postgres_changes",{event:"*",schema:"public",table:"funds"},g=>{console.log("Real-time update received:",g),p()}).subscribe();return()=>{ce.removeChannel(m)}},[f]),{funds:i,loading:r,error:u}}const yj=({funds:i,onFundClick:a})=>{const{t:r}=_n(),l=b=>{eo("fund_click","fund",b.id,{fund_name:b.name,source:"featured"}),a(b)},u=i.find(b=>b.is_promoted),d=u?[{...u,isSponsored:!0}]:[],f=5-d.length,p=[...i].filter(b=>!b.is_promoted).slice(-f).reverse().map(b=>({...b,isNew:!0})),m=[...d,...p],g=b=>b.name.startsWith(b.manager)?b.name.replace(b.manager,"").trim():b.name,x=b=>({Equity:"equity","Fixed Income":"fixedIncome",Balanced:"balanced",Islamic:"islamic",Growth:"growth","Money Market":"moneyMarket",Tech:"tech",Mixed:"mixed"})[b]||b;return o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-1.5 bg-primary/10 rounded-lg",children:o.jsx(Fb,{className:"w-5 h-5 text-primary"})}),o.jsx("h2",{className:"text-lg font-bold text-white font-display",children:r("featuredFunds")}),o.jsxs("span",{className:"md:hidden text-[10px] font-medium text-primary/80 animate-pulse ml-auto rtl:mr-auto rtl:ml-0 flex items-center gap-1",children:[r("swipe")," ",o.jsx("span",{className:"inline-block rtl:rotate-180",children:""})]})]})}),o.jsx("div",{className:"flex overflow-x-auto pb-4 pt-1 gap-4 snap-x snap-mandatory md:grid md:grid-cols-5 md:overflow-visible md:pb-0 md:pt-0 scrollbar-styled md:mx-0 md:px-0",children:m.map((b,_)=>o.jsxs("div",{className:"relative group pt-4 min-w-[280px] md:min-w-0 snap-center first:pl-2 last:pr-2 md:first:pl-0 md:last:pr-0 rtl:first:pr-2 rtl:last:pl-2 rtl:md:first:pr-0 rtl:md:last:pl-0",children:[" ",(b.isSponsored||b.isNew)&&o.jsx("div",{className:"absolute -top-[1.5px] right-4 z-20 rtl:right-auto rtl:left-4",children:o.jsx("div",{className:Ce("px-2.5 py-0.5 text-[9px] font-bold uppercase tracking-wider rounded-t-lg border-t border-x shadow-lg",b.isSponsored?"bg-[#111] text-yellow-400 border-yellow-500/30 shadow-yellow-500/5":"bg-[#111] text-blue-400 border-blue-500/50 shadow-blue-500/5"),children:b.isSponsored?r("promoted"):r("new")})}),o.jsxs("div",{onClick:()=>l(b),className:Ce("relative rounded-xl transition-all duration-300 hover:shadow-lg flex flex-col min-h-[120px] h-full hover:z-10 cursor-pointer overflow-hidden",b.isSponsored?"p-[1px]":"bg-[#111] border border-[#222] hover:border-primary/50 hover:shadow-primary/5 hover:bg-[#1a1a1a]"),children:[b.isSponsored&&o.jsx("div",{className:"absolute inset-[-100%] animate-[spin_8s_linear_infinite] bg-[conic-gradient(from_90deg_at_50%_50%,#EAB308_0%,#000000_50%,#EAB308_100%)] opacity-100"}),o.jsxs("div",{className:Ce("relative h-full flex flex-col rounded-xl p-4",b.isSponsored?"bg-[#111]":""),children:[o.jsxs("div",{className:"flex items-start gap-3 mb-2 flex-1",children:[b.logo?o.jsx("img",{src:b.logo,alt:b.manager,className:Ce("w-9 h-9 rounded-lg object-contain shadow-sm shrink-0 transition-opacity",b.isSponsored?"bg-white p-0.5 opacity-100":"bg-white p-0.5 opacity-90 group-hover:opacity-100"),onError:N=>{N.target.style.display="none",N.target.nextSibling.style.display="flex"}}):null,o.jsx("div",{className:Ce("w-9 h-9 rounded-lg bg-gradient-to-br from-gray-800 to-gray-900 border border-[#333] flex items-center justify-center shadow-sm shrink-0 transition-opacity",b.isSponsored?"opacity-100":"opacity-90 group-hover:opacity-100"),style:{display:b.logo?"none":"flex"},children:o.jsx("span",{className:"text-xs font-bold text-white/80",children:b.manager.substring(0,2).toUpperCase()})}),o.jsxs("div",{className:"min-w-0 pt-0.5",children:[o.jsx("h3",{className:Ce("text-sm font-bold transition-colors line-clamp-2 leading-tight mb-0.5",b.isSponsored?"text-white group-hover:text-yellow-500":"text-white group-hover:text-primary"),title:g(b),children:g(b)}),o.jsx("p",{className:"text-[10px] text-text-muted truncate",children:b.manager})]})]}),o.jsxs("div",{className:"mt-auto flex items-center justify-between pt-2 border-t border-white/5",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-[8px] text-text-muted uppercase tracking-wider",children:r("return")}),o.jsxs("span",{className:Ce("text-xs font-bold",b.annualReturn>=0?"text-green-400":"text-red-400"),children:[b.annualReturn>0?"+":"",b.annualReturn,"%"]})]}),o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"text-[8px] text-text-muted uppercase tracking-wider",children:r("type")}),o.jsx("span",{className:"text-[10px] font-medium text-white/80",children:r(x(b.category))})]})]})]})]})]},b.id))})]})};function vj(){const{funds:i,loading:a}=gj(),[r,l]=j.useState([]);j.useEffect(()=>{i.length>0&&l(i)},[i]);const[u,d]=j.useState(""),[f,p]=j.useState(!1),[m,g]=j.useState(null),[x,b]=j.useState(50),[_,N]=j.useState("all"),[S,C]=j.useState("all"),[R,M]=j.useState("all"),[O,k]=j.useState("annualReturn"),[X,ie]=j.useState("desc"),[le,Q]=j.useState(!1),{t:I}=_n();j.useEffect(()=>{k(R==="ytd"||R==="last30Days"?"ytdReturn":"annualReturn")},[R]);const Ne=[...r.filter(ee=>{const Re=ee.name.toLowerCase().includes(u.toLowerCase())||ee.category.toLowerCase().includes(u.toLowerCase()),q=_==="all"||ee.category===_,Y=S==="all"||ee.risk===S;return Re&&q&&Y})].sort((ee,Re)=>{if(O==="manager"){const Y=ee.manager.localeCompare(Re.manager);return X==="asc"?Y:-Y}const q=Re[O]-ee[O];return X==="desc"?q:-q}),we=Ne.slice(0,x),pe=ee=>{O===ee?ie(Re=>Re==="desc"?"asc":"desc"):(k(ee),ie("desc"))};j.useEffect(()=>{const ee=Re=>{Re.key==="Escape"&&(p(!1),g(null))};return window.addEventListener("keydown",ee),()=>window.removeEventListener("keydown",ee)},[]);const _e=ee=>{const Re={id:r.length+1,...ee,logo:`https://ui-avatars.com/api/?name=${ee.name}&background=random`,ytdReturn:0};l([Re,...r])};return o.jsx(hj,{onOpenSubmitModal:()=>p(!0),children:a?o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-text-muted",children:[o.jsx(Vt,{className:"w-8 h-8 animate-spin mb-4 text-primary"}),o.jsx("p",{children:I("loading")||"Loading funds..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(mj,{isOpen:f,onClose:()=>p(!1),onSubmit:_e}),o.jsx(pj,{isOpen:!!m,onClose:()=>g(null),fund:m,allFunds:r}),o.jsx(yj,{funds:r,onFundClick:g}),o.jsxs("div",{className:"bg-[#111] border border-[#222] rounded-2xl overflow-hidden shadow-2xl",children:[o.jsxs("div",{className:"px-6 py-6",children:[o.jsxs("div",{className:"hidden md:flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("h2",{className:"text-xl font-bold text-white font-display pt-1",children:I("leaderboard")}),o.jsxs("div",{className:"relative w-64",children:[o.jsx(ci,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted rtl:left-auto rtl:right-3"}),o.jsx("input",{type:"text",placeholder:I("searchPlaceholder"),className:"w-full bg-[#1a1a1a] border border-[#333] rounded-lg py-2 pl-9 pr-4 text-sm text-white focus:border-primary outline-none transition-colors rtl:pl-4 rtl:pr-9",value:u,onChange:ee=>d(ee.target.value)})]})]}),o.jsxs("div",{className:"flex flex-row gap-3",children:[o.jsxs("div",{className:"relative group",children:[o.jsxs("select",{value:R,onChange:ee=>M(ee.target.value),className:"appearance-none bg-[#1a1a1a] text-white text-sm font-medium px-4 py-2 pr-8 rounded-lg border border-[#333] focus:border-primary outline-none cursor-pointer hover:bg-[#222] transition-colors rtl:pl-8 rtl:pr-4",children:[o.jsx("option",{value:"all",children:I("allTime")}),o.jsx("option",{value:"ytd",children:I("ytd")}),o.jsx("option",{value:"lastYear",children:I("lastYear")}),o.jsx("option",{value:"last30Days",children:I("last30Days")})]}),o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-text-muted rtl:right-auto rtl:left-3",children:o.jsx("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),o.jsxs("div",{className:"relative group",children:[o.jsxs("select",{value:_,onChange:ee=>N(ee.target.value),className:"appearance-none bg-[#1a1a1a] text-white text-sm font-medium px-4 py-2 pr-8 rounded-lg border border-[#333] focus:border-primary outline-none cursor-pointer hover:bg-[#222] transition-colors rtl:pl-8 rtl:pr-4",children:[o.jsx("option",{value:"all",children:I("allCategories")}),o.jsx("option",{value:"Equity",children:I("equity")}),o.jsx("option",{value:"Fixed Income",children:I("fixedIncome")}),o.jsx("option",{value:"Balanced",children:I("balanced")}),o.jsx("option",{value:"Islamic",children:I("islamic")}),o.jsx("option",{value:"Growth",children:I("growth")}),o.jsx("option",{value:"Money Market",children:I("moneyMarket")}),o.jsx("option",{value:"Tech",children:I("tech")}),o.jsx("option",{value:"Mixed",children:I("mixed")})]}),o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-text-muted rtl:right-auto rtl:left-3",children:o.jsx("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),o.jsxs("div",{className:"relative group",children:[o.jsxs("select",{value:S,onChange:ee=>C(ee.target.value),className:"appearance-none bg-[#1a1a1a] text-white text-sm font-medium px-4 py-2 pr-8 rounded-lg border border-[#333] focus:border-primary outline-none cursor-pointer hover:bg-[#222] transition-colors rtl:pl-8 rtl:pr-4",children:[o.jsx("option",{value:"all",children:I("allRiskLevels")}),o.jsx("option",{value:"Low",children:I("lowRisk")}),o.jsx("option",{value:"Medium",children:I("mediumRisk")}),o.jsx("option",{value:"High",children:I("highRisk")})]}),o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-text-muted rtl:right-auto rtl:left-3",children:o.jsx("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]}),o.jsxs("div",{className:"md:hidden",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-white font-display pt-1",children:I("leaderboard")}),o.jsxs("button",{onClick:()=>Q(!le),className:"flex items-center gap-2 px-3 py-1.5 bg-[#1a1a1a] border border-[#333] rounded-lg text-xs font-medium text-white hover:bg-[#222] transition-colors",children:[o.jsx(Wb,{className:"w-3 h-3"}),o.jsx("span",{children:I("filters")}),(R!=="all"||_!=="all"||S!=="all")&&o.jsx("span",{className:"flex h-2 w-2 rounded-full bg-primary ml-1"})]})]}),o.jsxs("div",{className:"relative w-full",children:[o.jsx(ci,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted rtl:left-auto rtl:right-3"}),o.jsx("input",{type:"text",placeholder:I("searchPlaceholder"),className:"w-full bg-[#1a1a1a] border border-[#333] rounded-lg py-1.5 pl-9 pr-4 text-sm text-white focus:border-primary outline-none transition-colors rtl:pl-4 rtl:pr-9",value:u,onChange:ee=>d(ee.target.value)})]})]})]}),o.jsxs("div",{className:`${le?"flex":"hidden"} md:hidden flex-col gap-3 px-6 pb-6 animate-in fade-in slide-in-from-top-2`,children:[o.jsxs("div",{className:"relative group w-full",children:[o.jsxs("select",{value:R,onChange:ee=>M(ee.target.value),className:"appearance-none bg-[#1a1a1a] text-white text-sm font-medium px-4 py-1.5 pr-8 rounded-lg border border-[#333] focus:border-primary outline-none cursor-pointer hover:bg-[#222] transition-colors w-full rtl:pl-8 rtl:pr-4",children:[o.jsx("option",{value:"all",children:I("allTime")}),o.jsx("option",{value:"ytd",children:I("ytd")}),o.jsx("option",{value:"lastYear",children:I("lastYear")}),o.jsx("option",{value:"last30Days",children:I("last30Days")})]}),o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-text-muted rtl:right-auto rtl:left-3",children:o.jsx("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),o.jsxs("div",{className:"relative group w-full",children:[o.jsxs("select",{value:_,onChange:ee=>N(ee.target.value),className:"appearance-none bg-[#1a1a1a] text-white text-sm font-medium px-4 py-1.5 pr-8 rounded-lg border border-[#333] focus:border-primary outline-none cursor-pointer hover:bg-[#222] transition-colors w-full rtl:pl-8 rtl:pr-4",children:[o.jsx("option",{value:"all",children:I("allCategories")}),o.jsx("option",{value:"Equity",children:I("equity")}),o.jsx("option",{value:"Fixed Income",children:I("fixedIncome")}),o.jsx("option",{value:"Balanced",children:I("balanced")}),o.jsx("option",{value:"Islamic",children:I("islamic")}),o.jsx("option",{value:"Growth",children:I("growth")}),o.jsx("option",{value:"Money Market",children:I("moneyMarket")}),o.jsx("option",{value:"Tech",children:I("tech")}),o.jsx("option",{value:"Mixed",children:I("mixed")})]}),o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-text-muted rtl:right-auto rtl:left-3",children:o.jsx("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),o.jsxs("div",{className:"relative group w-full",children:[o.jsxs("select",{value:S,onChange:ee=>C(ee.target.value),className:"appearance-none bg-[#1a1a1a] text-white text-sm font-medium px-4 py-1.5 pr-8 rounded-lg border border-[#333] focus:border-primary outline-none cursor-pointer hover:bg-[#222] transition-colors w-full rtl:pl-8 rtl:pr-4",children:[o.jsx("option",{value:"all",children:I("allRiskLevels")}),o.jsx("option",{value:"Low",children:I("lowRisk")}),o.jsx("option",{value:"Medium",children:I("mediumRisk")}),o.jsx("option",{value:"High",children:I("highRisk")})]}),o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-text-muted rtl:right-auto rtl:left-3",children:o.jsx("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"hidden md:grid grid-cols-12 items-center px-6 py-4 bg-[#111] text-xs font-medium text-text-muted uppercase tracking-wider border-b border-[#222]",children:[o.jsx("div",{className:"col-span-1 text-center",children:I("rank")}),o.jsx("div",{className:"col-span-5 pl-2 rtl:pr-2 rtl:pl-0",children:I("fund")}),o.jsxs("div",{className:"col-span-3 cursor-pointer hover:text-primary transition-colors flex items-center gap-1 group",onClick:()=>pe("manager"),children:[o.jsx("span",{children:I("manager")}),O==="manager"&&o.jsxs("span",{className:"text-[10px] opacity-70",children:["(",X==="asc"?"A-Z":"Z-A",")"]})]}),o.jsxs("div",{className:"col-span-3 text-right pr-4 rtl:pl-4 rtl:pr-0 cursor-pointer hover:text-primary transition-colors flex items-center justify-end gap-1 group",onClick:()=>pe(R==="ytd"||R==="last30Days"?"ytdReturn":"annualReturn"),children:[o.jsx("span",{children:I("returns")}),(O==="annualReturn"||O==="ytdReturn")&&o.jsxs("span",{className:"text-[10px] opacity-70",children:["(",X==="desc"?"":"",")"]})]})]}),o.jsx("div",{className:"divide-y divide-[#222]",children:we.map((ee,Re)=>o.jsx(fj,{rank:Re+1,fund:ee,onClick:()=>g(ee)},ee.id))})]})}),x<Ne.length&&o.jsx("div",{className:"p-4 border-t border-border flex justify-center",children:o.jsxs("button",{onClick:()=>b(ee=>Math.min(ee+50,Ne.length)),className:"px-6 py-2 bg-surface-hover border border-border rounded-lg text-sm font-medium text-text hover:text-white hover:border-primary/50 transition-colors",children:[I("showMore")," (",Ne.length-x," ",I("remaining"),")"]})})]})]})})}const xj=()=>{const[i,a]=j.useState(""),[r,l]=j.useState(""),[u,d]=j.useState(!1),[f,p]=j.useState(null),m=gi(),g=async x=>{x.preventDefault(),d(!0),p(null);try{const{data:b,error:_}=await ce.auth.signInWithPassword({email:i,password:r});if(_)throw _;const{data:N,error:S}=await ce.from("profiles").select("role").eq("id",b.user.id).single();if(S)throw console.error("Profile fetch error:",S),await ce.auth.signOut(),new Error("Access denied. No profile found.");if(N?.role!=="admin")throw await ce.auth.signOut(),new Error("Access denied. Admin privileges required.");m("/admin/dashboard")}catch(b){p(b.message)}finally{d(!1)}};return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md bg-surface border border-border rounded-2xl p-8 shadow-2xl",children:[o.jsxs("div",{className:"flex flex-col items-center mb-8",children:[o.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4",children:o.jsx(iw,{className:"w-6 h-6 text-primary"})}),o.jsx("h1",{className:"text-2xl font-bold text-white font-display",children:"Admin Access"}),o.jsx("p",{className:"text-text-muted text-sm mt-2",children:"Restricted area. Authorized personnel only."})]}),f&&o.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg flex items-start gap-3 text-red-400 text-sm",children:[o.jsx(kg,{className:"w-5 h-5 shrink-0"}),o.jsx("p",{children:f})]}),o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-text-muted uppercase tracking-wider mb-1.5",children:"Email"}),o.jsx("input",{type:"email",value:i,onChange:x=>a(x.target.value),className:"w-full bg-background border border-border rounded-lg px-4 py-2.5 text-white focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",placeholder:"admin@example.com",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-text-muted uppercase tracking-wider mb-1.5",children:"Password"}),o.jsx("input",{type:"password",value:r,onChange:x=>l(x.target.value),className:"w-full bg-background border border-border rounded-lg px-4 py-2.5 text-white focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",placeholder:"",required:!0})]}),o.jsx("button",{type:"submit",disabled:u,className:"w-full bg-primary hover:bg-primary-hover text-black font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 mt-2",children:u?o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Authenticating..."})]}):o.jsx("span",{children:"Sign In"})})]})]})})},My=i=>{if(!i)return"-";const a=new Date(i),r=String(a.getDate()).padStart(2,"0"),l=String(a.getMonth()+1).padStart(2,"0"),u=a.getFullYear();return`${r}/${l}/${u}`},bj=i=>{if(!i)return"-";const a=new Date(i),r=String(a.getDate()).padStart(2,"0"),l=String(a.getMonth()+1).padStart(2,"0"),u=a.getFullYear(),d=String(a.getHours()).padStart(2,"0"),f=String(a.getMinutes()).padStart(2,"0");return`${r}/${l}/${u} ${d}:${f}`},og=({isOpen:i,onClose:a,onConfirm:r,title:l,message:u,type:d="danger",confirmText:f="Confirm",cancelText:p="Cancel"})=>i?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fadeIn",onClick:a,children:o.jsxs("div",{className:"relative w-full max-w-md bg-[#111] border border-[#333] rounded-2xl shadow-2xl overflow-hidden animate-sleekOpen",onClick:m=>m.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-[#222]",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:Ce("w-10 h-10 rounded-full flex items-center justify-center border",d==="danger"?"bg-red-500/10 border-red-500/20 text-red-500":"bg-green-500/10 border-green-500/20 text-green-500"),children:d==="danger"?o.jsx(Nw,{className:"w-5 h-5"}):o.jsx(Ib,{className:"w-5 h-5"})}),o.jsx("h3",{className:"text-lg font-bold text-white",children:l})]}),o.jsx("button",{onClick:a,className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(an,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-6",children:o.jsx("p",{className:"text-gray-300 leading-relaxed",children:u})}),o.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 bg-[#1a1a1a] border-t border-[#222]",children:[o.jsx("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white transition-colors",children:p}),o.jsx("button",{onClick:()=>{r(),a()},className:Ce("px-4 py-2 text-sm font-bold rounded-lg transition-all shadow-lg",d==="danger"?"bg-red-500 hover:bg-red-600 text-white shadow-red-500/20":"bg-primary hover:bg-primary-hover text-black shadow-primary/20"),children:f})]})]})}):null,wj=({isOpen:i,onClose:a,submission:r})=>{const[l,u]=Xa.useState(!1),[d,f]=Xa.useState(!1);Xa.useEffect(()=>{if(i)u(!0),f(!1);else{f(!0);const g=setTimeout(()=>{u(!1),f(!1)},400);return()=>clearTimeout(g)}},[i]),Xa.useEffect(()=>{const g=x=>{x.key==="Escape"&&p()};return i&&window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[i]);const p=()=>{f(!0),a()};if(!l&&!i||!r)return null;const m=({icon:g,label:x,value:b})=>o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white/5 border border-white/5",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:o.jsx(g,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-text-muted mb-0.5",children:x}),o.jsx("p",{className:"text-sm font-medium text-white",children:b||"N/A"})]})]});return o.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm ${d?"animate-fadeOut":"animate-fadeIn"}`,onClick:p,children:o.jsxs("div",{className:`relative w-full max-w-2xl bg-[#111] border border-[#333] rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${d?"animate-sleekClose":"animate-sleekOpen"}`,onClick:g=>g.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-[#222]",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:r.fund_name}),o.jsxs("p",{className:"text-sm text-text-muted mt-1",children:["Submitted on ",My(r.created_at)]})]}),o.jsx("button",{onClick:p,className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(an,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-6 overflow-y-auto space-y-6",children:[o.jsx("div",{className:`p-4 rounded-xl border ${r.status==="approved"?"bg-green-500/10 border-green-500/20":r.status==="rejected"?"bg-red-500/10 border-red-500/20":"bg-yellow-500/10 border-yellow-500/20"}`,children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:`text-sm font-bold uppercase tracking-wider ${r.status==="approved"?"text-green-400":r.status==="rejected"?"text-red-400":"text-yellow-400"}`,children:r.status}),r.processed_by_email&&o.jsxs("span",{className:"text-xs text-text-muted",children:["Processed by ",r.processed_by_email]})]}),r.processed_at&&o.jsxs("p",{className:"text-xs text-text-muted/70",children:[r.status==="approved"?"Approved":"Rejected"," on ",new Date(r.processed_at).toLocaleString()]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(m,{icon:Bb,label:"Fund Manager",value:r.manager}),o.jsx(m,{icon:ii,label:"Category",value:r.category}),o.jsx(m,{icon:Za,label:"Annual Return",value:`${r.return_1y}%`}),o.jsx(m,{icon:yw,label:"Risk Level",value:r.risk_level}),o.jsx(m,{icon:Pl,label:"Min Investment",value:r.min_investment?.toLocaleString()}),o.jsx(m,{icon:Jr,label:"Fees",value:r.fees})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-text-muted mb-2",children:"Description"}),o.jsx("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 text-sm text-gray-300 leading-relaxed",children:r.description})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-text-muted mb-2",children:"Strategy"}),o.jsx("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 text-sm text-gray-300 leading-relaxed",children:r.strategy})]})]})]})]})})},Ka=({initialTab:i="submissions"})=>{const a=gi(),{showToast:r}=wd(),[l,u]=j.useState(i);j.useEffect(()=>{u(i)},[i]);const d=()=>{switch(l){case"overview":return"Dashboard Overview";case"submissions":return"Fund Requests";case"funds":return"Live Funds";case"ads":return"Ad Requests";case"live_ads":return"Live Ads";case"logs":return"Audit Logs";default:return"Admin Dashboard"}},[f,p]=j.useState([]),[m,g]=j.useState([]),[x,b]=j.useState([]),[_,N]=j.useState([]),[S,C]=j.useState(0),[R,M]=j.useState(!0),[O,k]=j.useState(null),[X,ie]=j.useState("all"),[le,Q]=j.useState("all"),[I,re]=j.useState("requests"),[Ne,we]=j.useState(""),[pe,_e]=j.useState("all"),[ee,Re]=j.useState(1),q=100,[Y,te]=j.useState({isOpen:!1,type:null,data:null}),[ye,Z]=j.useState({isOpen:!1,submission:null}),[E,V]=j.useState(null),[P,J]=j.useState(null),[oe,xe]=j.useState(new Set),[Ee,ht]=j.useState({funds:{},ads:{}}),{settings:He,updateSetting:_a,loading:ja}=Dy(),[Pn,Sa]=j.useState(null),[vt,is]=j.useState(null);j.useEffect(()=>{ls(),Wa();const v=ce.channel("admin-funds").on("postgres_changes",{event:"*",schema:"public",table:"funds"},()=>{Wa()}).subscribe(),H=ce.channel("admin-submissions").on("postgres_changes",{event:"*",schema:"public",table:"fund_submissions"},()=>{Wa()}).subscribe(),W=ce.channel("admin-ads").on("postgres_changes",{event:"*",schema:"public",table:"ads"},()=>{Wa()}).subscribe();return()=>{ce.removeChannel(v),ce.removeChannel(H),ce.removeChannel(W)}},[]);const ls=async()=>{const{data:{user:v}}=await ce.auth.getUser();is(v)},Wa=async()=>{M(!0);try{const{count:v,error:H}=await ce.from("funds").select("*",{count:"exact",head:!0}).eq("status","active");if(H)throw H;C(v||0);const{data:W,error:me}=await ce.from("fund_submissions").select("*").order("created_at",{ascending:!1});if(me)throw me;p(W||[]);const{data:F,error:De}=await ce.from("funds").select("*").order("created_at",{ascending:!1});if(De)throw De;g(F||[]);const{data:Kt,error:Ke}=await ce.from("ads").select("*").order("display_order",{ascending:!0}).order("created_at",{ascending:!1});if(Ke)throw Ke;b(Kt||[]);const{data:lt,error:ln}=await ce.from("admin_logs").select("*").order("created_at",{ascending:!1}).limit(50);if(ln)throw ln;N(lt||[]);const{data:Sn,error:ar}=await ce.from("analytics_events").select("event_type, target_id, target_type");if(ar)throw ar;const Dt={funds:{},ads:{}};let ds=0,on=0;Sn.forEach(Le=>{Le.target_type==="fund"?(Dt.funds[Le.target_id]||(Dt.funds[Le.target_id]={clicks:0}),Le.event_type==="fund_click"&&(Dt.funds[Le.target_id].clicks++,ds++)):Le.target_type==="ad"&&(Dt.ads[Le.target_id]||(Dt.ads[Le.target_id]={views:0,clicks:0}),Le.event_type==="ad_view"&&Dt.ads[Le.target_id].views++,Le.event_type==="ad_click"&&(Dt.ads[Le.target_id].clicks++,on++))}),Object.defineProperty(Dt.funds,"total_clicks",{value:ds,enumerable:!1}),Object.defineProperty(Dt.ads,"total_clicks",{value:on,enumerable:!1}),ht(Dt)}catch(v){console.error("Error fetching data:",v)}finally{M(!1)}},sn=async(v,H,W,me={})=>{if(vt)try{await ce.from("admin_logs").insert([{admin_id:vt.id,admin_email:vt.email,action:v,target_type:H,target_id:W,details:me}]);const{data:F}=await ce.from("admin_logs").select("*").order("created_at",{ascending:!1}).limit(50);F&&N(F)}catch(F){console.error("Error logging action:",F)}},os=async()=>{await ce.auth.signOut(),a("/admin/login")},us=async v=>{k(v.id);try{const{error:H}=await ce.from("funds").insert([{name_en:v.fund_name,name_ar:v.fund_name,description_en:v.description,description_ar:v.description,category:v.category,risk_level:v.risk_level,return_1y:v.return_1y,min_investment:v.min_investment,fees:v.fees,strategy_en:v.strategy,strategy_ar:v.strategy,manager_en:v.manager||"Unknown",manager_ar:v.manager||"Unknown",status:"active"}]);if(H)throw H;const W={status:"approved",processed_by_email:vt?.email,processed_at:new Date().toISOString()},{error:me}=await ce.from("fund_submissions").update(W).eq("id",v.id);if(me)throw me;await sn("approve","submission",v.id,{fund_name:v.fund_name,fund_manager:v.manager}),p(F=>F.map(De=>De.id===v.id?{...De,...W}:De)),C(F=>F+1),r(`Fund ${v.fund_name} approved successfully`,"success")}catch(H){console.error("Error approving fund:",H),r("Error approving fund: "+H.message,"error")}finally{k(null)}},er=v=>{te({isOpen:!0,title:"Approve Submission",message:`Are you sure you want to approve "${v.fund_name}"? This will publish the fund to the live website.`,type:"success",confirmText:"Approve & Publish",onConfirm:()=>us(v)})},io=async(v,H)=>{k(v);try{const W={status:"rejected",processed_by_email:vt?.email,processed_at:new Date().toISOString()},{error:me}=await ce.from("fund_submissions").update(W).eq("id",v);if(me)throw me;await sn("reject","submission",v,{fund_name:H,fund_manager:f.find(F=>F.id===v)?.manager}),p(F=>F.map(De=>De.id===v?{...De,...W}:De)),r(`Fund ${H} request rejected`,"success")}catch(W){console.error("Error rejecting submission:",W),r("Error rejecting submission","error")}finally{k(null)}},lo=(v,H)=>{te({isOpen:!0,title:"Reject Submission",message:`Are you sure you want to reject "${H}"? You can re-approve it later if needed.`,type:"danger",confirmText:"Reject Submission",onConfirm:()=>io(v,H)})},wt=async v=>{k(v.id);const H=v.status==="active"?"hidden":"active";try{const{error:W}=await ce.rpc("toggle_fund_status",{fund_id:v.id,new_status:H});if(W)throw W;await sn("toggle_fund","fund",v.id,{new_status:H,fund_name:v.name_en}),g(me=>me.map(F=>F.id===v.id?{...F,status:H}:F)),C(H==="active"?me=>me+1:me=>me-1),r(`Fund ${v.name_en} ${H==="active"?"activated":"hidden"} successfully`,"success")}catch(W){console.error("Error updating fund:",W),r("Error updating fund status","error")}finally{k(null)}},oo=v=>{const H=v.status==="active";te({isOpen:!0,title:H?"Hide Fund":"Activate Fund",message:H?`Are you sure you want to hide "${v.name_en}"? It will no longer be visible to users.`:`Are you sure you want to activate "${v.name_en}"? It will be visible to all users.`,type:H?"danger":"success",confirmText:H?"Hide Fund":"Activate Fund",onConfirm:()=>wt(v)})},cs=async v=>{k(v.id);const H=v.status==="active"?"inactive":"active";try{const{error:W}=await ce.rpc("toggle_ad_status",{ad_id:v.id,new_status:H});if(W)throw W;await sn("toggle_ad","ad",v.id,{new_status:H,company:v.company_name}),b(me=>me.map(F=>F.id===v.id?{...F,status:H}:F)),r(`Ad ${v.company_name} ${H==="active"?"activated":"deactivated"} successfully`,"success")}catch(W){console.error("Error updating ad:",W),r("Error updating ad status","error")}finally{k(null)}},xi=async v=>{if(confirm(`Are you sure you want to decline the ad request from ${v.company_name}?`)){k(v.id);try{const{error:H}=await ce.rpc("toggle_ad_status",{ad_id:v.id,new_status:"rejected"});if(H)throw H;await sn("reject_ad","ad",v.id,{company:v.company_name}),b(W=>W.map(me=>me.id===v.id?{...me,status:"rejected"}:me)),r(`Ad request from ${v.company_name} declined`,"success")}catch(H){console.error("Error declining ad:",H),r("Error declining ad","error")}finally{k(null)}}},Na=async(v,H)=>{const W=x.filter(Ke=>Ke.status==="active").sort((Ke,lt)=>(Ke.display_order||0)-(lt.display_order||0)),me=W.findIndex(Ke=>Ke.id===v.id);if(me===-1)return;const F=me+H;if(F<0||F>=W.length)return;const De=[...W];[De[me],De[F]]=[De[F],De[me]];const Kt=De.map((Ke,lt)=>({...Ke,display_order:lt+1}));b(Ke=>[...Ke.filter(ln=>ln.status!=="active"),...Kt].sort((ln,Sn)=>ln.status==="active"&&Sn.status==="active"?(ln.display_order||0)-(Sn.display_order||0):new Date(Sn.created_at)-new Date(ln.created_at)));try{const{error:Ke}=await ce.rpc("reorder_ads",{ad_ids:Kt.map(lt=>lt.id)});if(Ke)throw Ke}catch(Ke){console.error("Error reordering ads:",Ke)}},uo=async v=>{try{if(k(v.id),v.is_promoted){const{error:H}=await ce.rpc("clear_promoted_funds");if(H)throw H;g(W=>W.map(me=>({...me,is_promoted:!1}))),r(`Fund ${v.name_en} promotion removed`,"success"),await sn("unpromote_fund","fund",v.id,{name:v.name_en})}else{const{error:H}=await ce.rpc("set_promoted_fund",{fund_id:v.id});if(H)throw H;g(W=>W.map(me=>({...me,is_promoted:me.id===v.id}))),r(`Fund ${v.name_en} promoted successfully`,"success"),await sn("promote_fund","fund",v.id,{name:v.name_en})}}catch(H){console.error("Error updating promotion:",H),r("Error updating promotion","error")}finally{k(null)}},bi=v=>{J({id:v.id,name_en:v.name_en,manager_en:v.manager_en,category:v.category,risk_level:v.risk_level,return_1y:v.return_1y,return_ytd:v.return_ytd,return_3y:v.return_3y,return_5y:v.return_5y,min_investment:v.min_investment,fees:v.fees,description_en:v.description_en,strategy_en:v.strategy_en}),te({isOpen:!0,type:"edit_fund",data:v})},co=async()=>{if(P){k(P.id);try{const{error:v}=await ce.from("funds").update({name_en:P.name_en,manager_en:P.manager_en,category:P.category,risk_level:P.risk_level,return_1y:P.return_1y,return_ytd:P.return_ytd,return_3y:P.return_3y,return_5y:P.return_5y,min_investment:P.min_investment,fees:P.fees,description_en:P.description_en,strategy_en:P.strategy_en}).eq("id",P.id);if(v)throw v;g(H=>H.map(W=>W.id===P.id?{...W,...P}:W)),Ct(),r(`Fund ${P.name_en} details updated successfully`,"success")}catch(v){console.error("Error updating fund:",v),r("Error updating fund details","error")}finally{k(null)}}},ho=v=>{const H=new Set(oe);H.has(v)?H.delete(v):H.add(v),xe(H)},Fn=async v=>{if(oe.size===0)return;const H=`Are you sure you want to ${v==="active"?"activate":"hide"} ${oe.size} funds?`;te({isOpen:!0,title:v==="active"?"Activate Funds":"Hide Funds",message:H,type:v==="active"?"success":"danger",confirmText:v==="active"?"Activate":"Hide",onConfirm:()=>_t(v)})},_t=async v=>{k("bulk");try{const{error:H}=await ce.rpc("bulk_update_fund_status",{fund_ids:Array.from(oe),new_status:v});if(H)throw H;g(W=>W.map(me=>oe.has(me.id)?{...me,status:v}:me)),xe(new Set),await sn("bulk_update","fund","bulk",{action:v,count:oe.size}),r(`${oe.size} funds ${v==="active"?"activated":"hidden"} successfully`,"success")}catch(H){console.error("Error performing bulk action:",H),r("Error updating funds","error")}finally{k(null)}},yn=v=>{V({id:v.id,company_name:v.company_name,image_url:v.image_url||"",text_en:v.text_en||"",expires_at:v.expires_at?new Date(v.expires_at).toISOString().split("T")[0]:""}),te({isOpen:!0,type:"edit_ad",data:v})},jt=async v=>{const H=v.target.files[0];if(H){if(!H.type.startsWith("image/")){r("Please upload an image file","error");return}if(H.size>2*1024*1024){r("File size must be less than 2MB","error");return}k("uploading");try{const W=H.name.split(".").pop(),F=`ads/${`${Math.random().toString(36).substring(2)}.${W}`}`,{error:De}=await ce.storage.from("logos").upload(F,H);if(De)throw De;const{data:{publicUrl:Kt}}=ce.storage.from("logos").getPublicUrl(F);V(Ke=>({...Ke,image_url:Kt}))}catch(W){console.error("Error uploading file:",W),r("Error uploading file","error")}finally{k(null)}}},fo=async()=>{if(E){k(E.id);try{const{error:v}=await ce.from("ads").update({image_url:E.image_url,text_en:E.text_en,expires_at:E.expires_at||null}).eq("id",E.id);if(v)throw v;b(H=>H.map(W=>W.id===E.id?{...W,image_url:E.image_url,text_en:E.text_en,expires_at:E.expires_at}:W)),te({isOpen:!1,type:null,data:null}),V(null),r(`Ad ${E.company_name} details updated successfully`,"success")}catch(v){console.error("Error updating ad:",v),r("Error updating ad details","error")}finally{k(null)}}},wi=v=>v.target_type!=="submission"?null:f.find(H=>H.id===v.target_id),[_d,tr]=j.useState({left:0,width:0}),nr=Xa.useRef({});j.useEffect(()=>{const v=nr.current[l];v&&tr({left:v.offsetLeft,width:v.offsetWidth})},[l]);const Ct=()=>{const v=document.getElementById("edit-ad-modal"),H=document.getElementById("edit-ad-backdrop");v&&H?(v.classList.remove("animate-sleekOpen"),v.classList.add("animate-sleekClose"),H.classList.remove("animate-fadeIn"),H.classList.add("animate-fadeOut"),setTimeout(()=>{te({isOpen:!1,type:null,data:null}),V(null),J(null)},300)):(te({isOpen:!1,type:null,data:null}),V(null),J(null))};j.useEffect(()=>{const v=H=>{H.key==="Escape"&&Y.isOpen&&Ct()};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[Y.isOpen]);const jn=async()=>{if(!Pn)return;const v=parseInt(Pn);if(isNaN(v)||v<0){r("Please enter a valid price","error");return}k("price");try{const{error:H}=await _a("ad_price",{currency:"EGP",period:"month",...He.ad_price,amount:v});if(H)throw H;r("Ad price updated successfully","success"),Sa(null)}catch(H){console.error("Error updating price:",H),r(`Error updating price: ${H.message||"Unknown error"}`,"error")}finally{k(null)}};return o.jsxs("div",{className:"min-h-screen bg-background text-text font-sans",children:[o.jsx(og,{isOpen:Y.isOpen&&!["edit_ad","edit_fund"].includes(Y.type),onClose:()=>te({isOpen:!1,type:null,data:null}),onConfirm:()=>{Y.onConfirm?Y.onConfirm():(Y.type==="approve"&&handleApprove(Y.data),Y.type==="reject"&&handleReject(Y.data),Y.type==="delete"&&handleDelete(Y.data))},title:Y.title||(Y.type==="approve"?"Approve Submission":Y.type==="reject"?"Reject Submission":"Delete Fund"),message:Y.message||(Y.type==="approve"?`Are you sure you want to approve ${Y.data?.fund_name}?`:Y.type==="reject"?`Are you sure you want to reject ${Y.data?.fund_name}?`:`Are you sure you want to delete ${Y.data?.name_en}? This action cannot be undone.`),confirmText:Y.confirmText||(Y.type==="approve"?"Approve":Y.type==="reject"?"Reject":"Delete"),type:Y.type==="approve"?"success":"danger"}),Y.isOpen&&Y.type==="edit_ad"&&o.jsx("div",{id:"edit-ad-backdrop",className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fadeIn",onClick:v=>{v.target.id==="edit-ad-backdrop"&&Ct()},children:o.jsxs("div",{id:"edit-ad-modal",className:"bg-surface border border-border rounded-xl w-full max-w-md p-6 shadow-2xl animate-sleekOpen relative",children:[o.jsx("button",{onClick:Ct,className:"absolute top-4 right-4 p-1 text-text-muted hover:text-white transition-colors",children:o.jsx(an,{className:"w-5 h-5"})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Edit Advertisement"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-text-muted mb-1.5",children:"Company Name"}),o.jsx("input",{type:"text",value:E?.company_name||"",disabled:!0,className:"w-full bg-black/20 border border-border rounded-lg px-3 py-2 text-sm text-text-muted cursor-not-allowed"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-text-muted mb-1.5",children:"Logo Image"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-20 h-20 bg-black/20 border border-border rounded-lg flex items-center justify-center overflow-hidden relative group",children:E?.image_url?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:E.image_url,alt:"Preview",className:"w-full h-full object-contain p-1"}),o.jsx("button",{onClick:()=>V(v=>({...v,image_url:""})),className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(an,{className:"w-5 h-5 text-white"})})]}):o.jsx("span",{className:"text-xs text-text-muted",children:"No Logo"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:jt,className:"hidden",id:"logo-upload",disabled:O==="uploading"}),o.jsx("label",{htmlFor:"logo-upload",className:`inline-flex items-center justify-center px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg text-sm font-medium text-white cursor-pointer transition-colors ${O==="uploading"?"opacity-50 cursor-not-allowed":""}`,children:O==="uploading"?o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):"Upload New Logo"}),o.jsx("p",{className:"mt-2 text-[10px] text-text-muted",children:"Recommended size: 200x100px. Max 2MB."})]})]}),o.jsx("div",{className:"relative",children:o.jsx("input",{type:"text",value:E?.image_url||"",onChange:v=>V({...E,image_url:v.target.value}),placeholder:"Or paste image URL...",className:"w-full bg-surface border border-border rounded-lg px-3 py-2 text-xs text-text-muted focus:outline-none focus:border-primary transition-colors"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-text-muted mb-1.5",children:"Ad Text"}),o.jsx("input",{type:"text",value:E?.text_en||"",onChange:v=>V({...E,text_en:v.target.value}),className:"w-full bg-surface border border-border rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-primary transition-colors"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-text-muted mb-1.5",children:"Expiration Date"}),o.jsx("input",{type:"date",value:E?.expires_at||"",onChange:v=>V({...E,expires_at:v.target.value}),className:"w-full bg-surface border border-border rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-primary transition-colors [color-scheme:dark]"}),o.jsxs("div",{className:"flex gap-2 mt-2",children:[o.jsx("button",{onClick:()=>{const v=new Date;v.setMonth(v.getMonth()+1),V({...E,expires_at:v.toISOString().split("T")[0]})},className:"text-[10px] px-2 py-1 bg-white/5 hover:bg-white/10 rounded text-text-muted hover:text-white transition-colors",children:"+1 Month"}),o.jsx("button",{onClick:()=>{const v=new Date,H=new Date(v.getFullYear(),v.getMonth()+1,0),W=H.getTimezoneOffset()*6e4,me=new Date(H.getTime()-W).toISOString().split("T")[0];V({...E,expires_at:me})},className:"text-[10px] px-2 py-1 bg-white/5 hover:bg-white/10 rounded text-text-muted hover:text-white transition-colors",children:"End of Month"})]})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{onClick:Ct,className:"flex-1 px-4 py-2 bg-surface hover:bg-surface-hover border border-border rounded-lg text-sm font-medium transition-colors",children:"Cancel"}),o.jsx("button",{onClick:fo,disabled:O===E?.id,className:"flex-1 px-4 py-2 bg-primary text-black hover:bg-primary-hover rounded-lg text-sm font-bold transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:O===E?.id?o.jsx(Vt,{className:"w-4 h-4 animate-spin"}):"Save Changes"})]})]})}),o.jsx(wj,{isOpen:ye.isOpen,onClose:()=>Z(v=>({...v,isOpen:!1})),submission:ye.submission}),o.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-6",children:o.jsxs("div",{className:"bg-surface border border-border rounded-2xl p-4 flex items-center justify-between shadow-lg shadow-black/20",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"p-3 bg-primary/10 rounded-xl",children:[l==="overview"&&o.jsx(Cg,{className:"w-6 h-6 text-primary"}),l==="submissions"&&o.jsx(Jr,{className:"w-6 h-6 text-primary"}),l==="funds"&&o.jsx(Fr,{className:"w-6 h-6 text-primary"}),l==="ads"&&o.jsx(Wr,{className:"w-6 h-6 text-primary"}),l==="live_ads"&&o.jsx(Mg,{className:"w-6 h-6 text-primary"}),l==="logs"&&o.jsx(Ag,{className:"w-6 h-6 text-primary"})]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-white font-display",children:d()}),o.jsx("p",{className:"text-xs text-text-muted mt-0.5",children:"Manage your platform content"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[vt&&o.jsxs("div",{className:"text-right hidden md:block",children:[o.jsx("p",{className:"text-sm font-bold text-white",children:vt.user_metadata?.full_name||"Admin"}),o.jsx("p",{className:"text-[10px] text-text-muted",children:vt.email})]}),o.jsx("div",{className:"h-8 w-px bg-white/10 hidden md:block"}),o.jsx("button",{onClick:os,className:"p-2 text-text-muted hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Sign Out",children:o.jsx(Dg,{className:"w-5 h-5"})})]})]})}),o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx("div",{className:"space-y-6",children:l==="overview"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-surface border border-border rounded-xl p-6 relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(Pl,{className:"w-16 h-16 text-green-400"})}),o.jsx("div",{className:"flex items-center justify-between mb-4 relative z-10",children:o.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:o.jsx(Pl,{className:"w-5 h-5 text-green-400"})})}),o.jsx("h3",{className:"text-text-muted text-sm font-medium relative z-10",children:"Est. Monthly Revenue"}),o.jsx("p",{className:"text-2xl font-bold text-white mt-1 relative z-10",children:ja?o.jsxs("div",{className:"relative flex h-6 w-6 items-center justify-center",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}):new Intl.NumberFormat("en-US",{style:"currency",currency:He?.ad_price?.currency||"EGP"}).format(x.filter(v=>v.status==="active").length*(He?.ad_price?.amount||1e4))}),o.jsxs("p",{className:"text-xs font-normal text-text-muted mt-1 relative z-10",children:["(from ",x.filter(v=>v.status==="active").length," active ads)"]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-white/5 relative z-10",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-text-muted",children:"Ad Price / Month"}),Pn!==null?o.jsxs("div",{className:"flex gap-1 items-center z-20 relative",children:[o.jsx("input",{type:"number",value:Pn,onChange:v=>Sa(v.target.value),className:"w-24 bg-black/40 border border-border rounded px-2 py-1 text-sm text-white focus:outline-none focus:border-primary",autoFocus:!0,onClick:v=>v.stopPropagation()}),o.jsx("button",{onClick:v=>{v.stopPropagation(),jn()},className:"p-1 bg-primary text-black rounded hover:bg-primary-hover flex items-center justify-center",children:o.jsx(Yn,{className:"w-3 h-3"})}),o.jsx("button",{onClick:v=>{v.stopPropagation(),Sa(null)},className:"p-1 bg-white/10 text-white rounded hover:bg-white/20 flex items-center justify-center",children:o.jsx(an,{className:"w-3 h-3"})})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium text-white",children:ja?o.jsx("span",{className:"inline-block w-20 h-5 bg-white/10 rounded animate-pulse"}):new Intl.NumberFormat("en-US",{style:"currency",currency:He?.ad_price?.currency||"EGP"}).format(He?.ad_price?.amount||1e4)}),o.jsx("button",{onClick:()=>Sa(He?.ad_price?.amount||1e4),className:"text-[10px] font-bold text-blue-400 hover:text-blue-300 transition-colors",children:"Edit"})]})]})})]}),o.jsxs("div",{className:"bg-surface border border-border rounded-xl p-6 relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(Fr,{className:"w-16 h-16 text-blue-400"})}),o.jsx("div",{className:"flex items-center justify-between mb-4 relative z-10",children:o.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:o.jsx(Fr,{className:"w-5 h-5 text-blue-400"})})}),o.jsx("h3",{className:"text-text-muted text-sm font-medium relative z-10",children:"Active Funds"}),o.jsx("p",{className:"text-2xl font-bold text-white mt-1 relative z-10 flex items-center gap-2",children:R?o.jsxs("div",{className:"relative flex h-6 w-6 items-center justify-center",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-blue-500"})]}):o.jsxs(o.Fragment,{children:[m.filter(v=>v.status==="active").length,o.jsxs("span",{className:"text-sm font-normal text-text-muted ml-2",children:["(",m.filter(v=>v.status!=="active").length," Hidden)"]})]})}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 relative z-10",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("span",{className:"text-xs text-text-muted",children:"Top Performer (1Y)"})}),m.length>0&&o.jsxs("div",{className:"flex items-center justify-between mt-1",children:[o.jsx("span",{className:"text-xs font-medium text-white truncate max-w-[120px]",children:[...m].sort((v,H)=>H.return_1y-v.return_1y)[0]?.name_en}),o.jsxs("span",{className:"text-xs font-bold text-green-400",children:[parseFloat([...m].sort((v,H)=>H.return_1y-v.return_1y)[0]?.return_1y).toFixed(2),"%"]})]})]})]}),o.jsxs("div",{className:"bg-surface border border-border rounded-xl p-6 relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(Jr,{className:"w-16 h-16 text-yellow-400"})}),o.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[o.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-lg",children:o.jsx(Jr,{className:"w-5 h-5 text-yellow-400"})}),f.filter(v=>v.status==="pending").length>0&&o.jsxs("span",{className:"text-xs font-bold text-yellow-400 bg-yellow-500/10 px-2 py-1 rounded-full animate-pulse",children:[f.filter(v=>v.status==="pending").length," Pending"]})]}),o.jsx("h3",{className:"text-text-muted text-sm font-medium relative z-10",children:"Total Requests"}),o.jsx("p",{className:"text-2xl font-bold text-white mt-1 relative z-10",children:R?o.jsxs("div",{className:"relative flex h-6 w-6 items-center justify-center",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-yellow-500"})]}):f.length}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 relative z-10",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-text-muted",children:"Approval Rate"}),o.jsxs("span",{className:"text-xs font-bold text-white",children:[f.length>0?Math.round(f.filter(v=>v.status==="approved").length/f.length*100):0,"%"]})]}),o.jsx("div",{className:"w-full bg-white/10 h-1 rounded-full mt-2 overflow-hidden",children:o.jsx("div",{className:"bg-yellow-400 h-full rounded-full",style:{width:`${f.length>0?f.filter(v=>v.status==="approved").length/f.length*100:0}%`}})})]})]}),o.jsxs("div",{className:"bg-surface border border-border rounded-xl p-6 relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(ii,{className:"w-16 h-16 text-purple-400"})}),o.jsx("div",{className:"flex items-center justify-between mb-4 relative z-10",children:o.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:o.jsx(ii,{className:"w-5 h-5 text-purple-400"})})}),o.jsx("h3",{className:"text-text-muted text-sm font-medium relative z-10",children:"Total Clicks"}),o.jsx("p",{className:"text-2xl font-bold text-white mt-1 relative z-10",children:R?o.jsxs("div",{className:"relative flex h-6 w-6 items-center justify-center",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-purple-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-purple-500"})]}):Ee.ads.total_clicks+Ee.funds.total_clicks}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 relative z-10 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsx("span",{className:"text-text-muted",children:"Fund Clicks"}),o.jsx("span",{className:"text-white",children:Ee.funds.total_clicks})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsx("span",{className:"text-text-muted",children:"Ad Clicks"}),o.jsx("span",{className:"text-white",children:Ee.ads.total_clicks})]})]})]})]})}),R?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx(Vt,{className:"w-8 h-8 animate-spin text-primary"})}):o.jsxs("div",{className:"space-y-4 animate-fadeIn",children:[l==="submissions"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:["all","pending","approved","rejected"].map(v=>{const H=v==="all"?f.length:f.filter(W=>W.status===v).length;return o.jsxs("button",{onClick:()=>ie(v),className:`px-3 py-1.5 rounded-lg text-xs font-medium capitalize transition-colors whitespace-nowrap ${X===v?"bg-white text-black":"bg-surface border border-border text-text-muted hover:text-white"}`,children:[v," ",o.jsxs("span",{className:"opacity-60 ml-0.5",children:["(",H,")"]})]},v)})}),f.filter(v=>X==="all"||v.status===X).length===0?o.jsx("div",{className:"text-center py-12 text-text-muted bg-surface rounded-xl border border-border",children:"No submissions found"}):f.filter(v=>X==="all"||v.status===X).map(v=>o.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 flex flex-col gap-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3 border-b border-border pb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[o.jsx("h3",{className:"text-lg font-bold text-white",children:v.fund_name||"-"}),o.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider ${v.status==="approved"?"bg-green-500 text-black":v.status==="pending"?"bg-yellow-500 text-black":"bg-red-500 text-white"}`,children:v.status})]}),o.jsxs("p",{className:"text-xs text-text-muted",children:["Managed by ",o.jsx("span",{className:"text-white font-medium",children:v.manager||"-"})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[v.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>lo(v.id,v.fund_name),disabled:O===v.id,className:"px-3 py-1.5 bg-red-500/10 text-red-400 hover:bg-red-500/20 rounded-lg text-xs font-medium transition-colors disabled:opacity-50",children:"Reject"}),o.jsxs("button",{onClick:()=>er(v),disabled:O===v.id,className:"px-3 py-1.5 bg-primary text-black hover:bg-primary-hover rounded-lg text-xs font-bold transition-colors flex items-center gap-1.5 disabled:opacity-50",children:[O===v.id?o.jsx(Vt,{className:"w-3 h-3 animate-spin"}):o.jsx(Yn,{className:"w-3 h-3"}),"Approve"]})]}),v.status==="rejected"&&o.jsxs("button",{onClick:()=>er(v),disabled:O===v.id,className:"px-3 py-1.5 bg-primary text-black hover:bg-primary-hover rounded-lg text-xs font-bold transition-colors flex items-center gap-1.5 disabled:opacity-50",children:[O===v.id?o.jsx(Vt,{className:"w-3 h-3 animate-spin"}):o.jsx(Yn,{className:"w-3 h-3"}),"Re-Approve"]})]}),v.processed_by_email&&o.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-500 bg-white/5 px-2 py-1.5 rounded-lg",children:[o.jsx(nw,{className:"w-3 h-3"}),o.jsxs("span",{children:["Processed by ",o.jsx("span",{className:"text-gray-300",children:v.processed_by_email}),o.jsxs("span",{className:"hidden md:inline",children:[" on ",My(v.processed_at)]})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[o.jsxs("div",{className:"bg-background/50 p-2 rounded-lg border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 text-text-muted text-[10px] mb-0.5",children:[o.jsx(Fr,{className:"w-3 h-3"}),"Category"]}),o.jsx("p",{className:"text-white text-sm font-medium",children:v.category||"-"})]}),o.jsxs("div",{className:"bg-background/50 p-2 rounded-lg border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 text-text-muted text-[10px] mb-0.5",children:[o.jsx(xw,{className:"w-3 h-3"}),"Risk Level"]}),o.jsx("p",{className:"text-white text-sm font-medium",children:v.risk_level||"-"})]}),o.jsxs("div",{className:"bg-background/50 p-2 rounded-lg border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 text-text-muted text-[10px] mb-0.5",children:[o.jsx(Za,{className:"w-3 h-3"}),"Annual Return"]}),o.jsx("p",{className:`text-sm font-bold ${v.return_1y>=0?"text-green-400":"text-red-400"}`,children:v.return_1y!==null&&v.return_1y!==void 0?`${v.return_1y}%`:"-"})]}),o.jsxs("div",{className:"bg-background/50 p-2 rounded-lg border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 text-text-muted text-[10px] mb-0.5",children:[o.jsx(Pl,{className:"w-3 h-3"}),"Min Investment"]}),o.jsx("p",{className:"text-white text-sm font-medium",children:v.min_investment?.toLocaleString()||"-"})]}),o.jsxs("div",{className:"bg-background/50 p-2 rounded-lg border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 text-text-muted text-[10px] mb-0.5",children:[o.jsx(Ug,{className:"w-3 h-3"}),"Fees"]}),o.jsx("p",{className:"text-white text-sm font-medium",children:v.fees?`${v.fees}%`:"-"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"bg-background/50 p-2 rounded-lg border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 text-text-muted text-[10px] mb-0.5",children:[o.jsx(ii,{className:"w-3 h-3"}),"Strategy"]}),o.jsx("p",{className:"text-white text-xs leading-relaxed",children:v.strategy||"-"})]}),o.jsxs("div",{className:"bg-background/30 p-3 rounded-lg border border-border",children:[o.jsx("h4",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider mb-1",children:"Description"}),o.jsx("p",{className:"text-xs text-gray-300 leading-relaxed whitespace-pre-wrap",children:v.description||"-"})]})]})]},v.id))]}),l==="funds"&&(()=>{const v=[...new Set(m.map(F=>F.manager_en))].sort(),H=m.filter(F=>{const De=F.name_en.toLowerCase().includes(Ne.toLowerCase())||F.manager_en.toLowerCase().includes(Ne.toLowerCase()),Kt=pe==="all"||F.manager_en===pe;return De&&Kt}),W=Math.ceil(H.length/q),me=H.slice((ee-1)*q,ee*q);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx("input",{type:"text",placeholder:"Search funds by name or manager...",value:Ne,onChange:F=>{we(F.target.value),Re(1)},className:"w-full bg-surface border border-border rounded-lg pl-10 pr-4 py-2 text-sm text-white focus:outline-none focus:border-primary transition-colors"}),o.jsx(ci,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"})]}),o.jsx("div",{className:"w-full md:w-64",children:o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:pe,onChange:F=>{_e(F.target.value),Re(1)},className:"w-full bg-surface border border-border rounded-lg pl-4 pr-10 py-2 text-sm text-white focus:outline-none focus:border-primary appearance-none cursor-pointer",children:[o.jsx("option",{value:"all",children:"All Managers"}),v.map(F=>o.jsx("option",{value:F,children:F},F))]}),o.jsx(kc,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted pointer-events-none"})]})})]}),H.length===0?o.jsxs("div",{className:"text-center py-12 bg-surface border border-border rounded-xl",children:[o.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-3",children:o.jsx(ci,{className:"w-6 h-6 text-text-muted"})}),o.jsx("p",{className:"text-text-muted",children:"No funds found matching your criteria"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-surface border border-border rounded-xl overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-[#1a1a1a] text-text-muted border-b border-border",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 w-10",children:o.jsx("button",{onClick:F=>{const De=me.map(lt=>lt.id),Kt=De.every(lt=>oe.has(lt)),Ke=new Set(oe);Kt?De.forEach(lt=>Ke.delete(lt)):De.forEach(lt=>Ke.add(lt)),xe(Ke)},className:`w-5 h-5 rounded-md border flex items-center justify-center transition-all ${me.length>0&&me.every(F=>oe.has(F.id))?"bg-primary border-primary text-black":"border-white/20 bg-white/5 hover:border-white/40"}`,children:me.length>0&&me.every(F=>oe.has(F.id))&&o.jsx(Yn,{className:"w-3.5 h-3.5",strokeWidth:3})})}),o.jsx("th",{className:"px-4 py-2 font-medium",children:"Fund"}),o.jsx("th",{className:"px-4 py-2 font-medium",children:"Category / Risk"}),o.jsx("th",{className:"px-4 py-2 font-medium text-center",children:"Clicks"}),o.jsx("th",{className:"px-4 py-2 font-medium text-right",children:"Returns"}),o.jsx("th",{className:"px-4 py-2 font-medium text-right",children:"Min Inv / Fees"}),o.jsx("th",{className:"px-4 py-2 font-medium text-center",children:"Status"}),o.jsx("th",{className:"px-4 py-2 font-medium text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:me.map(F=>o.jsxs("tr",{className:`hover:bg-white/5 transition-colors group ${oe.has(F.id)?"bg-white/5":""}`,children:[o.jsx("td",{className:"px-4 py-2",children:o.jsx("button",{onClick:()=>ho(F.id),className:`w-5 h-5 rounded-md border flex items-center justify-center transition-all ${oe.has(F.id)?"bg-primary border-primary text-black":"border-white/20 bg-white/5 hover:border-white/40"}`,children:oe.has(F.id)&&o.jsx(Yn,{className:"w-3.5 h-3.5",strokeWidth:3})})}),o.jsx("td",{className:"px-4 py-2",children:o.jsxs("div",{className:"flex items-center gap-3",children:[F.logo&&o.jsx("img",{src:F.logo,alt:F.name_en,className:"w-8 h-8 rounded-lg object-cover bg-white/5",onError:De=>{De.target.style.display="none",De.target.nextSibling.style.display="flex"}}),o.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center text-primary font-bold text-xs",style:{display:F.logo?"none":"flex"},children:F.name_en.substring(0,2).toUpperCase()}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-white",children:F.name_en}),o.jsx("div",{className:"text-xs text-text-muted",children:F.manager_en})]})]})}),o.jsxs("td",{className:"px-4 py-2",children:[o.jsx("div",{className:"text-white",children:F.category}),o.jsxs("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${F.risk_level==="High"||F.risk_level==="Very High"?"bg-red-500/10 text-red-400 border-red-500/20":F.risk_level==="Medium"?"bg-yellow-500/10 text-yellow-400 border-yellow-500/20":"bg-green-500/10 text-green-400 border-green-500/20"}`,children:[F.risk_level," Risk"]})]}),o.jsx("td",{className:"px-4 py-2 text-center",children:o.jsx("span",{className:"text-white font-mono",children:Ee.funds[F.id]?.clicks||0})}),o.jsxs("td",{className:"px-4 py-2 text-right",children:[o.jsxs("div",{className:`font-medium ${F.return_1y>=0?"text-green-400":"text-red-400"}`,children:[F.return_1y,"% ",o.jsx("span",{className:"text-[10px] text-text-muted",children:"1Y"})]}),o.jsxs("div",{className:`text-xs ${F.return_ytd>=0?"text-green-400":"text-red-400"}`,children:[F.return_ytd,"% ",o.jsx("span",{className:"text-[10px] text-text-muted",children:"YTD"})]})]}),o.jsxs("td",{className:"px-4 py-2 text-right",children:[o.jsx("div",{className:"text-white",children:F.min_investment?.toLocaleString()}),o.jsxs("div",{className:"text-xs text-text-muted",children:[F.fees,"% Fees"]})]}),o.jsx("td",{className:"px-4 py-2 text-center",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-bold border ${F.status==="active"?"bg-green-500/10 text-green-400 border-green-500/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:F.status==="active"?"Active":"Hidden"})}),o.jsx("td",{className:"px-4 py-3 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>uo(F),disabled:O===F.id,className:`p-1.5 rounded-lg transition-colors ${F.is_promoted?"bg-yellow-500/10 text-yellow-400 hover:bg-yellow-500/20":"bg-white/5 text-text-muted hover:text-yellow-400 hover:bg-white/10"}`,title:F.is_promoted?"Promoted Fund":"Promote Fund",children:o.jsx(ww,{className:`w-4 h-4 ${F.is_promoted?"fill-yellow-400":""}`})}),o.jsx("button",{onClick:()=>bi(F),className:"px-3 py-1.5 bg-white/5 text-white hover:bg-white/10 rounded-lg text-xs font-medium transition-colors",children:"Edit"}),o.jsx("button",{onClick:()=>oo(F),disabled:O===F.id,className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors disabled:opacity-50 ${F.status==="active"?"bg-red-500/10 text-red-400 hover:bg-red-500/20":"bg-green-500/10 text-green-400 hover:bg-green-500/20"}`,children:O===F.id?o.jsx(Vt,{className:"w-3 h-3 animate-spin"}):F.status==="active"?"Hide":"Activate"})]})})]},F.id))})]})})}),W>1&&o.jsxs("div",{className:"flex items-center justify-between border-t border-white/5 pt-2",children:[o.jsxs("div",{className:"text-sm text-text-muted",children:["Showing ",o.jsx("span",{className:"text-white font-medium",children:(ee-1)*q+1})," to ",o.jsx("span",{className:"text-white font-medium",children:Math.min(ee*q,H.length)})," of ",o.jsx("span",{className:"text-white font-medium",children:H.length})," results"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>Re(F=>Math.max(1,F-1)),disabled:ee===1,className:"p-2 rounded-lg border border-white/10 hover:bg-white/5 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o.jsx(Og,{className:"w-4 h-4 text-white"})}),o.jsxs("span",{className:"text-sm text-white font-medium px-2",children:["Page ",ee," of ",W]}),o.jsx("button",{onClick:()=>Re(F=>Math.min(W,F+1)),disabled:ee===W,className:"p-2 rounded-lg border border-white/10 hover:bg-white/5 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o.jsx(Rg,{className:"w-4 h-4 text-white"})})]})]})]}),oe.size>0&&o.jsx("div",{className:"sticky bottom-6 z-40 w-full flex justify-center pointer-events-none animate-slideUp mt-4",children:o.jsxs("div",{className:"bg-[#222] border border-white/10 shadow-2xl rounded-full px-5 py-2.5 flex items-center gap-4 backdrop-blur-xl pointer-events-auto",children:[o.jsxs("span",{className:"text-xs font-bold text-white whitespace-nowrap",children:[o.jsx("span",{className:"text-primary text-sm mr-1",children:oe.size})," selected"]}),o.jsx("div",{className:"h-4 w-px bg-white/10"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:()=>Fn("active"),disabled:O==="bulk",className:"px-4 py-1.5 bg-green-500 text-black hover:bg-green-400 rounded-full text-[10px] font-bold transition-all transform hover:scale-105 disabled:opacity-50 flex items-center gap-1.5 shadow-lg shadow-green-500/20",children:[o.jsx(Yn,{className:"w-3 h-3",strokeWidth:3}),"Activate"]}),o.jsxs("button",{onClick:()=>Fn("hidden"),disabled:O==="bulk",className:"px-4 py-1.5 bg-red-500 text-white hover:bg-red-600 rounded-full text-[10px] font-bold transition-all transform hover:scale-105 disabled:opacity-50 flex items-center gap-1.5 shadow-lg shadow-red-500/20",children:[o.jsx(an,{className:"w-3 h-3",strokeWidth:3}),"Hide"]})]})]})})]})})(),l==="ads"&&o.jsx(o.Fragment,{children:x.filter(v=>["pending","rejected"].includes(v.status)).length===0?o.jsx("div",{className:"text-center py-12 text-text-muted bg-surface rounded-xl border border-border",children:"No pending or rejected ad requests"}):o.jsx("div",{className:"bg-surface border border-border rounded-xl overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-[#1a1a1a] text-text-muted border-b border-border",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 font-medium",children:"Preview"}),o.jsx("th",{className:"px-4 py-2 font-medium",children:"Company"}),o.jsx("th",{className:"px-4 py-2 font-medium",children:"Contact"}),o.jsx("th",{className:"px-4 py-2 font-medium text-center",children:"Status"}),o.jsx("th",{className:"px-4 py-2 font-medium text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:x.filter(v=>["pending","rejected"].includes(v.status)).map(v=>o.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[o.jsx("td",{className:"px-4 py-2",children:o.jsx("div",{className:"w-32 h-16 bg-surface border border-border rounded-lg flex items-center justify-center overflow-hidden",children:v.image_url?o.jsx("img",{src:v.image_url,alt:v.company_name,className:"w-full h-full object-contain p-2"}):o.jsx("span",{className:"text-[10px] text-text-muted text-center px-2",children:v.text_en||"No Content"})})}),o.jsxs("td",{className:"px-4 py-2 font-bold text-white",children:[v.company_name,v.text_en&&o.jsx("span",{className:"block text-xs text-text-muted font-normal mt-1 max-w-[200px] truncate",children:v.text_en})]}),o.jsx("td",{className:"px-4 py-2 text-text-muted",children:v.email}),o.jsx("td",{className:"px-4 py-2 text-center",children:o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider ${v.status==="pending"?"bg-yellow-500/10 text-yellow-400 border border-yellow-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:v.status})}),o.jsx("td",{className:"px-4 py-2 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[v.status==="pending"&&o.jsx("button",{onClick:()=>xi(v),disabled:O===v.id,className:"px-3 py-1.5 bg-red-500/10 text-red-400 hover:bg-red-500/20 rounded-lg text-xs font-medium transition-colors disabled:opacity-50",children:"Decline"}),o.jsxs("button",{onClick:()=>cs(v),disabled:O===v.id,className:"px-3 py-1.5 bg-primary text-black hover:bg-primary-hover rounded-lg text-xs font-bold transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[O===v.id?o.jsx(Vt,{className:"w-3 h-3 animate-spin"}):o.jsx(Yn,{className:"w-3 h-3"}),v.status==="rejected"?"Re-Approve":"Approve"]})]})})]},v.id))})]})})})}),l==="live_ads"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:["all","active","inactive"].map(v=>{const H=v==="all"?x.filter(W=>["active","inactive"].includes(W.status)).length:x.filter(W=>W.status===v).length;return o.jsxs("button",{onClick:()=>Q(v),className:`px-3 py-1.5 rounded-lg text-xs font-medium capitalize transition-colors whitespace-nowrap ${le===v?"bg-white text-black":"bg-surface border border-border text-text-muted hover:text-white"}`,children:[v," ",o.jsxs("span",{className:"opacity-60 ml-0.5",children:["(",H,")"]})]},v)})}),x.filter(v=>["active","inactive"].includes(v.status)).length===0?o.jsx("div",{className:"text-center py-12 text-text-muted bg-surface rounded-xl border border-border",children:"No live ads found"}):o.jsx("div",{className:"bg-surface border border-border rounded-xl overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-[#1a1a1a] text-text-muted border-b border-border",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 font-medium",children:"Order"}),o.jsx("th",{className:"px-4 py-2 font-medium",children:"Preview"}),o.jsx("th",{className:"px-4 py-2 font-medium",children:"Company"}),o.jsx("th",{className:"px-4 py-2 font-medium",children:"Contact"}),o.jsx("th",{className:"px-4 py-2 font-medium text-center",children:"Status"}),o.jsx("th",{className:"px-4 py-2 font-medium text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:x.filter(v=>["active","inactive"].includes(v.status)).map((v,H)=>o.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[o.jsx("td",{className:"px-4 py-2 text-text-muted",children:v.status==="active"?o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("button",{onClick:()=>Na(v,-1),disabled:H===0,className:"p-1 hover:bg-white/10 rounded disabled:opacity-30",children:o.jsx(Za,{className:"w-3 h-3 rotate-0"})}),o.jsx("button",{onClick:()=>Na(v,1),disabled:H===x.filter(W=>["active","inactive"].includes(W.status)).length-1,className:"p-1 hover:bg-white/10 rounded disabled:opacity-30",children:o.jsx(Za,{className:"w-3 h-3 rotate-180"})})]}):o.jsx("span",{className:"text-xs",children:"#"})}),o.jsx("td",{className:"px-4 py-2",children:o.jsx("div",{className:"w-32 h-16 bg-surface border border-border rounded-lg flex items-center justify-center overflow-hidden",children:v.image_url?o.jsx("img",{src:v.image_url,alt:v.company_name,className:"w-full h-full object-contain p-2"}):o.jsx("span",{className:"text-[10px] text-text-muted text-center px-2",children:v.text_en||"No Content"})})}),o.jsxs("td",{className:"px-4 py-2 font-bold text-white",children:[v.company_name,v.text_en&&o.jsx("span",{className:"block text-xs text-text-muted font-normal mt-1 max-w-[200px] truncate",children:v.text_en})]}),o.jsx("td",{className:"px-4 py-2 text-text-muted",children:v.email}),o.jsx("td",{className:"px-4 py-2 text-center",children:o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider ${v.status==="active"?"bg-green-500/10 text-green-400 border border-green-500/20":"bg-gray-500/10 text-gray-400 border border-gray-500/20"}`,children:v.status})}),o.jsx("td",{className:"px-4 py-2 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>yn(v),className:"px-3 py-1.5 bg-white/5 text-white hover:bg-white/10 rounded-lg text-xs font-medium transition-colors",children:"Edit"}),o.jsx("button",{onClick:()=>cs(v),disabled:O===v.id,className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors disabled:opacity-50 ${v.status==="active"?"bg-red-500/10 text-red-400 hover:bg-red-500/20":"bg-green-500/10 text-green-400 hover:bg-green-500/20"}`,children:O===v.id?o.jsx(Vt,{className:"w-3 h-3 animate-spin"}):v.status==="active"?"Hide":"Activate"})]})})]},v.id))})]})})})]}),l==="logs"&&o.jsx("div",{className:"bg-surface border border-border rounded-xl overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-[#1a1a1a] text-text-muted border-b border-border",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 font-medium",children:"Admin"}),o.jsx("th",{className:"px-6 py-4 font-medium",children:"Activity"}),o.jsx("th",{className:"px-6 py-4 font-medium",children:"Item"}),o.jsx("th",{className:"px-6 py-4 font-medium",children:"Details"}),o.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Time"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:_.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-text-muted",children:"No logs found"})}):_.map(v=>o.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold text-xs",children:v.admin_email[0].toUpperCase()}),o.jsx("span",{className:"text-white text-sm",children:v.admin_email})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`inline-flex self-start items-center px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${v.action==="approve"?"bg-green-500/10 text-green-400 border border-green-500/20":v.action==="reject"||v.action==="delete"?"bg-red-500/10 text-red-400 border border-red-500/20":"bg-blue-500/10 text-blue-400 border border-blue-500/20"}`,children:v.action.replace(/_/g," ")}),o.jsxs("span",{className:"text-xs text-text-muted flex items-center gap-1.5",children:[v.target_type==="submission"?o.jsx(Jr,{className:"w-3 h-3"}):v.target_type==="fund"?o.jsx(Fr,{className:"w-3 h-3"}):o.jsx(Wr,{className:"w-3 h-3"}),v.target_type==="submission"?"Fund Request":v.target_type==="fund"?"Live Fund":"Ad Request"]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-white font-medium",children:v.details?.fund_name||v.details?.name||v.details?.company||"Unknown Item"}),v.details?.fund_manager&&o.jsx("span",{className:"text-xs text-text-muted",children:v.details.fund_manager})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[v.details?.new_status&&o.jsxs("span",{className:`text-xs font-medium ${v.details.new_status==="active"?"text-green-400":v.details.new_status==="rejected"?"text-red-400":v.details.new_status==="inactive"?"text-text-muted":"text-white"}`,children:["Status: ",v.details.new_status.charAt(0).toUpperCase()+v.details.new_status.slice(1)]}),v.action==="promote_fund"&&o.jsx("span",{className:"text-xs font-medium text-yellow-400",children:"Marked as Promoted"}),v.action==="unpromote_fund"&&o.jsx("span",{className:"text-xs font-medium text-text-muted",children:"Removed Promotion"}),!v.details?.fund_name&&!v.details?.name&&!v.details?.company&&!v.details?.new_status&&v.action!=="promote_fund"&&v.action!=="unpromote_fund"&&o.jsxs("span",{className:"text-xs text-text-muted font-mono bg-black/20 px-2 py-1 rounded",children:[JSON.stringify(v.details).slice(0,50),"..."]}),v.target_type==="submission"&&wi(v)&&o.jsx("button",{onClick:()=>Z({isOpen:!0,submission:wi(v)}),className:"text-xs text-primary hover:text-primary-hover underline underline-offset-4 whitespace-nowrap self-start",children:"View Request"})]})}),o.jsx("td",{className:"px-6 py-4 text-right text-text-muted whitespace-nowrap",children:bj(v.created_at)})]},v.id))})]})})})]},l)]}),Y.isOpen&&Y.type==="edit_fund"&&o.jsx("div",{id:"edit-fund-backdrop",className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fadeIn",onClick:Ct,children:o.jsxs("div",{id:"edit-fund-modal",className:"bg-surface border border-border rounded-xl w-full max-w-2xl p-6 shadow-2xl animate-sleekOpen max-h-[90vh] overflow-y-auto",onClick:v=>v.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-bold text-white",children:"Edit Fund Details"}),o.jsx("button",{onClick:Ct,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:o.jsx(an,{className:"w-5 h-5 text-text-muted"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-text-muted mb-1.5",children:"Fund Name (EN)"}),o.jsx("input",{type:"text",value:P?.name_en||"",onChange:v=>J(H=>({...H,name_en:v.target.value})),className:"w-full bg-black/20 border border-border rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-primary"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-text-muted mb-1.5",children:"Fund Manager (EN)"}),o.jsx("input",{type:"text",value:P?.manager_en||"",onChange:v=>J(H=>({...H,manager_en:v.target.value})),className:"w-full bg-black/20 border border-border rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-primary"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-text-muted mb-1.5",children:"Category"}),o.jsxs("div",{className:"relative",children:[o.jsx("select",{value:P?.category||"",onChange:v=>J(H=>({...H,category:v.target.value})),className:"w-full bg-black/20 border border-border rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-primary appearance-none",children:["Equity","Fixed Income","Balanced","Islamic","Money Market","Gold"].map(v=>o.jsx("option",{value:v,children:v},v))}),o.jsx(kc,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted pointer-events-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-text-muted mb-1.5",children:"Risk Level"}),o.jsxs("div",{className:"relative",children:[o.jsx("select",{value:P?.risk_level||"",onChange:v=>J(H=>({...H,risk_level:v.target.value})),className:"w-full bg-black/20 border border-border rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-primary appearance-none",children:["Low","Medium","High","Very High"].map(v=>o.jsx("option",{value:v,children:v},v))}),o.jsx(kc,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted pointer-events-none"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-text-muted mb-2",children:"Performance Returns (%)"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["return_1y","return_ytd","return_3y","return_5y"].map(v=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] text-text-muted mb-1 uppercase",children:v.replace("return_","").replace("_"," ")}),o.jsx("input",{type:"number",step:"0.01",value:P?.[v]??"",onChange:H=>J(W=>({...W,[v]:H.target.value?parseFloat(H.target.value):null})),className:"w-full bg-black/20 border border-border rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-primary"})]},v))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-text-muted mb-1.5",children:"Min Investment"}),o.jsx("input",{type:"number",value:P?.min_investment||"",onChange:v=>J(H=>({...H,min_investment:parseFloat(v.target.value)})),className:"w-full bg-black/20 border border-border rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-primary"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-text-muted mb-1.5",children:"Fees (%)"}),o.jsx("input",{type:"number",step:"0.01",value:P?.fees||"",onChange:v=>J(H=>({...H,fees:parseFloat(v.target.value)})),className:"w-full bg-black/20 border border-border rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-primary"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-text-muted mb-1.5",children:"Description (EN)"}),o.jsx("textarea",{rows:"3",value:P?.description_en||"",onChange:v=>J(H=>({...H,description_en:v.target.value})),className:"w-full bg-black/20 border border-border rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-primary resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-text-muted mb-1.5",children:"Strategy (EN)"}),o.jsx("textarea",{rows:"2",value:P?.strategy_en||"",onChange:v=>J(H=>({...H,strategy_en:v.target.value})),className:"w-full bg-black/20 border border-border rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-primary resize-none"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-border",children:[o.jsx("button",{onClick:Ct,className:"px-4 py-2 text-sm font-medium text-text-muted hover:text-white transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:co,disabled:O===P?.id,className:"px-6 py-2 bg-primary text-black rounded-lg text-sm font-bold hover:bg-primary-hover transition-colors disabled:opacity-50 flex items-center gap-2",children:[O===P?.id?o.jsx(Vt,{className:"w-4 h-4 animate-spin"}):null,"Save Changes"]})]})]})]})}),o.jsx(og,{isOpen:Y.isOpen&&!["edit_fund","edit_ad","approve","reject"].includes(Y.type),onClose:()=>te({isOpen:!1,type:null,data:null}),onConfirm:Y.onConfirm,title:Y.title,message:Y.message,type:Y.type,confirmText:Y.confirmText})]})},_j=()=>{const[i,a]=j.useState(!0),[r,l]=j.useState(!1);return j.useEffect(()=>{(async()=>{try{const{data:{user:d}}=await ce.auth.getUser();if(!d){l(!1),a(!1);return}const{data:f,error:p}=await ce.from("profiles").select("role").eq("id",d.id).single();p||f?.role!=="admin"?l(!1):l(!0)}catch(d){console.error("Error checking admin status:",d),l(!1)}finally{a(!1)}})()},[]),i?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx(Vt,{className:"w-8 h-8 animate-spin text-primary"})}):r?o.jsx(xg,{}):o.jsx(Qx,{to:"/admin/login",replace:!0})},jj=({isCollapsed:i,toggleSidebar:a,counts:r})=>{const l=gi(),u=async()=>{await ce.auth.signOut(),l("/admin/login")},d=[{path:"/admin/dashboard",icon:Cg,label:"Overview"},{path:"/admin/fund-requests",icon:Jr,label:"Fund Requests",count:r?.fundRequests,badgeColor:"bg-yellow-500/20 text-yellow-400"},{path:"/admin/funds",icon:Fr,label:"Live Funds",count:r?.liveFunds,badgeColor:"bg-green-500/20 text-green-400"},{path:"/admin/ad-requests",icon:Wr,label:"Ad Requests",count:r?.adRequests,badgeColor:"bg-yellow-500/20 text-yellow-400"},{path:"/admin/ads",icon:Mg,label:"Live Ads",count:r?.liveAds,badgeColor:"bg-green-500/20 text-green-400"},{path:"/admin/logs",icon:Ag,label:"Audit Logs"}];return o.jsxs("div",{className:`fixed left-0 top-0 h-screen bg-[#111] border-r border-white/10 transition-all duration-300 z-50 flex flex-col ${i?"w-16":"w-52"}`,children:[o.jsxs("div",{className:`h-14 flex items-center border-b border-white/5 ${i?"justify-center px-0":"px-4"}`,children:[o.jsx("div",{className:"w-7 h-7 bg-primary/10 rounded-lg flex items-center justify-center text-primary font-bold text-base shrink-0",children:"F"}),o.jsx("span",{className:`font-display font-bold text-white text-base transition-opacity duration-200 ${i?"opacity-0 w-0 overflow-hidden":"opacity-100 ml-3"}`,children:"FundsRank"})]}),o.jsx("nav",{className:"flex-1 py-3 flex flex-col gap-1 px-2",children:d.map(f=>o.jsx(Ng,{to:f.path,className:({isActive:p})=>`
              flex items-center px-3 py-2 rounded-lg transition-all duration-200 group relative
              ${p?"bg-primary text-black shadow-[0_0_20px_rgba(234,179,8,0.2)]":"text-text-muted hover:bg-white/5 hover:text-white"}
              ${i?"justify-center":""}
            `,children:({isActive:p})=>o.jsxs(o.Fragment,{children:[o.jsx(f.icon,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{className:`text-xs font-medium whitespace-nowrap transition-all duration-200 flex-1 ${i?"opacity-0 w-0 overflow-hidden":"opacity-100 ml-3"}`,children:f.label}),f.count!==void 0&&f.count>0&&o.jsx("span",{className:`
                    text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-2 transition-all duration-200
                    ${p?"bg-black/20 text-black":f.badgeColor}
                    ${i?"absolute top-1 right-1 w-2 h-2 p-0 rounded-full min-w-0":""}
                  `,children:!i&&f.count}),i&&o.jsxs("div",{className:"absolute left-full ml-4 px-3 py-1.5 bg-[#1a1a1a] text-white text-xs font-medium rounded-md border border-white/10 opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 transition-all duration-200 shadow-xl translate-x-2 group-hover:translate-x-0 flex items-center gap-2",children:[f.label,f.count!==void 0&&f.count>0&&o.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded-full ${f.badgeColor}`,children:f.count})]})]})},f.path))}),o.jsxs("div",{className:"p-2 border-t border-white/5 flex flex-col gap-1",children:[o.jsxs("button",{onClick:a,className:`w-full flex items-center px-3 py-2 rounded-lg text-text-muted hover:bg-white/5 hover:text-white transition-all duration-200 group ${i?"justify-center":""}`,children:[i?o.jsx(Rg,{className:"w-4 h-4 shrink-0"}):o.jsx(Og,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{className:`text-xs font-medium whitespace-nowrap transition-all duration-200 ${i?"opacity-0 w-0 overflow-hidden":"opacity-100 ml-3"}`,children:"Collapse"})]}),o.jsxs("button",{onClick:u,className:`w-full flex items-center px-3 py-2 rounded-lg text-red-400 hover:bg-red-500/10 transition-all duration-200 group ${i?"justify-center":""}`,children:[o.jsx(Dg,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{className:`text-xs font-medium whitespace-nowrap transition-all duration-200 ${i?"opacity-0 w-0 overflow-hidden":"opacity-100 ml-3"}`,children:"Logout"})]})]})]})},Sj=()=>{const[i,a]=j.useState(!1),[r,l]=j.useState({fundRequests:0,adRequests:0,liveFunds:0,liveAds:0});j.useEffect(()=>{u();const d=ce.channel("admin_counts").on("postgres_changes",{event:"*",schema:"public",table:"fund_submissions"},()=>u()).on("postgres_changes",{event:"*",schema:"public",table:"ads"},()=>u()).on("postgres_changes",{event:"*",schema:"public",table:"funds"},()=>u()).subscribe();return()=>{ce.removeChannel(d)}},[]);const u=async()=>{try{const[{count:d},{count:f},{count:p},{count:m}]=await Promise.all([ce.from("fund_submissions").select("*",{count:"exact",head:!0}).eq("status","pending"),ce.from("ads").select("*",{count:"exact",head:!0}).eq("status","pending"),ce.from("funds").select("*",{count:"exact",head:!0}).eq("status","active"),ce.from("ads").select("*",{count:"exact",head:!0}).eq("status","active")]);l({fundRequests:d||0,adRequests:f||0,liveFunds:p||0,liveAds:m||0})}catch(d){console.error("Error fetching counts:",d)}};return o.jsxs("div",{className:"min-h-screen bg-background flex",children:[o.jsx(jj,{isCollapsed:i,toggleSidebar:()=>a(!i),counts:r}),o.jsx("main",{className:`flex-1 transition-all duration-300 w-full ${i?"ml-16":"ml-52"}`,children:o.jsx("div",{className:"p-8 max-w-[1600px] mx-auto",children:o.jsx(xg,{})})})]})};function Nj(){return o.jsxs(Jx,{children:[o.jsx(nn,{path:"/",element:o.jsx(vj,{})}),o.jsx(nn,{path:"/admin/login",element:o.jsx(xj,{})}),o.jsx(nn,{element:o.jsx(_j,{}),children:o.jsxs(nn,{element:o.jsx(Sj,{}),children:[o.jsx(nn,{path:"/admin",element:o.jsx(Ka,{initialTab:"overview"})}),o.jsx(nn,{path:"/admin/dashboard",element:o.jsx(Ka,{initialTab:"overview"})}),o.jsx(nn,{path:"/admin/fund-requests",element:o.jsx(Ka,{initialTab:"submissions"})}),o.jsx(nn,{path:"/admin/funds",element:o.jsx(Ka,{initialTab:"funds"})}),o.jsx(nn,{path:"/admin/ad-requests",element:o.jsx(Ka,{initialTab:"ads"})}),o.jsx(nn,{path:"/admin/ads",element:o.jsx(Ka,{initialTab:"live_ads"})}),o.jsx(nn,{path:"/admin/logs",element:o.jsx(Ka,{initialTab:"logs"})})]})})]})}ax.createRoot(document.getElementById("root")).render(o.jsx(j.StrictMode,{children:o.jsx(bb,{basename:"/FundsRanking/",children:o.jsx(lj,{children:o.jsx(uj,{children:o.jsx(Nj,{})})})})}));
